library(htmlwidgets)
library(janitor)
library(jsonlite)
library(knitr)
library(leaflet)

library(htmlwidgets)
appendContent
list(`package:htmlwidgets` = function (x, ...) 
{
  x$append <- c(x$append, list(...))
  x
}, function (x, ...) 
{
  x$append <- c(x$append, list(...))
  x
})
c("package:htmlwidgets", "namespace:htmlwidgets")
c(TRUE, FALSE)
c(FALSE, TRUE)
createWidget
list(`package:htmlwidgets` = function (name, x, width = NULL, height = NULL, sizingPolicy = htmlwidgets::sizingPolicy(), package = name, dependencies = NULL, elementId = NULL, preRenderHook = NULL) 
{
  if (inherits(dependencies, "html_dependency")) 
    dependencies <- list(dependencies)
  structure(list(x = x, width = width, height = height, sizingPolicy = sizingPolicy, dependencies = dependencies, elementId = elementId, preRenderHook = preRenderHook, jsHooks = list()), class = c(name, if (sizingPolicy$viewer$suppress) "suppress_viewer", "htmlwidget"), package = package)
}, function (name, x, width = NULL, height = NULL, sizingPolicy = htmlwidgets::sizingPolicy(), package = name, dependencies = NULL, elementId = NULL, preRenderHook = NULL) 
{
  if (inherits(dependencies, "html_dependency")) 
    dependencies <- list(dependencies)
  structure(list(x = x, width = width, height = height, sizingPolicy = sizingPolicy, dependencies = dependencies, elementId = elementId, preRenderHook = preRenderHook, jsHooks = list()), class = c(name, if (sizingPolicy$viewer$suppress) "suppress_viewer", "htmlwidget"), package = package)
})
c("package:htmlwidgets", "namespace:htmlwidgets")
c(TRUE, FALSE)
c(FALSE, TRUE)
getDependency
list(`package:htmlwidgets` = function (name, package = name) 
{
  config = sprintf("htmlwidgets/%s.yaml", name)
  jsfile = sprintf("htmlwidgets/%s.js", name)
  widgetDep <- list()
  if (file.exists(system.file(config, package = package))) {
    config = yaml::yaml.load_file(system.file(config, package = package))
    widgetDep <- lapply(config$dependencies, function(l) {
      l$package = package
      do.call(htmlDependency, l)
    })
  }
  bindingDep <- if (file.exists(system.file(jsfile, package = package))) {
    htmlDependency(name = paste0(name, "-binding"), version = packageVersion(package), src = "htmlwidgets", package = package, script = basename(jsfile), all_files = FALSE)
  }
  c(list(htmlDependency(name = "htmlwidgets", version = packageVersion("htmlwidgets"), src = "www", package = "htmlwidgets", script = "htmlwidgets.js")), widgetDep, list(bindingDep))
}, function (name, package = name) 
{
  config = sprintf("htmlwidgets/%s.yaml", name)
  jsfile = sprintf("htmlwidgets/%s.js", name)
  widgetDep <- list()
  if (file.exists(system.file(config, package = package))) {
    config = yaml::yaml.load_file(system.file(config, package = package))
    widgetDep <- lapply(config$dependencies, function(l) {
      l$package = package
      do.call(htmlDependency, l)
    })
  }
  bindingDep <- if (file.exists(system.file(jsfile, package = package))) {
    htmlDependency(name = paste0(name, "-binding"), version = packageVersion(package), src = "htmlwidgets", package = package, script = basename(jsfile), all_files = FALSE)
  }
  c(list(htmlDependency(name = "htmlwidgets", version = packageVersion("htmlwidgets"), src = "www", package = "htmlwidgets", script = "htmlwidgets.js")), widgetDep, list(bindingDep))
})
c("package:htmlwidgets", "namespace:htmlwidgets")
c(TRUE, FALSE)
c(FALSE, TRUE)
JS
list(`package:leaflet` = function (...) 
{
  x <- c(...)
  if (is.null(x)) 
    return()
  if (!is.character(x)) 
    stop("The arguments for JS() must be a character vector")
  x <- paste(x, collapse = "\n")
  structure(x, class = unique(c("JS_EVAL", oldClass(x))))
}, `package:htmlwidgets` = function (...) 
{
  x <- c(...)
  if (is.null(x)) 
    return()
  if (!is.character(x)) 
    stop("The arguments for JS() must be a character vector")
  x <- paste(x, collapse = "\n")
  structure(x, class = unique(c("JS_EVAL", oldClass(x))))
}, function (...) 
{
  x <- c(...)
  if (is.null(x)) 
    return()
  if (!is.character(x)) 
    stop("The arguments for JS() must be a character vector")
  x <- paste(x, collapse = "\n")
  structure(x, class = unique(c("JS_EVAL", oldClass(x))))
})
c("package:leaflet", "package:htmlwidgets", "namespace:htmlwidgets")
c(TRUE, TRUE, FALSE)
c(FALSE, TRUE, TRUE)
JSEvals
list(`package:htmlwidgets` = function (list) 
{
  evals <- names(which(unlist(shouldEval(list)))) %||% list()
  I(evals)
}, function (list) 
{
  evals <- names(which(unlist(shouldEval(list)))) %||% list()
  I(evals)
})
c("package:htmlwidgets", "namespace:htmlwidgets")
c(TRUE, FALSE)
c(FALSE, TRUE)
onRender
list(`package:htmlwidgets` = function (x, jsCode, data = NULL) 
{
  addHook(x, "render", jsCode, data)
}, function (x, jsCode, data = NULL) 
{
  addHook(x, "render", jsCode, data)
})
c("package:htmlwidgets", "namespace:htmlwidgets")
c(TRUE, FALSE)
c(FALSE, TRUE)
onStaticRenderComplete
list(`package:htmlwidgets` = function (jsCode) 
{
  tags$script("HTMLWidgets.addPostRenderHandler(function() {", HTML(paste0(jsCode, collapse = "\n")), "});")
}, function (jsCode) 
{
  tags$script("HTMLWidgets.addPostRenderHandler(function() {", HTML(paste0(jsCode, collapse = "\n")), "});")
})
c("package:htmlwidgets", "namespace:htmlwidgets")
c(TRUE, FALSE)
c(FALSE, TRUE)
prependContent
list(`package:htmlwidgets` = function (x, ...) 
{
  x$prepend <- c(x$prepend, list(...))
  x
}, function (x, ...) 
{
  x$prepend <- c(x$prepend, list(...))
  x
})
c("package:htmlwidgets", "namespace:htmlwidgets")
c(TRUE, FALSE)
c(FALSE, TRUE)
saveWidget
list(`package:htmlwidgets` = function (widget, file, selfcontained = TRUE, libdir = NULL, background = "white", title = class(widget)[[1]], knitrOptions = list()) 
{
  if (grepl("^#", background, perl = TRUE)) {
    bgcol <- grDevices::col2rgb(background, alpha = TRUE)
    background <- sprintf("rgba(%d,%d,%d,%f)", bgcol[1, 1], bgcol[2, 1], bgcol[3, 1], bgcol[4, 1]/255)
  }
  html <- toHTML(widget, standalone = TRUE, knitrOptions = knitrOptions)
  if (is.null(libdir)) {
    libdir <- paste(tools::file_path_sans_ext(basename(file)), "_files", sep = "")
  }
  if (selfcontained) {
    pandoc_save_markdown(html, file = file, libdir = libdir, background = background, title = title)
    if (!pandoc_available()) {
      stop("Saving a widget with selfcontained = TRUE requires pandoc. For details see:\n", "https://github.com/rstudio/rmarkdown/blob/master/PANDOC.md")
    }
    pandoc_self_contained_html(file, file)
    unlink(libdir, recursive = TRUE)
  }
  else {
    html <- tagList(tags$head(tags$title(title)), html)
    htmltools::save_html(html, file = file, libdir = libdir, background = background)
  }
  invisible(NULL)
}, function (widget, file, selfcontained = TRUE, libdir = NULL, background = "white", title = class(widget)[[1]], knitrOptions = list()) 
{
  if (grepl("^#", background, perl = TRUE)) {
    bgcol <- grDevices::col2rgb(background, alpha = TRUE)
    background <- sprintf("rgba(%d,%d,%d,%f)", bgcol[1, 1], bgcol[2, 1], bgcol[3, 1], bgcol[4, 1]/255)
  }
  html <- toHTML(widget, standalone = TRUE, knitrOptions = knitrOptions)
  if (is.null(libdir)) {
    libdir <- paste(tools::file_path_sans_ext(basename(file)), "_files", sep = "")
  }
  if (selfcontained) {
    pandoc_save_markdown(html, file = file, libdir = libdir, background = background, title = title)
    if (!pandoc_available()) {
      stop("Saving a widget with selfcontained = TRUE requires pandoc. For details see:\n", "https://github.com/rstudio/rmarkdown/blob/master/PANDOC.md")
    }
    pandoc_self_contained_html(file, file)
    unlink(libdir, recursive = TRUE)
  }
  else {
    html <- tagList(tags$head(tags$title(title)), html)
    htmltools::save_html(html, file = file, libdir = libdir, background = background)
  }
  invisible(NULL)
})
c("package:htmlwidgets", "namespace:htmlwidgets")
c(TRUE, FALSE)
c(FALSE, TRUE)
scaffoldWidget
list(`package:htmlwidgets` = function (name, bowerPkg = NULL, edit = interactive()) 
{
  if (!file.exists("DESCRIPTION")) {
    stop("You need to create a package to house your widget first!", call. = F)
  }
  if (!file.exists("inst")) {
    dir.create("inst")
  }
  package = read.dcf("DESCRIPTION")[[1, "Package"]]
  addWidgetConstructor(name, package, edit)
  addWidgetYAML(name, bowerPkg, edit)
  addWidgetJS(name, edit)
}, function (name, bowerPkg = NULL, edit = interactive()) 
{
  if (!file.exists("DESCRIPTION")) {
    stop("You need to create a package to house your widget first!", call. = F)
  }
  if (!file.exists("inst")) {
    dir.create("inst")
  }
  package = read.dcf("DESCRIPTION")[[1, "Package"]]
  addWidgetConstructor(name, package, edit)
  addWidgetYAML(name, bowerPkg, edit)
  addWidgetJS(name, edit)
})
c("package:htmlwidgets", "namespace:htmlwidgets")
c(TRUE, FALSE)
c(FALSE, TRUE)
setWidgetIdSeed
list(`package:htmlwidgets` = function (seed, kind = NULL, normal.kind = NULL) 
{
  sysSeed <- .GlobalEnv$.Random.seed
  on.exit({
    .globals$idSeed <- .GlobalEnv$.Random.seed
    if (!is.null(sysSeed)) .GlobalEnv$.Random.seed <- sysSeed else rm(".Random.seed", envir = .GlobalEnv)
  })
  set.seed(seed, kind = kind, normal.kind = normal.kind)
}, function (seed, kind = NULL, normal.kind = NULL) 
{
  sysSeed <- .GlobalEnv$.Random.seed
  on.exit({
    .globals$idSeed <- .GlobalEnv$.Random.seed
    if (!is.null(sysSeed)) .GlobalEnv$.Random.seed <- sysSeed else rm(".Random.seed", envir = .GlobalEnv)
  })
  set.seed(seed, kind = kind, normal.kind = normal.kind)
})
c("package:htmlwidgets", "namespace:htmlwidgets")
c(TRUE, FALSE)
c(FALSE, TRUE)
shinyRenderWidget
list(`package:htmlwidgets` = function (expr, outputFunction, env, quoted, cacheHint = "auto") 
{
  checkShinyVersion()
  shiny::installExprFunction(expr, "func", env, quoted)
  renderWidget <- function(instance) {
    if (!is.null(instance$elementId)) {
      warning("Ignoring explicitly provided widget ID \"", instance$elementId, "\"; Shiny doesn't use them")
    }
    if (!is.null(instance$prepend)) {
      warning("Ignoring prepended content; prependContent can't be used in a ", "Shiny render call")
    }
    if (!is.null(instance$append)) {
      warning("Ignoring appended content; appendContent can't be used in a ", "Shiny render call")
    }
    deps <- .subset2(instance, "dependencies")
    deps_payload <- lapply(htmltools::resolveDependencies(deps), shiny::createWebDependency)
    payload <- c(createPayload(instance), list(deps = deps_payload))
    payload <- toJSON(payload)
    attr(payload, "deps") <- deps
    payload
  }
  if (all(c("cacheHint", "cacheReadHook") %in% names(formals(shiny::createRenderFunction)))) {
    shiny::createRenderFunction(func, function(instance, session, name, ...) {
      renderWidget(instance)
    }, outputFunction, NULL, cacheHint = cacheHint, cacheReadHook = function(value) {
      deps <- attr(value, "deps")
      lapply(htmltools::resolveDependencies(deps), shiny::createWebDependency)
      value
    })
  }
  else {
    shiny::createRenderFunction(func, function(instance, session, name, ...) {
      renderWidget(instance)
    }, outputFunction, NULL)
  }
}, function (expr, outputFunction, env, quoted, cacheHint = "auto") 
{
  checkShinyVersion()
  shiny::installExprFunction(expr, "func", env, quoted)
  renderWidget <- function(instance) {
    if (!is.null(instance$elementId)) {
      warning("Ignoring explicitly provided widget ID \"", instance$elementId, "\"; Shiny doesn't use them")
    }
    if (!is.null(instance$prepend)) {
      warning("Ignoring prepended content; prependContent can't be used in a ", "Shiny render call")
    }
    if (!is.null(instance$append)) {
      warning("Ignoring appended content; appendContent can't be used in a ", "Shiny render call")
    }
    deps <- .subset2(instance, "dependencies")
    deps_payload <- lapply(htmltools::resolveDependencies(deps), shiny::createWebDependency)
    payload <- c(createPayload(instance), list(deps = deps_payload))
    payload <- toJSON(payload)
    attr(payload, "deps") <- deps
    payload
  }
  if (all(c("cacheHint", "cacheReadHook") %in% names(formals(shiny::createRenderFunction)))) {
    shiny::createRenderFunction(func, function(instance, session, name, ...) {
      renderWidget(instance)
    }, outputFunction, NULL, cacheHint = cacheHint, cacheReadHook = function(value) {
      deps <- attr(value, "deps")
      lapply(htmltools::resolveDependencies(deps), shiny::createWebDependency)
      value
    })
  }
  else {
    shiny::createRenderFunction(func, function(instance, session, name, ...) {
      renderWidget(instance)
    }, outputFunction, NULL)
  }
})
c("package:htmlwidgets", "namespace:htmlwidgets")
c(TRUE, FALSE)
c(FALSE, TRUE)
shinyWidgetOutput
list(`package:htmlwidgets` = function (outputId, name, width, height, package = name, inline = FALSE, reportSize = FALSE, reportTheme = FALSE) 
{
  checkShinyVersion()
  if (reportTheme && nzchar(system.file(package = "shiny")) && packageVersion("shiny") < "1.4.0.9003") {
    message("`reportTheme = TRUE` requires shiny v.1.4.0.9003 or higher. Consider upgrading shiny.")
  }
  html <- htmltools::tagList(widget_html(name, package, id = outputId, class = paste0(name, " html-widget html-widget-output", if (reportSize) 
    " shiny-report-size", if (reportTheme) 
      " shiny-report-theme"), style = sprintf("width:%s; height:%s; %s", htmltools::validateCssUnit(width), htmltools::validateCssUnit(height), if (inline) 
        "display: inline-block;"
        else ""), width = width, height = height))
  dependencies = widget_dependencies(name, package)
  htmltools::attachDependencies(html, dependencies)
}, function (outputId, name, width, height, package = name, inline = FALSE, reportSize = FALSE, reportTheme = FALSE) 
{
  checkShinyVersion()
  if (reportTheme && nzchar(system.file(package = "shiny")) && packageVersion("shiny") < "1.4.0.9003") {
    message("`reportTheme = TRUE` requires shiny v.1.4.0.9003 or higher. Consider upgrading shiny.")
  }
  html <- htmltools::tagList(widget_html(name, package, id = outputId, class = paste0(name, " html-widget html-widget-output", if (reportSize) 
    " shiny-report-size", if (reportTheme) 
      " shiny-report-theme"), style = sprintf("width:%s; height:%s; %s", htmltools::validateCssUnit(width), htmltools::validateCssUnit(height), if (inline) 
        "display: inline-block;"
        else ""), width = width, height = height))
  dependencies = widget_dependencies(name, package)
  htmltools::attachDependencies(html, dependencies)
})
c("package:htmlwidgets", "namespace:htmlwidgets")
c(TRUE, FALSE)
c(FALSE, TRUE)
sizingPolicy
list(`package:htmlwidgets` = function (defaultWidth = NULL, defaultHeight = NULL, padding = NULL, viewer.defaultWidth = NULL, viewer.defaultHeight = NULL, viewer.padding = NULL, viewer.fill = TRUE, viewer.suppress = FALSE, viewer.paneHeight = NULL, browser.defaultWidth = NULL, browser.defaultHeight = NULL, browser.padding = NULL, browser.fill = FALSE, browser.external = FALSE, knitr.defaultWidth = NULL, knitr.defaultHeight = NULL, knitr.figure = TRUE) 
{
  list(defaultWidth = defaultWidth, defaultHeight = defaultHeight, padding = padding, viewer = list(defaultWidth = viewer.defaultWidth, defaultHeight = viewer.defaultHeight, padding = viewer.padding, fill = viewer.fill, suppress = viewer.suppress, paneHeight = viewer.paneHeight), browser = list(defaultWidth = browser.defaultWidth, defaultHeight = browser.defaultHeight, padding = browser.padding, fill = browser.fill, external = browser.external), knitr = list(defaultWidth = knitr.defaultWidth, defaultHeight = knitr.defaultHeight, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                               figure = knitr.figure))
}, function (defaultWidth = NULL, defaultHeight = NULL, padding = NULL, viewer.defaultWidth = NULL, viewer.defaultHeight = NULL, viewer.padding = NULL, viewer.fill = TRUE, viewer.suppress = FALSE, viewer.paneHeight = NULL, browser.defaultWidth = NULL, browser.defaultHeight = NULL, browser.padding = NULL, browser.fill = FALSE, browser.external = FALSE, knitr.defaultWidth = NULL, knitr.defaultHeight = NULL, knitr.figure = TRUE) 
{
  list(defaultWidth = defaultWidth, defaultHeight = defaultHeight, padding = padding, viewer = list(defaultWidth = viewer.defaultWidth, defaultHeight = viewer.defaultHeight, padding = viewer.padding, fill = viewer.fill, suppress = viewer.suppress, paneHeight = viewer.paneHeight), browser = list(defaultWidth = browser.defaultWidth, defaultHeight = browser.defaultHeight, padding = browser.padding, fill = browser.fill, external = browser.external), knitr = list(defaultWidth = knitr.defaultWidth, defaultHeight = knitr.defaultHeight, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                               figure = knitr.figure))
})
c("package:htmlwidgets", "namespace:htmlwidgets")
c(TRUE, FALSE)
c(FALSE, TRUE)


################################################################################################
library(janitor)
%>%
  list(`package:leaflet` = function (lhs, rhs) 
  {
    lhs <- substitute(lhs)
    rhs <- substitute(rhs)
    kind <- 1
    env <- parent.frame()
    lazy <- TRUE
    .External2(magrittr_pipe)
  }, `package:janitor` = function (lhs, rhs) 
  {
    lhs <- substitute(lhs)
    rhs <- substitute(rhs)
    kind <- 1
    env <- parent.frame()
    lazy <- TRUE
    .External2(magrittr_pipe)
  }, function (lhs, rhs) 
  {
    lhs <- substitute(lhs)
    rhs <- substitute(rhs)
    kind <- 1
    env <- parent.frame()
    lazy <- TRUE
    .External2(magrittr_pipe)
  })
c("package:leaflet", "package:janitor", "namespace:magrittr")
c(TRUE, TRUE, FALSE)
c(FALSE, TRUE, TRUE)
add_totals_col
list(`package:janitor` = function (dat, na.rm = TRUE) 
{
  lifecycle::deprecate_stop(when = "2.0.0", what = "janitor::add_totals_cols()", with = "adorn_totals()", details = "See the adorn_* functions for formatting a tabyl or data.frame: https://cran.r-project.org/web/packages/janitor/vignettes/tabyls.html")
}, function (dat, na.rm = TRUE) 
{
  lifecycle::deprecate_stop(when = "2.0.0", what = "janitor::add_totals_cols()", with = "adorn_totals()", details = "See the adorn_* functions for formatting a tabyl or data.frame: https://cran.r-project.org/web/packages/janitor/vignettes/tabyls.html")
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
add_totals_row
list(`package:janitor` = function (dat, fill = "-", na.rm = TRUE) 
{
  lifecycle::deprecate_stop(when = "2.0.0", what = "janitor::add_totals_row()", with = "adorn_totals()", details = "See the adorn_* functions for formatting a tabyl or data.frame: https://cran.r-project.org/web/packages/janitor/vignettes/tabyls.html")
}, function (dat, fill = "-", na.rm = TRUE) 
{
  lifecycle::deprecate_stop(when = "2.0.0", what = "janitor::add_totals_row()", with = "adorn_totals()", details = "See the adorn_* functions for formatting a tabyl or data.frame: https://cran.r-project.org/web/packages/janitor/vignettes/tabyls.html")
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
adorn_crosstab
list(`package:janitor` = function (dat, denom = "row", show_n = TRUE, digits = 1, show_totals = FALSE, rounding = "half to even") 
{
  lifecycle::deprecate_stop(when = "2.0.0", what = "janitor::adorn_crosstab()", with = "tabyl()", details = "See the adorn_* functions for formatting a tabyl: https://cran.r-project.org/web/packages/janitor/vignettes/tabyls.html")
}, function (dat, denom = "row", show_n = TRUE, digits = 1, show_totals = FALSE, rounding = "half to even") 
{
  lifecycle::deprecate_stop(when = "2.0.0", what = "janitor::adorn_crosstab()", with = "tabyl()", details = "See the adorn_* functions for formatting a tabyl: https://cran.r-project.org/web/packages/janitor/vignettes/tabyls.html")
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
adorn_ns
list(`package:janitor` = function (dat, position = "rear", ns = attr(dat, "core"), ...) 
{
  if (is.list(dat) && !is.data.frame(dat)) {
    purrr::map(dat, adorn_ns, position)
  }
  else {
    ns_provided <- !missing(ns)
    if (!is.data.frame(dat)) {
      stop("adorn_ns() must be called on a data.frame or list of data.frames")
    }
    if (!position %in% c("rear", "front")) {
      stop("\"position\" must be one of \"front\" or \"rear\"")
    }
    if (is.null(ns)) {
      stop("argument \"ns\" cannot be null; if not calling adorn_ns() on a data.frame of class \"tabyl\", pass your own value for ns")
    }
    if (!is.data.frame(ns)) {
      stop("if supplying a value to the ns argument, it must be of class data.frame")
    }
    if ("one_way" %in% attr(dat, "tabyl_type")) {
      warning("adorn_ns() is meant to be called on a two_way tabyl; consider combining columns of a one_way tabyl with tidyr::unite()")
    }
    attrs <- attributes(dat)
    custom_ns_supplied <- !(identical(ns, attr(dat, "core")))
    if (custom_ns_supplied & !identical(dim(ns), dim(dat))) {
      stop("if supplying your own data.frame of Ns to append, its dimensions must match those of the data.frame in the \"dat\" argument")
    }
    if (!custom_ns_supplied) {
      if (!is.null(attr(dat, "totals"))) {
        ns <- adorn_totals(ns, attr(dat, "totals"))
      }
    }
    if (position == "rear") {
      result <- paste_matrices(dat, ns %>% dplyr::mutate_at(dplyr::vars(-dplyr::group_cols()), as.character) %>% dplyr::mutate_at(dplyr::vars(-dplyr::group_cols()), wrap_parens) %>% dplyr::mutate_at(dplyr::vars(-dplyr::group_cols()), standardize_col_width))
    }
    else if (position == "front") {
      result <- paste_matrices(ns, dat %>% dplyr::mutate_at(dplyr::vars(-dplyr::group_cols()), as.character) %>% dplyr::mutate_at(dplyr::vars(-dplyr::group_cols()), wrap_parens) %>% dplyr::mutate_at(dplyr::vars(-dplyr::group_cols()), standardize_col_width))
    }
    attributes(result) <- attrs
    if (custom_ns_supplied) {
      dont_adorn <- 1
    }
    else if (rlang::dots_n(...) == 0) {
      cols_to_adorn <- which(vapply(ns, is.numeric, logical(1)))
      dont_adorn <- setdiff(1:ncol(dat), cols_to_adorn)
      dont_adorn <- unique(c(1, dont_adorn))
    }
    else {
      expr <- rlang::expr(c(...))
      cols_to_adorn <- tidyselect::eval_select(expr, data = dat)
      dont_adorn <- setdiff(1:ncol(dat), cols_to_adorn)
    }
    for (i in dont_adorn) {
      result[[i]] <- dat[[i]]
    }
    result
  }
}, function (dat, position = "rear", ns = attr(dat, "core"), ...) 
{
  if (is.list(dat) && !is.data.frame(dat)) {
    purrr::map(dat, adorn_ns, position)
  }
  else {
    ns_provided <- !missing(ns)
    if (!is.data.frame(dat)) {
      stop("adorn_ns() must be called on a data.frame or list of data.frames")
    }
    if (!position %in% c("rear", "front")) {
      stop("\"position\" must be one of \"front\" or \"rear\"")
    }
    if (is.null(ns)) {
      stop("argument \"ns\" cannot be null; if not calling adorn_ns() on a data.frame of class \"tabyl\", pass your own value for ns")
    }
    if (!is.data.frame(ns)) {
      stop("if supplying a value to the ns argument, it must be of class data.frame")
    }
    if ("one_way" %in% attr(dat, "tabyl_type")) {
      warning("adorn_ns() is meant to be called on a two_way tabyl; consider combining columns of a one_way tabyl with tidyr::unite()")
    }
    attrs <- attributes(dat)
    custom_ns_supplied <- !(identical(ns, attr(dat, "core")))
    if (custom_ns_supplied & !identical(dim(ns), dim(dat))) {
      stop("if supplying your own data.frame of Ns to append, its dimensions must match those of the data.frame in the \"dat\" argument")
    }
    if (!custom_ns_supplied) {
      if (!is.null(attr(dat, "totals"))) {
        ns <- adorn_totals(ns, attr(dat, "totals"))
      }
    }
    if (position == "rear") {
      result <- paste_matrices(dat, ns %>% dplyr::mutate_at(dplyr::vars(-dplyr::group_cols()), as.character) %>% dplyr::mutate_at(dplyr::vars(-dplyr::group_cols()), wrap_parens) %>% dplyr::mutate_at(dplyr::vars(-dplyr::group_cols()), standardize_col_width))
    }
    else if (position == "front") {
      result <- paste_matrices(ns, dat %>% dplyr::mutate_at(dplyr::vars(-dplyr::group_cols()), as.character) %>% dplyr::mutate_at(dplyr::vars(-dplyr::group_cols()), wrap_parens) %>% dplyr::mutate_at(dplyr::vars(-dplyr::group_cols()), standardize_col_width))
    }
    attributes(result) <- attrs
    if (custom_ns_supplied) {
      dont_adorn <- 1
    }
    else if (rlang::dots_n(...) == 0) {
      cols_to_adorn <- which(vapply(ns, is.numeric, logical(1)))
      dont_adorn <- setdiff(1:ncol(dat), cols_to_adorn)
      dont_adorn <- unique(c(1, dont_adorn))
    }
    else {
      expr <- rlang::expr(c(...))
      cols_to_adorn <- tidyselect::eval_select(expr, data = dat)
      dont_adorn <- setdiff(1:ncol(dat), cols_to_adorn)
    }
    for (i in dont_adorn) {
      result[[i]] <- dat[[i]]
    }
    result
  }
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
adorn_pct_formatting
list(`package:janitor` = function (dat, digits = 1, rounding = "half to even", affix_sign = TRUE, ...) 
{
  if (is.list(dat) && !is.data.frame(dat)) {
    purrr::map(dat, adorn_pct_formatting, digits, rounding, affix_sign)
  }
  else {
    if (!is.data.frame(dat)) {
      stop("adorn_pct_formatting() must be called on a data.frame or list of data.frames")
    }
    if (!rounding %in% c("half to even", "half up")) {
      stop("'rounding' must be one of 'half to even' or 'half up'")
    }
    original <- dat
    numeric_cols <- which(vapply(dat, is.numeric, logical(1)))
    non_numeric_cols <- setdiff(1:ncol(dat), numeric_cols)
    numeric_cols <- setdiff(numeric_cols, 1)
    if (rlang::dots_n(...) == 0) {
      cols_to_adorn <- numeric_cols
    }
    else {
      expr <- rlang::expr(c(...))
      cols_to_adorn <- tidyselect::eval_select(expr, data = dat)
      if (any(cols_to_adorn %in% non_numeric_cols)) {
        cols_to_adorn <- setdiff(cols_to_adorn, non_numeric_cols)
      }
    }
    if ("one_way" %in% attr(dat, "tabyl_type")) {
      cols_to_adorn <- setdiff(numeric_cols, 2)
    }
    if (length(cols_to_adorn) == 0) {
      stop("at least one targeted column must be of class numeric")
    }
    dat[cols_to_adorn] <- lapply(dat[cols_to_adorn], function(x) x * 100)
    dat <- adorn_rounding(dat, digits = digits, rounding = rounding, ...)
    dat[cols_to_adorn] <- lapply(dat[cols_to_adorn], function(x) format(x, nsmall = digits, trim = TRUE))
    if (affix_sign) {
      dat[cols_to_adorn] <- lapply(dat[cols_to_adorn], function(x) paste0(x, "%"))
    }
    dat[cols_to_adorn][is.na(original[cols_to_adorn])] <- "-"
    dat
  }
}, function (dat, digits = 1, rounding = "half to even", affix_sign = TRUE, ...) 
{
  if (is.list(dat) && !is.data.frame(dat)) {
    purrr::map(dat, adorn_pct_formatting, digits, rounding, affix_sign)
  }
  else {
    if (!is.data.frame(dat)) {
      stop("adorn_pct_formatting() must be called on a data.frame or list of data.frames")
    }
    if (!rounding %in% c("half to even", "half up")) {
      stop("'rounding' must be one of 'half to even' or 'half up'")
    }
    original <- dat
    numeric_cols <- which(vapply(dat, is.numeric, logical(1)))
    non_numeric_cols <- setdiff(1:ncol(dat), numeric_cols)
    numeric_cols <- setdiff(numeric_cols, 1)
    if (rlang::dots_n(...) == 0) {
      cols_to_adorn <- numeric_cols
    }
    else {
      expr <- rlang::expr(c(...))
      cols_to_adorn <- tidyselect::eval_select(expr, data = dat)
      if (any(cols_to_adorn %in% non_numeric_cols)) {
        cols_to_adorn <- setdiff(cols_to_adorn, non_numeric_cols)
      }
    }
    if ("one_way" %in% attr(dat, "tabyl_type")) {
      cols_to_adorn <- setdiff(numeric_cols, 2)
    }
    if (length(cols_to_adorn) == 0) {
      stop("at least one targeted column must be of class numeric")
    }
    dat[cols_to_adorn] <- lapply(dat[cols_to_adorn], function(x) x * 100)
    dat <- adorn_rounding(dat, digits = digits, rounding = rounding, ...)
    dat[cols_to_adorn] <- lapply(dat[cols_to_adorn], function(x) format(x, nsmall = digits, trim = TRUE))
    if (affix_sign) {
      dat[cols_to_adorn] <- lapply(dat[cols_to_adorn], function(x) paste0(x, "%"))
    }
    dat[cols_to_adorn][is.na(original[cols_to_adorn])] <- "-"
    dat
  }
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
adorn_percentages
list(`package:janitor` = function (dat, denominator = "row", na.rm = TRUE, ...) 
{
  if (is.list(dat) && !is.data.frame(dat)) {
    purrr::map(dat, adorn_percentages, denominator, na.rm, ...)
  }
  else {
    if (!is.data.frame(dat)) {
      stop("adorn_percentages() must be called on a data.frame or list of data.frames")
    }
    if (!denominator %in% c("row", "col", "all")) {
      stop("'denominator' must be one of 'row', 'col', or 'all'")
    }
    if (!"tabyl" %in% class(dat)) {
      dat <- as_tabyl(dat)
    }
    numeric_cols <- which(vapply(dat, is.numeric, logical(1)))
    non_numeric_cols <- setdiff(1:ncol(dat), numeric_cols)
    numeric_cols <- setdiff(numeric_cols, 1)
    explicitly_exempt_totals <- FALSE
    if (rlang::dots_n(...) == 0) {
      cols_to_tally <- numeric_cols
    }
    else {
      expr <- rlang::expr(c(...))
      cols_to_tally <- tidyselect::eval_select(expr, data = dat)
      explicitly_exempt_totals <- !(ncol(dat) %in% cols_to_tally)
      if (any(cols_to_tally %in% non_numeric_cols)) {
        message("At least one non-numeric column was specified.  All non-numeric columns will be removed from percentage calculations.")
        cols_to_tally <- setdiff(cols_to_tally, non_numeric_cols)
      }
    }
    if ("col" %in% attr(dat, "totals")) {
      cols_to_tally <- setdiff(cols_to_tally, ncol(dat))
    }
    if (denominator == "row") {
      if ("col" %in% attr(dat, "totals") & !explicitly_exempt_totals) {
        dat[[ncol(dat)]] <- rep(1, nrow(dat))
      }
      row_sum <- rowSums(dat[cols_to_tally], na.rm = na.rm)
      dat[, cols_to_tally] <- dat[cols_to_tally]/row_sum
    }
    else if (denominator == "col") {
      if ("row" %in% attr(dat, "totals")) {
        col_sum <- colSums(dat[-nrow(dat), ][cols_to_tally], na.rm = na.rm)
      }
      else {
        col_sum <- colSums(dat[cols_to_tally], na.rm = na.rm)
      }
      if ("col" %in% attr(dat, "totals") & !explicitly_exempt_totals) {
        cols_to_tally <- c(cols_to_tally, ncol(dat))
        if ("row" %in% attr(dat, "totals")) {
          col_sum <- c(col_sum, sum(dplyr::last(dat)[-nrow(dat)]))
        }
        else {
          col_sum <- c(col_sum, sum(dplyr::last(dat)))
        }
      }
      dat[cols_to_tally] <- sweep(dat[cols_to_tally], 2, col_sum, `/`)
    }
    else if (denominator == "all") {
      if ("row" %in% attr(dat, "totals")) {
        complete_n <- sum(dat[-nrow(dat), cols_to_tally], na.rm = TRUE)
      }
      else {
        complete_n <- sum(dat[, cols_to_tally], na.rm = TRUE)
      }
      if ("col" %in% attr(dat, "totals") & !explicitly_exempt_totals) {
        cols_to_tally <- c(cols_to_tally, ncol(dat))
      }
      dat[cols_to_tally] <- dat[cols_to_tally]/complete_n
    }
    dat
  }
}, function (dat, denominator = "row", na.rm = TRUE, ...) 
{
  if (is.list(dat) && !is.data.frame(dat)) {
    purrr::map(dat, adorn_percentages, denominator, na.rm, ...)
  }
  else {
    if (!is.data.frame(dat)) {
      stop("adorn_percentages() must be called on a data.frame or list of data.frames")
    }
    if (!denominator %in% c("row", "col", "all")) {
      stop("'denominator' must be one of 'row', 'col', or 'all'")
    }
    if (!"tabyl" %in% class(dat)) {
      dat <- as_tabyl(dat)
    }
    numeric_cols <- which(vapply(dat, is.numeric, logical(1)))
    non_numeric_cols <- setdiff(1:ncol(dat), numeric_cols)
    numeric_cols <- setdiff(numeric_cols, 1)
    explicitly_exempt_totals <- FALSE
    if (rlang::dots_n(...) == 0) {
      cols_to_tally <- numeric_cols
    }
    else {
      expr <- rlang::expr(c(...))
      cols_to_tally <- tidyselect::eval_select(expr, data = dat)
      explicitly_exempt_totals <- !(ncol(dat) %in% cols_to_tally)
      if (any(cols_to_tally %in% non_numeric_cols)) {
        message("At least one non-numeric column was specified.  All non-numeric columns will be removed from percentage calculations.")
        cols_to_tally <- setdiff(cols_to_tally, non_numeric_cols)
      }
    }
    if ("col" %in% attr(dat, "totals")) {
      cols_to_tally <- setdiff(cols_to_tally, ncol(dat))
    }
    if (denominator == "row") {
      if ("col" %in% attr(dat, "totals") & !explicitly_exempt_totals) {
        dat[[ncol(dat)]] <- rep(1, nrow(dat))
      }
      row_sum <- rowSums(dat[cols_to_tally], na.rm = na.rm)
      dat[, cols_to_tally] <- dat[cols_to_tally]/row_sum
    }
    else if (denominator == "col") {
      if ("row" %in% attr(dat, "totals")) {
        col_sum <- colSums(dat[-nrow(dat), ][cols_to_tally], na.rm = na.rm)
      }
      else {
        col_sum <- colSums(dat[cols_to_tally], na.rm = na.rm)
      }
      if ("col" %in% attr(dat, "totals") & !explicitly_exempt_totals) {
        cols_to_tally <- c(cols_to_tally, ncol(dat))
        if ("row" %in% attr(dat, "totals")) {
          col_sum <- c(col_sum, sum(dplyr::last(dat)[-nrow(dat)]))
        }
        else {
          col_sum <- c(col_sum, sum(dplyr::last(dat)))
        }
      }
      dat[cols_to_tally] <- sweep(dat[cols_to_tally], 2, col_sum, `/`)
    }
    else if (denominator == "all") {
      if ("row" %in% attr(dat, "totals")) {
        complete_n <- sum(dat[-nrow(dat), cols_to_tally], na.rm = TRUE)
      }
      else {
        complete_n <- sum(dat[, cols_to_tally], na.rm = TRUE)
      }
      if ("col" %in% attr(dat, "totals") & !explicitly_exempt_totals) {
        cols_to_tally <- c(cols_to_tally, ncol(dat))
      }
      dat[cols_to_tally] <- dat[cols_to_tally]/complete_n
    }
    dat
  }
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
adorn_rounding
list(`package:janitor` = function (dat, digits = 1, rounding = "half to even", ...) 
{
  if (is.list(dat) && !is.data.frame(dat)) {
    purrr::map(dat, adorn_rounding, digits, rounding, ...)
  }
  else {
    if (!is.data.frame(dat)) {
      stop("adorn_rounding() must be called on a data.frame or list of data.frames")
    }
    if (!rounding %in% c("half to even", "half up")) {
      stop("'rounding' must be one of 'half to even' or 'half up'")
    }
    numeric_cols <- which(vapply(dat, is.numeric, logical(1)))
    non_numeric_cols <- setdiff(1:ncol(dat), numeric_cols)
    numeric_cols <- setdiff(numeric_cols, 1)
    if (rlang::dots_n(...) == 0) {
      cols_to_round <- numeric_cols
    }
    else {
      expr <- rlang::expr(c(...))
      cols_to_round <- tidyselect::eval_select(expr, data = dat)
      if (any(cols_to_round %in% non_numeric_cols)) {
        message("At least one non-numeric column was specified and will not be modified.")
        cols_to_round <- setdiff(cols_to_round, non_numeric_cols)
      }
    }
    if (rounding == "half to even") {
      dat[cols_to_round] <- lapply(dat[cols_to_round], function(x) round(x, digits = digits))
    }
    else {
      dat[cols_to_round] <- lapply(dat[cols_to_round], function(x) round_half_up(x, digits = digits))
    }
    dat
  }
}, function (dat, digits = 1, rounding = "half to even", ...) 
{
  if (is.list(dat) && !is.data.frame(dat)) {
    purrr::map(dat, adorn_rounding, digits, rounding, ...)
  }
  else {
    if (!is.data.frame(dat)) {
      stop("adorn_rounding() must be called on a data.frame or list of data.frames")
    }
    if (!rounding %in% c("half to even", "half up")) {
      stop("'rounding' must be one of 'half to even' or 'half up'")
    }
    numeric_cols <- which(vapply(dat, is.numeric, logical(1)))
    non_numeric_cols <- setdiff(1:ncol(dat), numeric_cols)
    numeric_cols <- setdiff(numeric_cols, 1)
    if (rlang::dots_n(...) == 0) {
      cols_to_round <- numeric_cols
    }
    else {
      expr <- rlang::expr(c(...))
      cols_to_round <- tidyselect::eval_select(expr, data = dat)
      if (any(cols_to_round %in% non_numeric_cols)) {
        message("At least one non-numeric column was specified and will not be modified.")
        cols_to_round <- setdiff(cols_to_round, non_numeric_cols)
      }
    }
    if (rounding == "half to even") {
      dat[cols_to_round] <- lapply(dat[cols_to_round], function(x) round(x, digits = digits))
    }
    else {
      dat[cols_to_round] <- lapply(dat[cols_to_round], function(x) round_half_up(x, digits = digits))
    }
    dat
  }
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
adorn_title
list(`package:janitor` = function (dat, placement = "top", row_name, col_name) 
{
  if (is.list(dat) && !is.data.frame(dat)) {
    purrr::map(dat, adorn_title, placement, row_name, col_name)
  }
  else {
    if (!is.data.frame(dat)) {
      stop("\"dat\" must be a data.frame")
    }
    if (!placement %in% c("top", "combined")) {
      stop("\"placement\" must be one of \"top\" or \"combined\"")
    }
    if ("tabyl" %in% class(dat)) {
      if (attr(dat, "tabyl_type") == "one_way") {
        warning("adorn_title is meant for two-way tabyls, calling it on a one-way tabyl may not yield a meaningful result")
      }
    }
    if (missing(col_name)) {
      if (!"tabyl" %in% class(dat)) {
        stop("When input is not a data.frame of class tabyl, a value must be specified for the col_name argument")
      }
      col_var <- attr(dat, "var_names")$col
    }
    else {
      if (!is.character(col_name)) {
        stop("col_name must be a string")
      }
      col_var <- col_name
    }
    if (!missing(row_name)) {
      if (!is.character(row_name)) {
        stop("row_name must be a string")
      }
      names(dat)[1] <- row_name
      row_var <- row_name
    }
    else {
      if ("tabyl" %in% class(dat)) {
        row_var <- attr(dat, "var_names")$row
      }
      else {
        row_var <- names(dat)[1]
      }
    }
    if (placement == "top") {
      dat[, ] <- lapply(dat[, ], as.character)
      top <- dat[1, ]
      top[1, ] <- as.list(names(top))
      out <- dplyr::bind_rows(top, dat)
      out <- stats::setNames(out, c("", col_var, rep("", ncol(out) - 2)))
    }
    if (placement == "combined") {
      out <- dat
      names(out)[1] <- paste(row_var, col_var, sep = "/")
    }
    if ("tbl_df" %in% class(out)) {
      out <- as.data.frame(out)
    }
    out
  }
}, function (dat, placement = "top", row_name, col_name) 
{
  if (is.list(dat) && !is.data.frame(dat)) {
    purrr::map(dat, adorn_title, placement, row_name, col_name)
  }
  else {
    if (!is.data.frame(dat)) {
      stop("\"dat\" must be a data.frame")
    }
    if (!placement %in% c("top", "combined")) {
      stop("\"placement\" must be one of \"top\" or \"combined\"")
    }
    if ("tabyl" %in% class(dat)) {
      if (attr(dat, "tabyl_type") == "one_way") {
        warning("adorn_title is meant for two-way tabyls, calling it on a one-way tabyl may not yield a meaningful result")
      }
    }
    if (missing(col_name)) {
      if (!"tabyl" %in% class(dat)) {
        stop("When input is not a data.frame of class tabyl, a value must be specified for the col_name argument")
      }
      col_var <- attr(dat, "var_names")$col
    }
    else {
      if (!is.character(col_name)) {
        stop("col_name must be a string")
      }
      col_var <- col_name
    }
    if (!missing(row_name)) {
      if (!is.character(row_name)) {
        stop("row_name must be a string")
      }
      names(dat)[1] <- row_name
      row_var <- row_name
    }
    else {
      if ("tabyl" %in% class(dat)) {
        row_var <- attr(dat, "var_names")$row
      }
      else {
        row_var <- names(dat)[1]
      }
    }
    if (placement == "top") {
      dat[, ] <- lapply(dat[, ], as.character)
      top <- dat[1, ]
      top[1, ] <- as.list(names(top))
      out <- dplyr::bind_rows(top, dat)
      out <- stats::setNames(out, c("", col_var, rep("", ncol(out) - 2)))
    }
    if (placement == "combined") {
      out <- dat
      names(out)[1] <- paste(row_var, col_var, sep = "/")
    }
    if ("tbl_df" %in% class(out)) {
      out <- as.data.frame(out)
    }
    out
  }
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
adorn_totals
list(`package:janitor` = function (dat, where = "row", fill = "-", na.rm = TRUE, name = "Total", ...) 
{
  if ("both" %in% where) {
    where <- c("row", "col")
  }
  if (is.list(dat) && !is.data.frame(dat)) {
    purrr::map(dat, adorn_totals, where, fill, na.rm, name)
  }
  else {
    if (!is.data.frame(dat)) {
      stop("adorn_totals() must be called on a data.frame or list of data.frames")
    }
    numeric_cols <- which(vapply(dat, is.numeric, logical(1)))
    non_numeric_cols <- setdiff(1:ncol(dat), numeric_cols)
    if (rlang::dots_n(...) == 0) {
      numeric_cols <- setdiff(numeric_cols, 1)
      non_numeric_cols <- unique(c(1, non_numeric_cols))
      cols_to_total <- numeric_cols
    }
    else {
      expr <- rlang::expr(c(...))
      cols_to_total <- tidyselect::eval_select(expr, data = dat)
      if (any(cols_to_total %in% non_numeric_cols)) {
        cols_to_total <- setdiff(cols_to_total, non_numeric_cols)
      }
    }
    if (length(cols_to_total) == 0) {
      stop("at least one targeted column must be of class numeric.  Control target variables with the ... argument. adorn_totals should be called before other adorn_ functions.")
    }
    if (sum(where %in% c("row", "col")) != length(where)) {
      stop("\"where\" must be one of \"row\", \"col\", or c(\"row\", \"col\")")
    }
    if (length(name) == 1) 
      name <- rep(name, 2)
    if ("grouped_df" %in% class(dat)) {
      dat <- dplyr::ungroup(dat)
    }
    dat <- as_tabyl(dat)
    if (sum(where %in% attr(dat, "totals")) > 0) {
      stop("trying to re-add a totals dimension that is already been added")
    }
    else if (length(attr(dat, "totals")) == 1) {
      attr(dat, "totals") <- c(attr(dat, "totals"), where)
    }
    else {
      attr(dat, "totals") <- where
    }
    if ("row" %in% where) {
      col_sum <- function(a_col, na_rm = na.rm) {
        if (is.numeric(a_col)) {
          sum(a_col, na.rm = na_rm)
        }
        else {
          if (!is.character(fill)) {
            switch(typeof(a_col), character = NA, integer = NA, double = if (inherits(a_col, "Date") || inherits(a_col, "POSIXt")) {
              as.Date(NA, origin = "1970-01-01")
            } else {
              NA
            }, complex = NA, NA)
          }
          else {
            fill
          }
        }
      }
      if (is.character(fill)) {
        col_totals <- purrr::map_df(dat, col_sum)
        not_totaled_cols <- setdiff(1:length(col_totals), cols_to_total)
        col_totals[not_totaled_cols] <- fill
        dat[not_totaled_cols] <- lapply(dat[not_totaled_cols], as.character)
      }
      else {
        cols_idx <- seq_along(dat)
        names(cols_idx) <- names(dat)
        col_totals <- purrr::map_df(cols_idx, function(i) {
          if (is.numeric(dat[[i]]) && !i %in% cols_to_total) {
            switch(typeof(dat[[i]]), integer = NA, double = NA, NA)
          }
          else {
            col_sum(dat[[i]])
          }
        })
        if (!is.character(dat[[1]]) && !1 %in% cols_to_total) {
          dat[[1]] <- as.character(dat[[1]])
          col_totals[[1]] <- as.character(col_totals[[1]])
        }
      }
      if (!1 %in% cols_to_total) {
        col_totals[1, 1] <- name[1]
      }
      else {
        message("Because the first column was specified to be totaled, it does not contain the label 'Total' (or user-specified name) in the totals row")
      }
      dat[(nrow(dat) + 1), ] <- col_totals[1, ]
    }
    if ("col" %in% where) {
      row_totals <- dat %>% dplyr::select(cols_to_total) %>% dplyr::select_if(is.numeric) %>% dplyr::transmute(Total = rowSums(., na.rm = na.rm))
      dat[[name[2]]] <- row_totals$Total
    }
    dat
  }
}, function (dat, where = "row", fill = "-", na.rm = TRUE, name = "Total", ...) 
{
  if ("both" %in% where) {
    where <- c("row", "col")
  }
  if (is.list(dat) && !is.data.frame(dat)) {
    purrr::map(dat, adorn_totals, where, fill, na.rm, name)
  }
  else {
    if (!is.data.frame(dat)) {
      stop("adorn_totals() must be called on a data.frame or list of data.frames")
    }
    numeric_cols <- which(vapply(dat, is.numeric, logical(1)))
    non_numeric_cols <- setdiff(1:ncol(dat), numeric_cols)
    if (rlang::dots_n(...) == 0) {
      numeric_cols <- setdiff(numeric_cols, 1)
      non_numeric_cols <- unique(c(1, non_numeric_cols))
      cols_to_total <- numeric_cols
    }
    else {
      expr <- rlang::expr(c(...))
      cols_to_total <- tidyselect::eval_select(expr, data = dat)
      if (any(cols_to_total %in% non_numeric_cols)) {
        cols_to_total <- setdiff(cols_to_total, non_numeric_cols)
      }
    }
    if (length(cols_to_total) == 0) {
      stop("at least one targeted column must be of class numeric.  Control target variables with the ... argument. adorn_totals should be called before other adorn_ functions.")
    }
    if (sum(where %in% c("row", "col")) != length(where)) {
      stop("\"where\" must be one of \"row\", \"col\", or c(\"row\", \"col\")")
    }
    if (length(name) == 1) 
      name <- rep(name, 2)
    if ("grouped_df" %in% class(dat)) {
      dat <- dplyr::ungroup(dat)
    }
    dat <- as_tabyl(dat)
    if (sum(where %in% attr(dat, "totals")) > 0) {
      stop("trying to re-add a totals dimension that is already been added")
    }
    else if (length(attr(dat, "totals")) == 1) {
      attr(dat, "totals") <- c(attr(dat, "totals"), where)
    }
    else {
      attr(dat, "totals") <- where
    }
    if ("row" %in% where) {
      col_sum <- function(a_col, na_rm = na.rm) {
        if (is.numeric(a_col)) {
          sum(a_col, na.rm = na_rm)
        }
        else {
          if (!is.character(fill)) {
            switch(typeof(a_col), character = NA, integer = NA, double = if (inherits(a_col, "Date") || inherits(a_col, "POSIXt")) {
              as.Date(NA, origin = "1970-01-01")
            } else {
              NA
            }, complex = NA, NA)
          }
          else {
            fill
          }
        }
      }
      if (is.character(fill)) {
        col_totals <- purrr::map_df(dat, col_sum)
        not_totaled_cols <- setdiff(1:length(col_totals), cols_to_total)
        col_totals[not_totaled_cols] <- fill
        dat[not_totaled_cols] <- lapply(dat[not_totaled_cols], as.character)
      }
      else {
        cols_idx <- seq_along(dat)
        names(cols_idx) <- names(dat)
        col_totals <- purrr::map_df(cols_idx, function(i) {
          if (is.numeric(dat[[i]]) && !i %in% cols_to_total) {
            switch(typeof(dat[[i]]), integer = NA, double = NA, NA)
          }
          else {
            col_sum(dat[[i]])
          }
        })
        if (!is.character(dat[[1]]) && !1 %in% cols_to_total) {
          dat[[1]] <- as.character(dat[[1]])
          col_totals[[1]] <- as.character(col_totals[[1]])
        }
      }
      if (!1 %in% cols_to_total) {
        col_totals[1, 1] <- name[1]
      }
      else {
        message("Because the first column was specified to be totaled, it does not contain the label 'Total' (or user-specified name) in the totals row")
      }
      dat[(nrow(dat) + 1), ] <- col_totals[1, ]
    }
    if ("col" %in% where) {
      row_totals <- dat %>% dplyr::select(cols_to_total) %>% dplyr::select_if(is.numeric) %>% dplyr::transmute(Total = rowSums(., na.rm = na.rm))
      dat[[name[2]]] <- row_totals$Total
    }
    dat
  }
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
as_tabyl
list(`package:janitor` = function (dat, axes = 2, row_var_name = NULL, col_var_name = NULL) 
{
  if ("tabyl" %in% class(dat)) {
    return(dat)
  }
  if (!axes %in% 1:2) {
    stop("axes must be either 1 or 2")
  }
  if (!is.data.frame(dat)) {
    stop("input must be a data.frame")
  }
  if (sum(unlist(lapply(dat, is.numeric))[-1]) == 0) {
    stop("at least one one of columns 2:n must be of class numeric")
  }
  attr(dat, "core") <- as.data.frame(dat)
  attr(dat, "tabyl_type") <- dplyr::case_when(axes == 1 ~ "one_way", axes == 2 ~ "two_way")
  class(dat) <- c("tabyl", class(dat))
  if (!missing(row_var_name) | !missing(col_var_name)) {
    if (axes != 2) {
      stop("variable names are only meaningful for two-way tabyls")
    }
    attr(dat, "var_names") <- list(row = row_var_name, col = col_var_name)
  }
  dat
}, function (dat, axes = 2, row_var_name = NULL, col_var_name = NULL) 
{
  if ("tabyl" %in% class(dat)) {
    return(dat)
  }
  if (!axes %in% 1:2) {
    stop("axes must be either 1 or 2")
  }
  if (!is.data.frame(dat)) {
    stop("input must be a data.frame")
  }
  if (sum(unlist(lapply(dat, is.numeric))[-1]) == 0) {
    stop("at least one one of columns 2:n must be of class numeric")
  }
  attr(dat, "core") <- as.data.frame(dat)
  attr(dat, "tabyl_type") <- dplyr::case_when(axes == 1 ~ "one_way", axes == 2 ~ "two_way")
  class(dat) <- c("tabyl", class(dat))
  if (!missing(row_var_name) | !missing(col_var_name)) {
    if (axes != 2) {
      stop("variable names are only meaningful for two-way tabyls")
    }
    attr(dat, "var_names") <- list(row = row_var_name, col = col_var_name)
  }
  dat
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
chisq.test
list(`package:janitor` = function (x, ...) 
{
  UseMethod("chisq.test")
}, `package:stats` = function (x, y = NULL, correct = TRUE, p = rep(1/length(x), length(x)), rescale.p = FALSE, simulate.p.value = FALSE, B = 2000) 
{
  DNAME <- deparse(substitute(x))
  if (is.data.frame(x)) 
    x <- as.matrix(x)
  if (is.matrix(x)) {
    if (min(dim(x)) == 1) 
      x <- as.vector(x)
  }
  if (!is.matrix(x) && !is.null(y)) {
    if (length(x) != length(y)) 
      stop("'x' and 'y' must have the same length")
    DNAME2 <- deparse(substitute(y))
    xname <- if (length(DNAME) > 1 || nchar(DNAME, "w") > 30) 
      ""
    else DNAME
    yname <- if (length(DNAME2) > 1 || nchar(DNAME2, "w") > 30) 
      ""
    else DNAME2
    OK <- complete.cases(x, y)
    x <- factor(x[OK])
    y <- factor(y[OK])
    if ((nlevels(x) < 2) || (nlevels(y) < 2)) 
      stop("'x' and 'y' must have at least 2 levels")
    x <- table(x, y)
    names(dimnames(x)) <- c(xname, yname)
    DNAME <- paste(paste(DNAME, collapse = "\n"), "and", paste(DNAME2, collapse = "\n"))
  }
  if (any(x < 0) || anyNA(x)) 
    stop("all entries of 'x' must be nonnegative and finite")
  if ((n <- sum(x)) == 0) 
    stop("at least one entry of 'x' must be positive")
  if (simulate.p.value) {
    setMETH <- function() METHOD <<- paste(METHOD, "with simulated p-value\n\t (based on", B, "replicates)")
    almost.1 <- 1 - 64 * .Machine$double.eps
  }
  if (is.matrix(x)) {
    METHOD <- "Pearson's Chi-squared test"
    nr <- as.integer(nrow(x))
    nc <- as.integer(ncol(x))
    if (is.na(nr) || is.na(nc) || is.na(nr * nc)) 
      stop("invalid nrow(x) or ncol(x)", domain = NA)
    sr <- rowSums(x)
    sc <- colSums(x)
    E <- outer(sr, sc)/n
    v <- function(r, c, n) c * r * (n - r) * (n - c)/n^3
    V <- outer(sr, sc, v, n)
    dimnames(E) <- dimnames(x)
    if (simulate.p.value && all(sr > 0) && all(sc > 0)) {
      setMETH()
      tmp <- .Call(C_chisq_sim, sr, sc, B, E)
      STATISTIC <- sum(sort((x - E)^2/E, decreasing = TRUE))
      PARAMETER <- NA
      PVAL <- (1 + sum(tmp >= almost.1 * STATISTIC))/(B + 1)
    }
    else {
      if (simulate.p.value) 
        warning("cannot compute simulated p-value with zero marginals")
      if (correct && nrow(x) == 2 && ncol(x) == 2) {
        YATES <- min(0.5, abs(x - E))
        if (YATES > 0) 
          METHOD <- paste(METHOD, "with Yates' continuity correction")
      }
      else YATES <- 0
      STATISTIC <- sum((abs(x - E) - YATES)^2/E)
      PARAMETER <- (nr - 1) * (nc - 1)
      PVAL <- pchisq(STATISTIC, PARAMETER, lower.tail = FALSE)
    }
  }
  else {
    if (length(dim(x)) > 2) 
      stop("invalid 'x'")
    if (length(x) == 1) 
      stop("'x' must at least have 2 elements")
    if (length(x) != length(p)) 
      stop("'x' and 'p' must have the same number of elements")
    if (any(p < 0)) 
      stop("probabilities must be non-negative.")
    if (abs(sum(p) - 1) > sqrt(.Machine$double.eps)) {
      if (rescale.p) 
        p <- p/sum(p)
      else stop("probabilities must sum to 1.")
    }
    METHOD <- "Chi-squared test for given probabilities"
    E <- n * p
    V <- n * p * (1 - p)
    STATISTIC <- sum((x - E)^2/E)
    names(E) <- names(x)
    if (simulate.p.value) {
      setMETH()
      nx <- length(x)
      sm <- matrix(sample.int(nx, B * n, TRUE, prob = p), nrow = n)
      ss <- apply(sm, 2, function(x, E, k) {
        sum((table(factor(x, levels = 1:k)) - E)^2/E)
      }, E = E, k = nx)
      PARAMETER <- NA
      PVAL <- (1 + sum(ss >= almost.1 * STATISTIC))/(B + 1)
    }
    else {
      PARAMETER <- length(x) - 1
      PVAL <- pchisq(STATISTIC, PARAMETER, lower.tail = FALSE)
    }
  }
  names(STATISTIC) <- "X-squared"
  names(PARAMETER) <- "df"
  if (any(E < 5) && is.finite(PARAMETER)) 
    warning("Chi-squared approximation may be incorrect")
  structure(list(statistic = STATISTIC, parameter = PARAMETER, p.value = PVAL, method = METHOD, data.name = DNAME, observed = x, expected = E, residuals = (x - E)/sqrt(E), stdres = (x - E)/sqrt(V)), class = "htest")
}, function (x, ...) 
{
  UseMethod("chisq.test")
}, function (x, y = NULL, correct = TRUE, p = rep(1/length(x), length(x)), rescale.p = FALSE, simulate.p.value = FALSE, B = 2000) 
{
  DNAME <- deparse(substitute(x))
  if (is.data.frame(x)) 
    x <- as.matrix(x)
  if (is.matrix(x)) {
    if (min(dim(x)) == 1) 
      x <- as.vector(x)
  }
  if (!is.matrix(x) && !is.null(y)) {
    if (length(x) != length(y)) 
      stop("'x' and 'y' must have the same length")
    DNAME2 <- deparse(substitute(y))
    xname <- if (length(DNAME) > 1 || nchar(DNAME, "w") > 30) 
      ""
    else DNAME
    yname <- if (length(DNAME2) > 1 || nchar(DNAME2, "w") > 30) 
      ""
    else DNAME2
    OK <- complete.cases(x, y)
    x <- factor(x[OK])
    y <- factor(y[OK])
    if ((nlevels(x) < 2) || (nlevels(y) < 2)) 
      stop("'x' and 'y' must have at least 2 levels")
    x <- table(x, y)
    names(dimnames(x)) <- c(xname, yname)
    DNAME <- paste(paste(DNAME, collapse = "\n"), "and", paste(DNAME2, collapse = "\n"))
  }
  if (any(x < 0) || anyNA(x)) 
    stop("all entries of 'x' must be nonnegative and finite")
  if ((n <- sum(x)) == 0) 
    stop("at least one entry of 'x' must be positive")
  if (simulate.p.value) {
    setMETH <- function() METHOD <<- paste(METHOD, "with simulated p-value\n\t (based on", B, "replicates)")
    almost.1 <- 1 - 64 * .Machine$double.eps
  }
  if (is.matrix(x)) {
    METHOD <- "Pearson's Chi-squared test"
    nr <- as.integer(nrow(x))
    nc <- as.integer(ncol(x))
    if (is.na(nr) || is.na(nc) || is.na(nr * nc)) 
      stop("invalid nrow(x) or ncol(x)", domain = NA)
    sr <- rowSums(x)
    sc <- colSums(x)
    E <- outer(sr, sc)/n
    v <- function(r, c, n) c * r * (n - r) * (n - c)/n^3
    V <- outer(sr, sc, v, n)
    dimnames(E) <- dimnames(x)
    if (simulate.p.value && all(sr > 0) && all(sc > 0)) {
      setMETH()
      tmp <- .Call(C_chisq_sim, sr, sc, B, E)
      STATISTIC <- sum(sort((x - E)^2/E, decreasing = TRUE))
      PARAMETER <- NA
      PVAL <- (1 + sum(tmp >= almost.1 * STATISTIC))/(B + 1)
    }
    else {
      if (simulate.p.value) 
        warning("cannot compute simulated p-value with zero marginals")
      if (correct && nrow(x) == 2 && ncol(x) == 2) {
        YATES <- min(0.5, abs(x - E))
        if (YATES > 0) 
          METHOD <- paste(METHOD, "with Yates' continuity correction")
      }
      else YATES <- 0
      STATISTIC <- sum((abs(x - E) - YATES)^2/E)
      PARAMETER <- (nr - 1) * (nc - 1)
      PVAL <- pchisq(STATISTIC, PARAMETER, lower.tail = FALSE)
    }
  }
  else {
    if (length(dim(x)) > 2) 
      stop("invalid 'x'")
    if (length(x) == 1) 
      stop("'x' must at least have 2 elements")
    if (length(x) != length(p)) 
      stop("'x' and 'p' must have the same number of elements")
    if (any(p < 0)) 
      stop("probabilities must be non-negative.")
    if (abs(sum(p) - 1) > sqrt(.Machine$double.eps)) {
      if (rescale.p) 
        p <- p/sum(p)
      else stop("probabilities must sum to 1.")
    }
    METHOD <- "Chi-squared test for given probabilities"
    E <- n * p
    V <- n * p * (1 - p)
    STATISTIC <- sum((x - E)^2/E)
    names(E) <- names(x)
    if (simulate.p.value) {
      setMETH()
      nx <- length(x)
      sm <- matrix(sample.int(nx, B * n, TRUE, prob = p), nrow = n)
      ss <- apply(sm, 2, function(x, E, k) {
        sum((table(factor(x, levels = 1:k)) - E)^2/E)
      }, E = E, k = nx)
      PARAMETER <- NA
      PVAL <- (1 + sum(ss >= almost.1 * STATISTIC))/(B + 1)
    }
    else {
      PARAMETER <- length(x) - 1
      PVAL <- pchisq(STATISTIC, PARAMETER, lower.tail = FALSE)
    }
  }
  names(STATISTIC) <- "X-squared"
  names(PARAMETER) <- "df"
  if (any(E < 5) && is.finite(PARAMETER)) 
    warning("Chi-squared approximation may be incorrect")
  structure(list(statistic = STATISTIC, parameter = PARAMETER, p.value = PVAL, method = METHOD, data.name = DNAME, observed = x, expected = E, residuals = (x - E)/sqrt(E), stdres = (x - E)/sqrt(V)), class = "htest")
})
c("package:janitor", "package:stats", "namespace:janitor", "namespace:stats")
c(TRUE, TRUE, FALSE, FALSE)
c(FALSE, FALSE, TRUE, TRUE)
clean_names
list(`package:janitor` = function (dat, ...) 
{
  UseMethod("clean_names")
}, function (dat, ...) 
{
  UseMethod("clean_names")
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
compare_df_cols
list(`package:janitor` = function (..., return = c("all", "match", "mismatch"), bind_method = c("bind_rows", "rbind"), strict_description = FALSE) 
{
  return <- match.arg(return)
  bind_method <- match.arg(bind_method)
  args <- list(...)
  mask_input_data_frame <- sapply(X = args, FUN = is.data.frame)
  mask_input_list <- sapply(X = args, FUN = is.list) & !mask_input_data_frame
  mask_input_other <- !(mask_input_data_frame | mask_input_list)
  if (any(mask_input_other)) {
    stop("Input given with `...` must be either a data.frame or a list of data.frames. Argument ", ngettext(sum(mask_input_other), msg1 = paste("number", which(mask_input_other), "is not.", collapse = "\n"), msg2 = paste("numbers", paste(which(mask_input_other), collapse = ", "), "are not.")))
  }
  bad_list_inputs <- numeric(0)
  for (idx in which(mask_input_list)) {
    bad_list_inputs <- c(bad_list_inputs, if (!all(sapply(X = args[[idx]], FUN = is.data.frame))) {
      idx
    } else {
      numeric(0)
    })
  }
  if (length(bad_list_inputs)) {
    stop("List inputs must be lists of data.frames.  List input ", if (length(bad_list_inputs) == 1) {
      paste("number", bad_list_inputs, "is not a list of data.frames.")
    }
    else if (length(bad_list_inputs) < 6) {
      paste("numbers", paste(bad_list_inputs, collapse = ", "), "are not lists of data.frames.")
    }
    else {
      paste("numbers", paste(c(bad_list_inputs[1:5], "..."), collapse = ", "), "are not lists of data.frames.")
    })
  }
  direct_names <- names(args)
  indirect_names <- as.character(match.call(expand.dots = TRUE))
  indirect_names <- indirect_names[!(indirect_names %in% as.character(match.call(expand.dots = FALSE)))]
  if (is.null(direct_names)) {
    final_names <- indirect_names
  }
  else {
    final_names <- direct_names
    mask_replace <- final_names %in% ""
    final_names[mask_replace] <- indirect_names[mask_replace]
  }
  final_names <- as.list(final_names)
  for (idx in which(mask_input_list)) {
    current_list_names <- names(args[[idx]])
    final_names[[idx]] <- if (is.null(current_list_names)) {
      paste(final_names[[idx]], seq_along(args[[idx]]), sep = "_")
    }
    else if (any(mask_unnamed_list <- current_list_names %in% "")) {
      current_list_names[mask_unnamed_list] <- paste(final_names[[idx]][mask_unnamed_list], seq_len(sum(mask_unnamed_list)), sep = "_")
      current_list_names
    }
    else {
      current_list_names
    }
  }
  if (any(unlist(final_names) %in% "column_name")) {
    stop("None of the input ... argument names or list names may be `column_name`.")
  }
  ret <- compare_df_cols_df_maker(args, class_colname = final_names, strict_description = strict_description)
  if (return == "all" | ncol(ret) == 2) {
    if (return != "all") {
      warning("Only one data.frame provided, so all its classes are provided.")
    }
    rownames(ret) <- NULL
    ret
  }
  else {
    bind_method_fun <- list(rbind = function(idx) {
      all(unlist(ret[idx, 3:ncol(ret)]) %in% ret[idx, 2])
    }, bind_rows = function(idx) {
      all(unlist(ret[idx, 3:ncol(ret)]) %in% c(NA, na.omit(unlist(ret[idx, 2:ncol(ret)]))[1]))
    })
    mask_match <- sapply(X = seq_len(nrow(ret)), FUN = bind_method_fun[[bind_method]])
    ret <- if (return == "match") {
      ret[mask_match, ]
    }
    else if (return == "mismatch") {
      ret[!mask_match, ]
    }
    rownames(ret) <- NULL
    ret
  }
}, function (..., return = c("all", "match", "mismatch"), bind_method = c("bind_rows", "rbind"), strict_description = FALSE) 
{
  return <- match.arg(return)
  bind_method <- match.arg(bind_method)
  args <- list(...)
  mask_input_data_frame <- sapply(X = args, FUN = is.data.frame)
  mask_input_list <- sapply(X = args, FUN = is.list) & !mask_input_data_frame
  mask_input_other <- !(mask_input_data_frame | mask_input_list)
  if (any(mask_input_other)) {
    stop("Input given with `...` must be either a data.frame or a list of data.frames. Argument ", ngettext(sum(mask_input_other), msg1 = paste("number", which(mask_input_other), "is not.", collapse = "\n"), msg2 = paste("numbers", paste(which(mask_input_other), collapse = ", "), "are not.")))
  }
  bad_list_inputs <- numeric(0)
  for (idx in which(mask_input_list)) {
    bad_list_inputs <- c(bad_list_inputs, if (!all(sapply(X = args[[idx]], FUN = is.data.frame))) {
      idx
    } else {
      numeric(0)
    })
  }
  if (length(bad_list_inputs)) {
    stop("List inputs must be lists of data.frames.  List input ", if (length(bad_list_inputs) == 1) {
      paste("number", bad_list_inputs, "is not a list of data.frames.")
    }
    else if (length(bad_list_inputs) < 6) {
      paste("numbers", paste(bad_list_inputs, collapse = ", "), "are not lists of data.frames.")
    }
    else {
      paste("numbers", paste(c(bad_list_inputs[1:5], "..."), collapse = ", "), "are not lists of data.frames.")
    })
  }
  direct_names <- names(args)
  indirect_names <- as.character(match.call(expand.dots = TRUE))
  indirect_names <- indirect_names[!(indirect_names %in% as.character(match.call(expand.dots = FALSE)))]
  if (is.null(direct_names)) {
    final_names <- indirect_names
  }
  else {
    final_names <- direct_names
    mask_replace <- final_names %in% ""
    final_names[mask_replace] <- indirect_names[mask_replace]
  }
  final_names <- as.list(final_names)
  for (idx in which(mask_input_list)) {
    current_list_names <- names(args[[idx]])
    final_names[[idx]] <- if (is.null(current_list_names)) {
      paste(final_names[[idx]], seq_along(args[[idx]]), sep = "_")
    }
    else if (any(mask_unnamed_list <- current_list_names %in% "")) {
      current_list_names[mask_unnamed_list] <- paste(final_names[[idx]][mask_unnamed_list], seq_len(sum(mask_unnamed_list)), sep = "_")
      current_list_names
    }
    else {
      current_list_names
    }
  }
  if (any(unlist(final_names) %in% "column_name")) {
    stop("None of the input ... argument names or list names may be `column_name`.")
  }
  ret <- compare_df_cols_df_maker(args, class_colname = final_names, strict_description = strict_description)
  if (return == "all" | ncol(ret) == 2) {
    if (return != "all") {
      warning("Only one data.frame provided, so all its classes are provided.")
    }
    rownames(ret) <- NULL
    ret
  }
  else {
    bind_method_fun <- list(rbind = function(idx) {
      all(unlist(ret[idx, 3:ncol(ret)]) %in% ret[idx, 2])
    }, bind_rows = function(idx) {
      all(unlist(ret[idx, 3:ncol(ret)]) %in% c(NA, na.omit(unlist(ret[idx, 2:ncol(ret)]))[1]))
    })
    mask_match <- sapply(X = seq_len(nrow(ret)), FUN = bind_method_fun[[bind_method]])
    ret <- if (return == "match") {
      ret[mask_match, ]
    }
    else if (return == "mismatch") {
      ret[!mask_match, ]
    }
    rownames(ret) <- NULL
    ret
  }
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
compare_df_cols_same
list(`package:janitor` = function (..., bind_method = c("bind_rows", "rbind"), verbose = TRUE) 
{
  bind_method <- match.arg(bind_method)
  ret <- compare_df_cols(..., return = "mismatch", bind_method = bind_method)
  if (nrow(ret) & verbose) {
    print(ret)
  }
  nrow(ret) == 0
}, function (..., bind_method = c("bind_rows", "rbind"), verbose = TRUE) 
{
  bind_method <- match.arg(bind_method)
  ret <- compare_df_cols(..., return = "mismatch", bind_method = bind_method)
  if (nrow(ret) & verbose) {
    print(ret)
  }
  nrow(ret) == 0
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
convert_to_date
list(`package:janitor` = function (x, ..., character_fun = lubridate::ymd, string_conversion_failure = c("error", "warning")) 
{
  string_conversion_failure <- match.arg(string_conversion_failure)
  convert_to_datetime_helper(x, ..., character_fun = character_fun, string_conversion_failure = string_conversion_failure, out_class = "Date")
}, function (x, ..., character_fun = lubridate::ymd, string_conversion_failure = c("error", "warning")) 
{
  string_conversion_failure <- match.arg(string_conversion_failure)
  convert_to_datetime_helper(x, ..., character_fun = character_fun, string_conversion_failure = string_conversion_failure, out_class = "Date")
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
convert_to_datetime
list(`package:janitor` = function (x, ..., tz = "UTC", character_fun = lubridate::ymd_hms, string_conversion_failure = c("error", "warning")) 
{
  string_conversion_failure <- match.arg(string_conversion_failure)
  convert_to_datetime_helper(x, ..., tz = tz, character_fun = character_fun, string_conversion_failure = string_conversion_failure, out_class = "POSIXct")
}, function (x, ..., tz = "UTC", character_fun = lubridate::ymd_hms, string_conversion_failure = c("error", "warning")) 
{
  string_conversion_failure <- match.arg(string_conversion_failure)
  convert_to_datetime_helper(x, ..., tz = tz, character_fun = character_fun, string_conversion_failure = string_conversion_failure, out_class = "POSIXct")
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
convert_to_NA
list(`package:janitor` = function (dat, strings) 
{
  lifecycle::deprecate_stop(when = "2.0.0", what = "janitor::convert_to_NA()", with = "dplyr::na_if()")
}, function (dat, strings) 
{
  lifecycle::deprecate_stop(when = "2.0.0", what = "janitor::convert_to_NA()", with = "dplyr::na_if()")
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
crosstab
list(`package:janitor` = function (...) 
{
  lifecycle::deprecate_stop(when = "2.0.0", what = "janitor::crosstab()", with = "tabyl()", details = "See the guide to tabyl(): https://cran.r-project.org/web/packages/janitor/vignettes/tabyls.html")
}, new("standardGeneric", .Data = function (x, y, ...) 
  standardGeneric("crosstab"), generic = "crosstab", package = "terra", group = list(), valueClass = character(0), signature = c("x", "y"), default = NULL, skeleton = (function (x, y, ...) 
    stop(gettextf("invalid call in method dispatch to '%s' (no default method)", "crosstab"), domain = NA))(x, y, ...)), function (...) 
    {
      lifecycle::deprecate_stop(when = "2.0.0", what = "janitor::crosstab()", with = "tabyl()", details = "See the guide to tabyl(): https://cran.r-project.org/web/packages/janitor/vignettes/tabyls.html")
    })
c("package:janitor", "namespace:terra", "namespace:janitor")
c(TRUE, FALSE, FALSE)
c(FALSE, FALSE, TRUE)
describe_class
list(`package:janitor` = function (x, strict_description = TRUE) 
{
  UseMethod("describe_class")
}, function (x, strict_description = TRUE) 
{
  UseMethod("describe_class")
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
excel_numeric_to_date
list(`package:janitor` = function (date_num, date_system = "modern", include_time = FALSE, round_seconds = TRUE, tz = "") 
{
  if (all(is.na(date_num))) {
    if (include_time) {
      return(as.POSIXlt(as.character(date_num)))
    }
    else {
      return(as.Date(as.character(date_num)))
    }
  }
  else if (!is.numeric(date_num)) {
    stop("argument `date_num` must be of class numeric")
  }
  date_num_days <- (as.double(date_num) * 86400 + 0.001)%/%86400
  date_num_days_no_floating_correction <- date_num%/%1
  mask_day_rollover <- !is.na(date_num) & date_num_days > date_num_days_no_floating_correction
  date_num_seconds <- (date_num - date_num_days) * 86400
  date_num_seconds[mask_day_rollover] <- 0
  if (round_seconds) {
    date_num_seconds <- round(date_num_seconds)
  }
  if (any(mask_day_rollover)) {
    warning(sum(mask_day_rollover), " date_num values are within 0.001 sec of a later date and were rounded up to the next day.")
  }
  ret <- if (date_system == "mac pre-2011") {
    as.Date(floor(date_num_days), origin = "1904-01-01")
  }
  else if (date_system == "modern") {
    as.Date(floor(date_num_days), origin = "1899-12-30")
  }
  else {
    stop("argument 'created' must be one of 'mac pre-2011' or 'modern'")
  }
  if (include_time) {
    ret <- as.POSIXlt(ret, tz = tz)
    ret$sec <- date_num_seconds%%60
    ret$min <- floor(date_num_seconds/60)%%60
    ret$hour <- floor(date_num_seconds/3600)
    ret <- as.POSIXct(ret, tz = tz)
  }
  ret
}, function (date_num, date_system = "modern", include_time = FALSE, round_seconds = TRUE, tz = "") 
{
  if (all(is.na(date_num))) {
    if (include_time) {
      return(as.POSIXlt(as.character(date_num)))
    }
    else {
      return(as.Date(as.character(date_num)))
    }
  }
  else if (!is.numeric(date_num)) {
    stop("argument `date_num` must be of class numeric")
  }
  date_num_days <- (as.double(date_num) * 86400 + 0.001)%/%86400
  date_num_days_no_floating_correction <- date_num%/%1
  mask_day_rollover <- !is.na(date_num) & date_num_days > date_num_days_no_floating_correction
  date_num_seconds <- (date_num - date_num_days) * 86400
  date_num_seconds[mask_day_rollover] <- 0
  if (round_seconds) {
    date_num_seconds <- round(date_num_seconds)
  }
  if (any(mask_day_rollover)) {
    warning(sum(mask_day_rollover), " date_num values are within 0.001 sec of a later date and were rounded up to the next day.")
  }
  ret <- if (date_system == "mac pre-2011") {
    as.Date(floor(date_num_days), origin = "1904-01-01")
  }
  else if (date_system == "modern") {
    as.Date(floor(date_num_days), origin = "1899-12-30")
  }
  else {
    stop("argument 'created' must be one of 'mac pre-2011' or 'modern'")
  }
  if (include_time) {
    ret <- as.POSIXlt(ret, tz = tz)
    ret$sec <- date_num_seconds%%60
    ret$min <- floor(date_num_seconds/60)%%60
    ret$hour <- floor(date_num_seconds/3600)
    ret <- as.POSIXct(ret, tz = tz)
  }
  ret
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
fisher.test
list(`package:janitor` = function (x, ...) 
{
  UseMethod("fisher.test")
}, `package:stats` = function (x, y = NULL, workspace = 2e+05, hybrid = FALSE, hybridPars = c(expect = 5, percent = 80, Emin = 1), control = list(), or = 1, alternative = "two.sided", conf.int = TRUE, conf.level = 0.95, simulate.p.value = FALSE, B = 2000) 
{
  DNAME <- deparse1(substitute(x))
  METHOD <- "Fisher's Exact Test for Count Data"
  if (is.data.frame(x)) 
    x <- as.matrix(x)
  if (is.matrix(x)) {
    if (any(dim(x) < 2)) 
      stop("'x' must have at least 2 rows and columns")
    if (!is.numeric(x) || any(x < 0) || anyNA(x)) 
      stop("all entries of 'x' must be nonnegative and finite")
    if (!is.integer(x)) {
      xo <- x
      x <- round(x)
      if (any(x > .Machine$integer.max)) 
        stop("'x' has entries too large to be integer")
      if (!identical(TRUE, (ax <- all.equal(xo, x)))) 
        warning(gettextf("'x' has been rounded to integer: %s", ax), domain = NA)
      storage.mode(x) <- "integer"
    }
  }
  else {
    if (is.null(y)) 
      stop("if 'x' is not a matrix, 'y' must be given")
    if (length(x) != length(y)) 
      stop("'x' and 'y' must have the same length")
    DNAME <- paste(DNAME, "and", deparse1(substitute(y)))
    OK <- complete.cases(x, y)
    x <- as.factor(x[OK])
    y <- as.factor(y[OK])
    if ((nlevels(x) < 2) || (nlevels(y) < 2)) 
      stop("'x' and 'y' must have at least 2 levels")
    x <- table(x, y)
  }
  con <- list(mult = 30)
  con[names(control)] <- control
  if ((mult <- as.integer(con$mult)) < 2) 
    stop("'mult' must be integer >= 2, typically = 30")
  nr <- nrow(x)
  nc <- ncol(x)
  have.2x2 <- (nr == 2) && (nc == 2)
  if (have.2x2) {
    alternative <- char.expand(alternative, c("two.sided", "less", "greater"))
    if (length(alternative) > 1 || is.na(alternative)) 
      stop("alternative must be \"two.sided\", \"less\" or \"greater\"")
    if (!((length(conf.level) == 1) && is.finite(conf.level) && (conf.level > 0) && (conf.level < 1))) 
      stop("'conf.level' must be a single number between 0 and 1")
    if (!missing(or) && (length(or) > 1 || is.na(or) || or < 0)) 
      stop("'or' must be a single number between 0 and Inf")
  }
  PVAL <- NULL
  if (!have.2x2) {
    if (simulate.p.value) {
      sr <- rowSums(x)
      sc <- colSums(x)
      x <- x[sr > 0, sc > 0, drop = FALSE]
      nr <- as.integer(nrow(x))
      nc <- as.integer(ncol(x))
      if (is.na(nr) || is.na(nc) || is.na(nr * nc)) 
        stop("invalid nrow(x) or ncol(x)", domain = NA)
      if (nr <= 1) 
        stop("need 2 or more non-zero row marginals")
      if (nc <= 1) 
        stop("need 2 or more non-zero column marginals")
      METHOD <- paste(METHOD, "with simulated p-value\n\t (based on", B, "replicates)")
      STATISTIC <- -sum(lfactorial(x))
      tmp <- .Call(C_Fisher_sim, rowSums(x), colSums(x), B)
      almost.1 <- 1 + 64 * .Machine$double.eps
      PVAL <- (1 + sum(tmp <= STATISTIC/almost.1))/(B + 1)
    }
    else if (hybrid) {
      if (!is.null(nhP <- names(hybridPars)) && !identical(nhP, c("expect", "percent", "Emin"))) 
        stop("names(hybridPars) should be NULL or be identical to the default's")
      stopifnot(is.double(hypp <- as.double(hybridPars)), length(hypp) == 3, hypp[1] > 0, hypp[3] >= 0, 0 <= hypp[2], hypp[2] <= 100)
      PVAL <- .Call(C_Fexact, x, hypp, workspace, mult)
      METHOD <- paste(METHOD, sprintf("hybrid using asym.chisq. iff (exp=%g, perc=%g, Emin=%g)", hypp[1], hypp[2], hypp[3]))
    }
    else {
      PVAL <- .Call(C_Fexact, x, c(-1, 100, 0), workspace, mult)
    }
    RVAL <- list(p.value = max(0, min(1, PVAL)))
  }
  else {
    if (hybrid) 
      warning("'hybrid' is ignored for a 2 x 2 table")
    m <- sum(x[, 1])
    n <- sum(x[, 2])
    k <- sum(x[1, ])
    x <- x[1, 1]
    lo <- max(0, k - n)
    hi <- min(k, m)
    NVAL <- c(`odds ratio` = or)
    support <- lo:hi
    logdc <- dhyper(support, m, n, k, log = TRUE)
    dnhyper <- function(ncp) {
      d <- logdc + log(ncp) * support
      d <- exp(d - max(d))
      d/sum(d)
    }
    mnhyper <- function(ncp) {
      if (ncp == 0) 
        return(lo)
      if (ncp == Inf) 
        return(hi)
      sum(support * dnhyper(ncp))
    }
    pnhyper <- function(q, ncp = 1, upper.tail = FALSE) {
      if (ncp == 1) {
        return(if (upper.tail) phyper(x - 1, m, n, k, lower.tail = FALSE) else phyper(x, m, n, k))
      }
      if (ncp == 0) {
        return(as.numeric(if (upper.tail) q <= lo else q >= lo))
      }
      if (ncp == Inf) {
        return(as.numeric(if (upper.tail) q <= hi else q >= hi))
      }
      sum(dnhyper(ncp)[if (upper.tail) support >= q else support <= q])
    }
    if (is.null(PVAL)) {
      PVAL <- switch(alternative, less = pnhyper(x, or), greater = pnhyper(x, or, upper.tail = TRUE), two.sided = {
        if (or == 0) as.numeric(x == lo) else if (or == Inf) as.numeric(x == hi) else {
          relErr <- 1 + 10^(-7)
          d <- dnhyper(or)
          sum(d[d <= d[x - lo + 1] * relErr])
        }
      })
      RVAL <- list(p.value = PVAL)
    }
    mle <- function(x) {
      if (x == lo) 
        return(0)
      if (x == hi) 
        return(Inf)
      mu <- mnhyper(1)
      if (mu > x) 
        uniroot(function(t) mnhyper(t) - x, c(0, 1))$root
      else if (mu < x) 
        1/uniroot(function(t) mnhyper(1/t) - x, c(.Machine$double.eps, 1))$root
      else 1
    }
    ESTIMATE <- c(`odds ratio` = mle(x))
    if (conf.int) {
      ncp.U <- function(x, alpha) {
        if (x == hi) 
          return(Inf)
        p <- pnhyper(x, 1)
        if (p < alpha) 
          uniroot(function(t) pnhyper(x, t) - alpha, c(0, 1))$root
        else if (p > alpha) 
          1/uniroot(function(t) pnhyper(x, 1/t) - alpha, c(.Machine$double.eps, 1))$root
        else 1
      }
      ncp.L <- function(x, alpha) {
        if (x == lo) 
          return(0)
        p <- pnhyper(x, 1, upper.tail = TRUE)
        if (p > alpha) 
          uniroot(function(t) pnhyper(x, t, upper.tail = TRUE) - alpha, c(0, 1))$root
        else if (p < alpha) 
          1/uniroot(function(t) pnhyper(x, 1/t, upper.tail = TRUE) - alpha, c(.Machine$double.eps, 1))$root
        else 1
      }
      CINT <- switch(alternative, less = c(0, ncp.U(x, 1 - conf.level)), greater = c(ncp.L(x, 1 - conf.level), Inf), two.sided = {
        alpha <- (1 - conf.level)/2
        c(ncp.L(x, alpha), ncp.U(x, alpha))
      })
      attr(CINT, "conf.level") <- conf.level
    }
    RVAL <- c(RVAL, list(conf.int = if (conf.int) CINT, estimate = ESTIMATE, null.value = NVAL))
  }
  structure(c(RVAL, alternative = alternative, method = METHOD, data.name = DNAME), class = "htest")
}, function (x, ...) 
{
  UseMethod("fisher.test")
}, function (x, y = NULL, workspace = 2e+05, hybrid = FALSE, hybridPars = c(expect = 5, percent = 80, Emin = 1), control = list(), or = 1, alternative = "two.sided", conf.int = TRUE, conf.level = 0.95, simulate.p.value = FALSE, B = 2000) 
{
  DNAME <- deparse1(substitute(x))
  METHOD <- "Fisher's Exact Test for Count Data"
  if (is.data.frame(x)) 
    x <- as.matrix(x)
  if (is.matrix(x)) {
    if (any(dim(x) < 2)) 
      stop("'x' must have at least 2 rows and columns")
    if (!is.numeric(x) || any(x < 0) || anyNA(x)) 
      stop("all entries of 'x' must be nonnegative and finite")
    if (!is.integer(x)) {
      xo <- x
      x <- round(x)
      if (any(x > .Machine$integer.max)) 
        stop("'x' has entries too large to be integer")
      if (!identical(TRUE, (ax <- all.equal(xo, x)))) 
        warning(gettextf("'x' has been rounded to integer: %s", ax), domain = NA)
      storage.mode(x) <- "integer"
    }
  }
  else {
    if (is.null(y)) 
      stop("if 'x' is not a matrix, 'y' must be given")
    if (length(x) != length(y)) 
      stop("'x' and 'y' must have the same length")
    DNAME <- paste(DNAME, "and", deparse1(substitute(y)))
    OK <- complete.cases(x, y)
    x <- as.factor(x[OK])
    y <- as.factor(y[OK])
    if ((nlevels(x) < 2) || (nlevels(y) < 2)) 
      stop("'x' and 'y' must have at least 2 levels")
    x <- table(x, y)
  }
  con <- list(mult = 30)
  con[names(control)] <- control
  if ((mult <- as.integer(con$mult)) < 2) 
    stop("'mult' must be integer >= 2, typically = 30")
  nr <- nrow(x)
  nc <- ncol(x)
  have.2x2 <- (nr == 2) && (nc == 2)
  if (have.2x2) {
    alternative <- char.expand(alternative, c("two.sided", "less", "greater"))
    if (length(alternative) > 1 || is.na(alternative)) 
      stop("alternative must be \"two.sided\", \"less\" or \"greater\"")
    if (!((length(conf.level) == 1) && is.finite(conf.level) && (conf.level > 0) && (conf.level < 1))) 
      stop("'conf.level' must be a single number between 0 and 1")
    if (!missing(or) && (length(or) > 1 || is.na(or) || or < 0)) 
      stop("'or' must be a single number between 0 and Inf")
  }
  PVAL <- NULL
  if (!have.2x2) {
    if (simulate.p.value) {
      sr <- rowSums(x)
      sc <- colSums(x)
      x <- x[sr > 0, sc > 0, drop = FALSE]
      nr <- as.integer(nrow(x))
      nc <- as.integer(ncol(x))
      if (is.na(nr) || is.na(nc) || is.na(nr * nc)) 
        stop("invalid nrow(x) or ncol(x)", domain = NA)
      if (nr <= 1) 
        stop("need 2 or more non-zero row marginals")
      if (nc <= 1) 
        stop("need 2 or more non-zero column marginals")
      METHOD <- paste(METHOD, "with simulated p-value\n\t (based on", B, "replicates)")
      STATISTIC <- -sum(lfactorial(x))
      tmp <- .Call(C_Fisher_sim, rowSums(x), colSums(x), B)
      almost.1 <- 1 + 64 * .Machine$double.eps
      PVAL <- (1 + sum(tmp <= STATISTIC/almost.1))/(B + 1)
    }
    else if (hybrid) {
      if (!is.null(nhP <- names(hybridPars)) && !identical(nhP, c("expect", "percent", "Emin"))) 
        stop("names(hybridPars) should be NULL or be identical to the default's")
      stopifnot(is.double(hypp <- as.double(hybridPars)), length(hypp) == 3, hypp[1] > 0, hypp[3] >= 0, 0 <= hypp[2], hypp[2] <= 100)
      PVAL <- .Call(C_Fexact, x, hypp, workspace, mult)
      METHOD <- paste(METHOD, sprintf("hybrid using asym.chisq. iff (exp=%g, perc=%g, Emin=%g)", hypp[1], hypp[2], hypp[3]))
    }
    else {
      PVAL <- .Call(C_Fexact, x, c(-1, 100, 0), workspace, mult)
    }
    RVAL <- list(p.value = max(0, min(1, PVAL)))
  }
  else {
    if (hybrid) 
      warning("'hybrid' is ignored for a 2 x 2 table")
    m <- sum(x[, 1])
    n <- sum(x[, 2])
    k <- sum(x[1, ])
    x <- x[1, 1]
    lo <- max(0, k - n)
    hi <- min(k, m)
    NVAL <- c(`odds ratio` = or)
    support <- lo:hi
    logdc <- dhyper(support, m, n, k, log = TRUE)
    dnhyper <- function(ncp) {
      d <- logdc + log(ncp) * support
      d <- exp(d - max(d))
      d/sum(d)
    }
    mnhyper <- function(ncp) {
      if (ncp == 0) 
        return(lo)
      if (ncp == Inf) 
        return(hi)
      sum(support * dnhyper(ncp))
    }
    pnhyper <- function(q, ncp = 1, upper.tail = FALSE) {
      if (ncp == 1) {
        return(if (upper.tail) phyper(x - 1, m, n, k, lower.tail = FALSE) else phyper(x, m, n, k))
      }
      if (ncp == 0) {
        return(as.numeric(if (upper.tail) q <= lo else q >= lo))
      }
      if (ncp == Inf) {
        return(as.numeric(if (upper.tail) q <= hi else q >= hi))
      }
      sum(dnhyper(ncp)[if (upper.tail) support >= q else support <= q])
    }
    if (is.null(PVAL)) {
      PVAL <- switch(alternative, less = pnhyper(x, or), greater = pnhyper(x, or, upper.tail = TRUE), two.sided = {
        if (or == 0) as.numeric(x == lo) else if (or == Inf) as.numeric(x == hi) else {
          relErr <- 1 + 10^(-7)
          d <- dnhyper(or)
          sum(d[d <= d[x - lo + 1] * relErr])
        }
      })
      RVAL <- list(p.value = PVAL)
    }
    mle <- function(x) {
      if (x == lo) 
        return(0)
      if (x == hi) 
        return(Inf)
      mu <- mnhyper(1)
      if (mu > x) 
        uniroot(function(t) mnhyper(t) - x, c(0, 1))$root
      else if (mu < x) 
        1/uniroot(function(t) mnhyper(1/t) - x, c(.Machine$double.eps, 1))$root
      else 1
    }
    ESTIMATE <- c(`odds ratio` = mle(x))
    if (conf.int) {
      ncp.U <- function(x, alpha) {
        if (x == hi) 
          return(Inf)
        p <- pnhyper(x, 1)
        if (p < alpha) 
          uniroot(function(t) pnhyper(x, t) - alpha, c(0, 1))$root
        else if (p > alpha) 
          1/uniroot(function(t) pnhyper(x, 1/t) - alpha, c(.Machine$double.eps, 1))$root
        else 1
      }
      ncp.L <- function(x, alpha) {
        if (x == lo) 
          return(0)
        p <- pnhyper(x, 1, upper.tail = TRUE)
        if (p > alpha) 
          uniroot(function(t) pnhyper(x, t, upper.tail = TRUE) - alpha, c(0, 1))$root
        else if (p < alpha) 
          1/uniroot(function(t) pnhyper(x, 1/t, upper.tail = TRUE) - alpha, c(.Machine$double.eps, 1))$root
        else 1
      }
      CINT <- switch(alternative, less = c(0, ncp.U(x, 1 - conf.level)), greater = c(ncp.L(x, 1 - conf.level), Inf), two.sided = {
        alpha <- (1 - conf.level)/2
        c(ncp.L(x, alpha), ncp.U(x, alpha))
      })
      attr(CINT, "conf.level") <- conf.level
    }
    RVAL <- c(RVAL, list(conf.int = if (conf.int) CINT, estimate = ESTIMATE, null.value = NVAL))
  }
  structure(c(RVAL, alternative = alternative, method = METHOD, data.name = DNAME), class = "htest")
})
c("package:janitor", "package:stats", "namespace:janitor", "namespace:stats")
c(TRUE, TRUE, FALSE, FALSE)
c(FALSE, FALSE, TRUE, TRUE)
get_dupes
list(`package:janitor` = function (dat, ...) 
{
  expr <- rlang::expr(c(...))
  pos <- tidyselect::eval_select(expr, data = dat)
  is_grouped <- dplyr::is_grouped_df(dat)
  if (is_grouped) {
    dat_groups <- dplyr::group_vars(dat)
    dat <- dat %>% dplyr::ungroup()
    if (getOption("get_dupes.grouped_warning", TRUE) & interactive()) {
      message(paste0("Data is grouped by [", paste(dat_groups, collapse = "|"), "]. Note that get_dupes() is not group aware and does not limit duplicate detection to within-groups, but rather checks over the entire data frame. However grouping structure is preserved.\nThis message is shown once per session and may be disabled by setting options(\"get_dupes.grouped_warning\" = FALSE)."))
      options(get_dupes.grouped_warning = FALSE)
    }
  }
  if (rlang::dots_n(...) == 0) {
    var_names <- names(dat)
    nms <- rlang::syms(var_names)
    message("No variable names specified - using all columns.\n")
  }
  else {
    var_names <- names(pos)
    nms <- rlang::syms(var_names)
  }
  dupe_count <- NULL
  dupes <- dat %>% dplyr::add_count(!!!nms, name = "dupe_count") %>% dplyr::filter(dupe_count > 1) %>% dplyr::select(!!!nms, dupe_count, dplyr::everything()) %>% dplyr::arrange(!!!nms)
  if (length(var_names) > 10) {
    var_names <- c(var_names[1:9], paste("... and", length(var_names) - 9, "other variables"))
  }
  if (nrow(dupes) == 0) {
    message(paste0("No duplicate combinations found of: ", paste(var_names, collapse = ", ")))
  }
  if (is_grouped) 
    dupes <- dupes %>% dplyr::group_by(!!!rlang::syms(dat_groups))
  return(dupes)
}, function (dat, ...) 
{
  expr <- rlang::expr(c(...))
  pos <- tidyselect::eval_select(expr, data = dat)
  is_grouped <- dplyr::is_grouped_df(dat)
  if (is_grouped) {
    dat_groups <- dplyr::group_vars(dat)
    dat <- dat %>% dplyr::ungroup()
    if (getOption("get_dupes.grouped_warning", TRUE) & interactive()) {
      message(paste0("Data is grouped by [", paste(dat_groups, collapse = "|"), "]. Note that get_dupes() is not group aware and does not limit duplicate detection to within-groups, but rather checks over the entire data frame. However grouping structure is preserved.\nThis message is shown once per session and may be disabled by setting options(\"get_dupes.grouped_warning\" = FALSE)."))
      options(get_dupes.grouped_warning = FALSE)
    }
  }
  if (rlang::dots_n(...) == 0) {
    var_names <- names(dat)
    nms <- rlang::syms(var_names)
    message("No variable names specified - using all columns.\n")
  }
  else {
    var_names <- names(pos)
    nms <- rlang::syms(var_names)
  }
  dupe_count <- NULL
  dupes <- dat %>% dplyr::add_count(!!!nms, name = "dupe_count") %>% dplyr::filter(dupe_count > 1) %>% dplyr::select(!!!nms, dupe_count, dplyr::everything()) %>% dplyr::arrange(!!!nms)
  if (length(var_names) > 10) {
    var_names <- c(var_names[1:9], paste("... and", length(var_names) - 9, "other variables"))
  }
  if (nrow(dupes) == 0) {
    message(paste0("No duplicate combinations found of: ", paste(var_names, collapse = ", ")))
  }
  if (is_grouped) 
    dupes <- dupes %>% dplyr::group_by(!!!rlang::syms(dat_groups))
  return(dupes)
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
make_clean_names
list(`package:janitor` = function (string, case = "snake", replace = c(`'` = "", `"` = "", `%` = "_percent_", `#` = "_number_"), ascii = TRUE, use_make_names = TRUE, sep_in = "\\.", transliterations = "Latin-ASCII", parsing_option = 1, numerals = "asis", ...) 
{
  if (case == "old_janitor") {
    return(old_make_clean_names(string))
  }
  replaced_names <- stringr::str_replace_all(string = string, pattern = replace)
  transliterated_names <- if (ascii) {
    stringi::stri_trans_general(replaced_names, id = available_transliterators(c("Any-Latin", "Greek-Latin", "Any-NFKD", "Any-NFC", "Latin-ASCII")))
  }
  else {
    replaced_names
  }
  good_start <- stringr::str_replace(string = transliterated_names, pattern = "\\A[\\h\\s\\p{Punctuation}\\p{Symbol}\\p{Separator}\\p{Other}]*(.*)$", replacement = "\\1")
  cleaned_within <- stringr::str_replace(string = good_start, pattern = "[\\h\\s\\p{Punctuation}\\p{Symbol}\\p{Separator}\\p{Other}]+", replacement = ".")
  made_names <- if (use_make_names) {
    make.names(cleaned_within)
  }
  else {
    cleaned_within
  }
  cased_names <- snakecase::to_any_case(made_names, case = case, sep_in = sep_in, transliterations = transliterations, parsing_option = parsing_option, numerals = numerals, ...)
  while (any(duplicated(cased_names))) {
    dupe_count <- vapply(seq_along(cased_names), function(i) {
      sum(cased_names[i] == cased_names[1:i])
    }, 1)
    cased_names[dupe_count > 1] <- paste(cased_names[dupe_count > 1], dupe_count[dupe_count > 1], sep = "_")
  }
  cased_names
}, function (string, case = "snake", replace = c(`'` = "", `"` = "", `%` = "_percent_", `#` = "_number_"), ascii = TRUE, use_make_names = TRUE, sep_in = "\\.", transliterations = "Latin-ASCII", parsing_option = 1, numerals = "asis", ...) 
{
  if (case == "old_janitor") {
    return(old_make_clean_names(string))
  }
  replaced_names <- stringr::str_replace_all(string = string, pattern = replace)
  transliterated_names <- if (ascii) {
    stringi::stri_trans_general(replaced_names, id = available_transliterators(c("Any-Latin", "Greek-Latin", "Any-NFKD", "Any-NFC", "Latin-ASCII")))
  }
  else {
    replaced_names
  }
  good_start <- stringr::str_replace(string = transliterated_names, pattern = "\\A[\\h\\s\\p{Punctuation}\\p{Symbol}\\p{Separator}\\p{Other}]*(.*)$", replacement = "\\1")
  cleaned_within <- stringr::str_replace(string = good_start, pattern = "[\\h\\s\\p{Punctuation}\\p{Symbol}\\p{Separator}\\p{Other}]+", replacement = ".")
  made_names <- if (use_make_names) {
    make.names(cleaned_within)
  }
  else {
    cleaned_within
  }
  cased_names <- snakecase::to_any_case(made_names, case = case, sep_in = sep_in, transliterations = transliterations, parsing_option = parsing_option, numerals = numerals, ...)
  while (any(duplicated(cased_names))) {
    dupe_count <- vapply(seq_along(cased_names), function(i) {
      sum(cased_names[i] == cased_names[1:i])
    }, 1)
    cased_names[dupe_count > 1] <- paste(cased_names[dupe_count > 1], dupe_count[dupe_count > 1], sep = "_")
  }
  cased_names
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
remove_constant
list(`package:janitor` = function (dat, na.rm = FALSE, quiet = TRUE) 
{
  mask <- sapply(X = seq_len(ncol(dat)), FUN = function(idx) {
    column_to_test <- if (is.matrix(dat)) {
      dat[, idx]
    }
    else {
      dat[[idx]]
    }
    length(unique(if (na.rm) {
      stats::na.omit(column_to_test)
    } else {
      column_to_test
    })) <= 1
  })
  if (!quiet) {
    remove_message(dat = dat, mask_keep = !mask, which = "columns", reason = "constant")
  }
  dat[, !mask, drop = FALSE]
}, function (dat, na.rm = FALSE, quiet = TRUE) 
{
  mask <- sapply(X = seq_len(ncol(dat)), FUN = function(idx) {
    column_to_test <- if (is.matrix(dat)) {
      dat[, idx]
    }
    else {
      dat[[idx]]
    }
    length(unique(if (na.rm) {
      stats::na.omit(column_to_test)
    } else {
      column_to_test
    })) <= 1
  })
  if (!quiet) {
    remove_message(dat = dat, mask_keep = !mask, which = "columns", reason = "constant")
  }
  dat[, !mask, drop = FALSE]
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
remove_empty
list(`package:janitor` = function (dat, which = c("rows", "cols"), quiet = TRUE) 
{
  if (missing(which) && !missing(dat)) {
    message("value for \"which\" not specified, defaulting to c(\"rows\", \"cols\")")
    which <- c("rows", "cols")
  }
  if ((sum(which %in% c("rows", "cols")) != length(which)) && !missing(dat)) {
    stop("\"which\" must be one of \"rows\", \"cols\", or c(\"rows\", \"cols\")")
  }
  if ("rows" %in% which) {
    mask_keep <- rowSums(is.na(dat)) != ncol(dat)
    if (!quiet) {
      remove_message(dat = dat, mask_keep = mask_keep, which = "rows", reason = "empty")
    }
    dat <- dat[mask_keep, , drop = FALSE]
  }
  if ("cols" %in% which) {
    mask_keep <- colSums(!is.na(dat)) > 0
    if (!quiet) {
      remove_message(dat = dat, mask_keep = mask_keep, which = "columns", reason = "empty")
    }
    dat <- dat[, mask_keep, drop = FALSE]
  }
  dat
}, function (dat, which = c("rows", "cols"), quiet = TRUE) 
{
  if (missing(which) && !missing(dat)) {
    message("value for \"which\" not specified, defaulting to c(\"rows\", \"cols\")")
    which <- c("rows", "cols")
  }
  if ((sum(which %in% c("rows", "cols")) != length(which)) && !missing(dat)) {
    stop("\"which\" must be one of \"rows\", \"cols\", or c(\"rows\", \"cols\")")
  }
  if ("rows" %in% which) {
    mask_keep <- rowSums(is.na(dat)) != ncol(dat)
    if (!quiet) {
      remove_message(dat = dat, mask_keep = mask_keep, which = "rows", reason = "empty")
    }
    dat <- dat[mask_keep, , drop = FALSE]
  }
  if ("cols" %in% which) {
    mask_keep <- colSums(!is.na(dat)) > 0
    if (!quiet) {
      remove_message(dat = dat, mask_keep = mask_keep, which = "columns", reason = "empty")
    }
    dat <- dat[, mask_keep, drop = FALSE]
  }
  dat
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
remove_empty_cols
list(`package:janitor` = function (dat) 
{
  lifecycle::deprecate_stop(when = "2.0.0", what = "janitor::remove_empty_cols()", with = "janitor::remove_empty()")
}, function (dat) 
{
  lifecycle::deprecate_stop(when = "2.0.0", what = "janitor::remove_empty_cols()", with = "janitor::remove_empty()")
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
remove_empty_rows
list(`package:janitor` = function (dat) 
{
  lifecycle::deprecate_stop(when = "2.0.0", what = "janitor::remove_empty_rows()", with = "janitor::remove_empty()")
}, function (dat) 
{
  lifecycle::deprecate_stop(when = "2.0.0", what = "janitor::remove_empty_rows()", with = "janitor::remove_empty()")
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
round_half_up
list(`package:janitor` = function (x, digits = 0) 
{
  posneg <- sign(x)
  z <- abs(x) * 10^digits
  z <- z + 0.5 + sqrt(.Machine$double.eps)
  z <- trunc(z)
  z <- z/10^digits
  z * posneg
}, function (x, digits = 0) 
{
  posneg <- sign(x)
  z <- abs(x) * 10^digits
  z <- z + 0.5 + sqrt(.Machine$double.eps)
  z <- trunc(z)
  z <- z/10^digits
  z * posneg
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
round_to_fraction
list(`package:janitor` = function (x, denominator, digits = Inf) 
{
  stopifnot(is.numeric(x))
  stopifnot(length(denominator) %in% c(1, length(x)))
  stopifnot(is.numeric(denominator))
  stopifnot(denominator >= 1)
  if (!(identical(digits, "auto") || (is.numeric(digits) & (length(digits) %in% c(1, length(x)))))) {
    stop("`digits` must be either \"auto\" or a number that is either a scalar (length = 1) or the same length as `x`.")
  }
  ret <- round(x * denominator, digits = 0)/denominator
  if (identical(digits, "auto")) {
    digits <- ceiling(log10(denominator)) + 1
  }
  mask_inf_digits <- is.infinite(digits)
  if (!all(mask_inf_digits)) {
    ret[!mask_inf_digits] <- round(ret[!mask_inf_digits], digits = digits[!mask_inf_digits])
  }
  ret
}, function (x, denominator, digits = Inf) 
{
  stopifnot(is.numeric(x))
  stopifnot(length(denominator) %in% c(1, length(x)))
  stopifnot(is.numeric(denominator))
  stopifnot(denominator >= 1)
  if (!(identical(digits, "auto") || (is.numeric(digits) & (length(digits) %in% c(1, length(x)))))) {
    stop("`digits` must be either \"auto\" or a number that is either a scalar (length = 1) or the same length as `x`.")
  }
  ret <- round(x * denominator, digits = 0)/denominator
  if (identical(digits, "auto")) {
    digits <- ceiling(log10(denominator)) + 1
  }
  mask_inf_digits <- is.infinite(digits)
  if (!all(mask_inf_digits)) {
    ret[!mask_inf_digits] <- round(ret[!mask_inf_digits], digits = digits[!mask_inf_digits])
  }
  ret
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
row_to_names
list(`package:janitor` = function (dat, row_number, remove_row = TRUE, remove_rows_above = TRUE) 
{
  if (length(row_number) != 1 | !is.numeric(row_number)) {
    stop("row_number must be a numeric of length 1")
  }
  new_names <- as.character(unlist(dat[row_number, ], use.names = FALSE))
  if (any(duplicated(new_names))) {
    warning("Row ", row_number, " does not provide unique names. Consider running clean_names() after row_to_names().")
  }
  colnames(dat) <- new_names
  rows_to_remove <- c(if (remove_row) {
    row_number
  } else {
    c()
  }, if (remove_rows_above) {
    seq_len(row_number - 1)
  } else {
    c()
  })
  if (length(rows_to_remove)) {
    dat[-(rows_to_remove), , drop = FALSE]
  }
  else {
    dat
  }
}, function (dat, row_number, remove_row = TRUE, remove_rows_above = TRUE) 
{
  if (length(row_number) != 1 | !is.numeric(row_number)) {
    stop("row_number must be a numeric of length 1")
  }
  new_names <- as.character(unlist(dat[row_number, ], use.names = FALSE))
  if (any(duplicated(new_names))) {
    warning("Row ", row_number, " does not provide unique names. Consider running clean_names() after row_to_names().")
  }
  colnames(dat) <- new_names
  rows_to_remove <- c(if (remove_row) {
    row_number
  } else {
    c()
  }, if (remove_rows_above) {
    seq_len(row_number - 1)
  } else {
    c()
  })
  if (length(rows_to_remove)) {
    dat[-(rows_to_remove), , drop = FALSE]
  }
  else {
    dat
  }
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
signif_half_up
list(`package:janitor` = function (x, digits = 6) 
{
  xs <- which(x != 0 & !is.na(x) & !is.infinite(x))
  y <- rep(0, length(x))
  z <- x
  y[xs] <- 10^(digits - ceiling(log10(abs(x[xs]))))
  z[xs] <- round_half_up(x[xs] * y[xs])/y[xs]
  return(z)
}, function (x, digits = 6) 
{
  xs <- which(x != 0 & !is.na(x) & !is.infinite(x))
  y <- rep(0, length(x))
  z <- x
  y[xs] <- 10^(digits - ceiling(log10(abs(x[xs]))))
  z[xs] <- round_half_up(x[xs] * y[xs])/y[xs]
  return(z)
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
tabyl
list(`package:janitor` = function (dat, ...) 
  UseMethod("tabyl"), function (dat, ...) 
    UseMethod("tabyl"))
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
top_levels
list(`package:janitor` = function (input_vec, n = 2, show_na = FALSE) 
{
  if (!is.factor(input_vec)) {
    stop("factor_vec is not of type 'factor'")
  }
  num_levels_in_var <- nlevels(input_vec)
  if (!num_levels_in_var > 2) {
    stop("input factor variable must have at least 3 levels")
  }
  if (num_levels_in_var < 2 * n) {
    stop(paste0("there are ", num_levels_in_var, " levels in the variable and ", n, " levels in each of the top and bottom groups.\nSince 2 * ", n, " = ", 2 * n, " is greater than ", num_levels_in_var, ", there would be overlap in the top and bottom groups and some records will be double-counted."))
  }
  if (n < 1 || n%%1 != 0) {
    stop("n must be a whole number at least 1")
  }
  var_name <- deparse(substitute(input_vec))
  groups <- get_level_groups(input_vec, n, num_levels_in_var)
  new_vec <- ifelse(as.numeric(input_vec) <= n, groups$top, ifelse(as.numeric(input_vec) > (num_levels_in_var - n), groups$bot, groups$mid))
  if (!is.na(groups$mid)) {
    new_vec <- factor(new_vec, levels = c(groups$top, groups$mid, groups$bot))
  }
  else {
    new_vec <- factor(new_vec, levels = c(groups$top, groups$bot))
  }
  result <- tabyl(new_vec, show_na = show_na)
  names(result)[1] <- var_name
  result
}, function (input_vec, n = 2, show_na = FALSE) 
{
  if (!is.factor(input_vec)) {
    stop("factor_vec is not of type 'factor'")
  }
  num_levels_in_var <- nlevels(input_vec)
  if (!num_levels_in_var > 2) {
    stop("input factor variable must have at least 3 levels")
  }
  if (num_levels_in_var < 2 * n) {
    stop(paste0("there are ", num_levels_in_var, " levels in the variable and ", n, " levels in each of the top and bottom groups.\nSince 2 * ", n, " = ", 2 * n, " is greater than ", num_levels_in_var, ", there would be overlap in the top and bottom groups and some records will be double-counted."))
  }
  if (n < 1 || n%%1 != 0) {
    stop("n must be a whole number at least 1")
  }
  var_name <- deparse(substitute(input_vec))
  groups <- get_level_groups(input_vec, n, num_levels_in_var)
  new_vec <- ifelse(as.numeric(input_vec) <= n, groups$top, ifelse(as.numeric(input_vec) > (num_levels_in_var - n), groups$bot, groups$mid))
  if (!is.na(groups$mid)) {
    new_vec <- factor(new_vec, levels = c(groups$top, groups$mid, groups$bot))
  }
  else {
    new_vec <- factor(new_vec, levels = c(groups$top, groups$bot))
  }
  result <- tabyl(new_vec, show_na = show_na)
  names(result)[1] <- var_name
  result
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
untabyl
list(`package:janitor` = function (dat) 
{
  if (is.list(dat) && !is.data.frame(dat)) {
    purrr::map(dat, untabyl)
  }
  else {
    if (!"tabyl" %in% class(dat)) {
      warning("untabyl() called on a non-tabyl")
    }
    class(dat) <- class(dat)[!class(dat) %in% "tabyl"]
    attr(dat, "core") <- NULL
    attr(dat, "totals") <- NULL
    attr(dat, "tabyl_type") <- NULL
    attr(dat, "var_names") <- NULL
    dat
  }
}, function (dat) 
{
  if (is.list(dat) && !is.data.frame(dat)) {
    purrr::map(dat, untabyl)
  }
  else {
    if (!"tabyl" %in% class(dat)) {
      warning("untabyl() called on a non-tabyl")
    }
    class(dat) <- class(dat)[!class(dat) %in% "tabyl"]
    attr(dat, "core") <- NULL
    attr(dat, "totals") <- NULL
    attr(dat, "tabyl_type") <- NULL
    attr(dat, "var_names") <- NULL
    dat
  }
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)
use_first_valid_of
list(`package:janitor` = function (..., if_all_NA = NA) 
{
  lifecycle::deprecate_stop(when = "2.0.0", what = "janitor::use_first_valid_of()", with = "dplyr::coalesce()")
}, function (..., if_all_NA = NA) 
{
  lifecycle::deprecate_stop(when = "2.0.0", what = "janitor::use_first_valid_of()", with = "dplyr::coalesce()")
})
c("package:janitor", "namespace:janitor")
c(TRUE, FALSE)
c(FALSE, TRUE)


#################################################################################################
library(jsonlite)
.__T__$:base
list(`package:sp` = <environment>, `package:jsonlite` = <environment>, `package:methods` = <environment>, <environment>, <environment>, <environment>, <environment>, <environment>, <environment>)
c("package:sp", "package:jsonlite", "package:methods", "namespace:terra", "namespace:sp", "namespace:raster", "namespace:methods", "namespace:Rcpp", "namespace:lubridate")
c(TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE)
c(FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE)
.__T__$<-:base
list(`package:sp` = <environment>, `package:jsonlite` = <environment>, `package:methods` = <environment>, <environment>, <environment>, <environment>, <environment>, <environment>)
c("package:sp", "package:jsonlite", "package:methods", "namespace:terra", "namespace:sp", "namespace:raster", "namespace:methods", "namespace:lubridate")
c(TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE)
c(FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, TRUE, FALSE)
.__T__[:base
       list(`package:sp` = <environment>, `package:jsonlite` = <environment>, `package:methods` = <environment>, <environment>, <environment>, <environment>, <environment>, <environment>, <environment>)
       c("package:sp", "package:jsonlite", "package:methods", "namespace:terra", "namespace:colorspace", "namespace:sp", "namespace:raster", "namespace:methods", "namespace:lubridate")
       c(TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE)
       c(FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, TRUE, FALSE)
       .__T__[[<-:base
               list(`package:sp` = <environment>, `package:jsonlite` = <environment>, `package:methods` = <environment>, <environment>, <environment>, <environment>, <environment>, <environment>)
               c("package:sp", "package:jsonlite", "package:methods", "namespace:terra", "namespace:sp", "namespace:raster", "namespace:methods", "namespace:lubridate")
               c(TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE)
               c(FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, TRUE, FALSE)
               .__T__[<-:base
                      list(`package:sp` = <environment>, `package:jsonlite` = <environment>, `package:methods` = <environment>, <environment>, <environment>, <environment>, <environment>, <environment>)
                      c("package:sp", "package:jsonlite", "package:methods", "namespace:terra", "namespace:sp", "namespace:raster", "namespace:methods", "namespace:lubridate")
                      c(TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE)
                      c(FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, TRUE, FALSE)
                      .Depends
                      list(`package:sp` = "methods", `package:jsonlite` = "methods")
                      c("package:sp", "package:jsonlite")
                      c(TRUE, TRUE)
                      c(FALSE, TRUE)
                      base64_dec
                      list(`package:jsonlite` = function (input) 
                      {
                        if (is.character(input)) {
                          input <- charToRaw(paste(input, collapse = "\n"))
                        }
                        stopifnot(is.raw(input))
                        .Call(R_base64_decode, input)
                      }, list(name = "base64_dec", address = <pointer: 0x000002af1e535ea0>, dll = list(name = "xfun", path = "C:/Users/50045208/AppData/Local/R/win-library/4.2/xfun/libs/x64/xfun.dll", dynamicLookup = FALSE, handle = <pointer: 0x00007ff867f10000>, info = <pointer: 0x000002af22e2c8b0>), numParameters = 1), function (input) 
                      {
                        if (is.character(input)) {
                          input <- charToRaw(paste(input, collapse = "\n"))
                        }
                        stopifnot(is.raw(input))
                        .Call(R_base64_decode, input)
                      })
                      c("package:jsonlite", "namespace:xfun", "namespace:jsonlite")
                      c(TRUE, FALSE, FALSE)
                      c(FALSE, FALSE, TRUE)
                      base64_enc
                      list(`package:jsonlite` = function (input) 
                      {
                        if (is.null(input)) 
                          return(NA)
                        if (is.character(input)) {
                          input <- charToRaw(paste(input, collapse = "\n"))
                        }
                        stopifnot(is.raw(input))
                        .Call(R_base64_encode, input)
                      }, list(name = "base64_enc", address = <pointer: 0x000002af1e535ce0>, dll = list(name = "xfun", path = "C:/Users/50045208/AppData/Local/R/win-library/4.2/xfun/libs/x64/xfun.dll", dynamicLookup = FALSE, handle = <pointer: 0x00007ff867f10000>, info = <pointer: 0x000002af22e2c8b0>), numParameters = 1), function (input) 
                      {
                        if (is.null(input)) 
                          return(NA)
                        if (is.character(input)) {
                          input <- charToRaw(paste(input, collapse = "\n"))
                        }
                        stopifnot(is.raw(input))
                        .Call(R_base64_encode, input)
                      })
                      c("package:jsonlite", "namespace:xfun", "namespace:jsonlite")
                      c(TRUE, FALSE, FALSE)
                      c(FALSE, FALSE, TRUE)
                      flatten
                      list(`package:jsonlite` = function (x, recursive = TRUE) 
                      {
                        stopifnot(is.data.frame(x))
                        nr <- nrow(x)
                        dfcolumns <- vapply(x, is.data.frame, logical(1))
                        if (!any(dfcolumns)) {
                          return(x)
                        }
                        x <- if (recursive) {
                          c(x[!dfcolumns], do.call(c, lapply(x[dfcolumns], flatten)))
                        }
                        else {
                          c(x[!dfcolumns], do.call(c, x[dfcolumns]))
                        }
                        class(x) <- "data.frame"
                        row.names(x) <- if (!nr) 
                          character(0)
                        else 1:nr
                        x
                      }, function (.x) 
                      {
                        .Call(flatten_impl, .x)
                      }, function (x) 
                      {
                        .Call(ffi_squash, x, "list", is_spliced_bare, 1)
                      }, function (x, recursive = TRUE) 
                      {
                        stopifnot(is.data.frame(x))
                        nr <- nrow(x)
                        dfcolumns <- vapply(x, is.data.frame, logical(1))
                        if (!any(dfcolumns)) {
                          return(x)
                        }
                        x <- if (recursive) {
                          c(x[!dfcolumns], do.call(c, lapply(x[dfcolumns], flatten)))
                        }
                        else {
                          c(x[!dfcolumns], do.call(c, x[dfcolumns]))
                        }
                        class(x) <- "data.frame"
                        row.names(x) <- if (!nr) 
                          character(0)
                        else 1:nr
                        x
                      })
                      c("package:jsonlite", "namespace:purrr", "namespace:rlang", "namespace:jsonlite")
                      c(TRUE, FALSE, FALSE, FALSE)
                      c(FALSE, FALSE, FALSE, TRUE)
                      fromJSON
                      list(`package:jsonlite` = function (txt, simplifyVector = TRUE, simplifyDataFrame = simplifyVector, simplifyMatrix = simplifyVector, flatten = FALSE, ...) 
                      {
                        if (!is.character(txt) && !inherits(txt, "connection")) {
                          stop("Argument 'txt' must be a JSON string, URL or file.")
                        }
                        if (is.character(txt) && length(txt) == 1 && nchar(txt, type = "bytes") < 2084 && !validate(txt)) {
                          if (grepl("^https?://", txt, useBytes = TRUE)) {
                            loadpkg("curl")
                            h <- curl::new_handle(useragent = paste("jsonlite /", R.version.string))
                            curl::handle_setheaders(h, Accept = "application/json, text/*, */*")
                            txt <- curl::curl(txt, handle = h)
                          }
                          else if (file.exists(txt)) {
                            txt <- file(txt)
                          }
                        }
                        parse_and_simplify(txt = txt, simplifyVector = simplifyVector, simplifyDataFrame = simplifyDataFrame, simplifyMatrix = simplifyMatrix, flatten = flatten, ...)
                      }, function (txt, simplifyVector = TRUE, simplifyDataFrame = simplifyVector, simplifyMatrix = simplifyVector, flatten = FALSE, ...) 
                      {
                        if (!is.character(txt) && !inherits(txt, "connection")) {
                          stop("Argument 'txt' must be a JSON string, URL or file.")
                        }
                        if (is.character(txt) && length(txt) == 1 && nchar(txt, type = "bytes") < 2084 && !validate(txt)) {
                          if (grepl("^https?://", txt, useBytes = TRUE)) {
                            loadpkg("curl")
                            h <- curl::new_handle(useragent = paste("jsonlite /", R.version.string))
                            curl::handle_setheaders(h, Accept = "application/json, text/*, */*")
                            txt <- curl::curl(txt, handle = h)
                          }
                          else if (file.exists(txt)) {
                            txt <- file(txt)
                          }
                        }
                        parse_and_simplify(txt = txt, simplifyVector = simplifyVector, simplifyDataFrame = simplifyDataFrame, simplifyMatrix = simplifyMatrix, flatten = flatten, ...)
                      })
                      c("package:jsonlite", "namespace:jsonlite")
                      c(TRUE, FALSE)
                      c(FALSE, TRUE)
                      minify
                      list(`package:jsonlite` = function (txt) 
                      {
                        txt <- paste(txt, collapse = "\n")
                        reformat(txt, FALSE)
                      }, function (txt) 
                      {
                        txt <- paste(txt, collapse = "\n")
                        reformat(txt, FALSE)
                      })
                      c("package:jsonlite", "namespace:jsonlite")
                      c(TRUE, FALSE)
                      c(FALSE, TRUE)
                      parse_json
                      list(`package:jsonlite` = function (json, simplifyVector = FALSE, ...) 
                      {
                        parse_and_simplify(json, simplifyVector = simplifyVector, ...)
                      }, function (json, simplifyVector = FALSE, ...) 
                      {
                        parse_and_simplify(json, simplifyVector = simplifyVector, ...)
                      })
                      c("package:jsonlite", "namespace:jsonlite")
                      c(TRUE, FALSE)
                      c(FALSE, TRUE)
                      prettify
                      list(`package:jsonlite` = function (txt, indent = 4) 
                      {
                        txt <- paste(txt, collapse = "\n")
                        reformat(txt, TRUE, indent_string = paste(rep(" ", as.integer(indent)), collapse = ""))
                      }, function (txt, indent = 4) 
                      {
                        txt <- paste(txt, collapse = "\n")
                        reformat(txt, TRUE, indent_string = paste(rep(" ", as.integer(indent)), collapse = ""))
                      })
                      c("package:jsonlite", "namespace:jsonlite")
                      c(TRUE, FALSE)
                      c(FALSE, TRUE)
                      rbind_pages
                      list(`package:jsonlite` = function (pages) 
                      {
                        loadpkg("vctrs")
                        stopifnot(is.list(pages))
                        pages <- Filter(function(x) {
                          !is.null(x)
                        }, pages)
                        stopifnot(all(vapply(pages, is.data.frame, logical(1))))
                        do.call(vctrs::vec_rbind, pages)
                      }, function (pages) 
                      {
                        loadpkg("vctrs")
                        stopifnot(is.list(pages))
                        pages <- Filter(function(x) {
                          !is.null(x)
                        }, pages)
                        stopifnot(all(vapply(pages, is.data.frame, logical(1))))
                        do.call(vctrs::vec_rbind, pages)
                      })
                      c("package:jsonlite", "namespace:jsonlite")
                      c(TRUE, FALSE)
                      c(FALSE, TRUE)
                      read_json
                      list(`package:jsonlite` = function (path, simplifyVector = FALSE, ...) 
                      {
                        parse_json(file(path), simplifyVector = simplifyVector, ...)
                      }, function (path, simplifyVector = FALSE, ...) 
                      {
                        parse_json(file(path), simplifyVector = simplifyVector, ...)
                      })
                      c("package:jsonlite", "namespace:jsonlite")
                      c(TRUE, FALSE)
                      c(FALSE, TRUE)
                      serializeJSON
                      list(`package:jsonlite` = function (x, digits = 8, pretty = FALSE) 
                      {
                        is(x)
                        ans <- asJSON(pack(x), digits = digits, indent = if (isTRUE(pretty)) 
                          0
                          else NA)
                        class(ans) <- "json"
                        return(ans)
                      }, function (x, digits = 8, pretty = FALSE) 
                      {
                        is(x)
                        ans <- asJSON(pack(x), digits = digits, indent = if (isTRUE(pretty)) 
                          0
                          else NA)
                        class(ans) <- "json"
                        return(ans)
                      })
                      c("package:jsonlite", "namespace:jsonlite")
                      c(TRUE, FALSE)
                      c(FALSE, TRUE)
                      stream_in
                      list(`package:jsonlite` = function (con, handler = NULL, pagesize = 500, verbose = TRUE, ...) 
                      {
                        if (!is(con, "connection")) {
                          stop("Argument 'con' must be a connection.")
                        }
                        count <- 0
                        cb <- if (is.null(handler)) {
                          out <- new.env()
                          function(x) {
                            if (length(x)) {
                              count <<- count + length(x)
                              out[[as.character(count)]] <<- x
                            }
                          }
                        }
                        else {
                          if (verbose) 
                            message("using a custom handler function.")
                          function(x) {
                            handler(post_process(x, ...))
                            count <<- count + length(x)
                          }
                        }
                        if (!isOpen(con, "r")) {
                          if (verbose) 
                            message("opening ", is(con), " input connection.")
                          open(con, "rb")
                          on.exit({
                            if (verbose) message("closing ", is(con), " input connection.")
                            close(con)
                          })
                        }
                        repeat {
                          page <- readLines(con, n = pagesize, encoding = "UTF-8")
                          if (length(page)) {
                            cleanpage <- Filter(nchar, page)
                            cb(lapply(cleanpage, parseJSON))
                            if (verbose) 
                              cat("\r Found", count, "records...")
                          }
                          if (length(page) < pagesize) 
                            break
                        }
                        if (is.null(handler)) {
                          if (verbose) 
                            cat("\r Imported", count, "records. Simplifying...\n")
                          out <- as.list(out, sorted = FALSE)
                          post_process(unlist(out[order(as.numeric(names(out)))], FALSE, FALSE), ...)
                        }
                        else {
                          invisible()
                        }
                      }, function (con, handler = NULL, pagesize = 500, verbose = TRUE, ...) 
                      {
                        if (!is(con, "connection")) {
                          stop("Argument 'con' must be a connection.")
                        }
                        count <- 0
                        cb <- if (is.null(handler)) {
                          out <- new.env()
                          function(x) {
                            if (length(x)) {
                              count <<- count + length(x)
                              out[[as.character(count)]] <<- x
                            }
                          }
                        }
                        else {
                          if (verbose) 
                            message("using a custom handler function.")
                          function(x) {
                            handler(post_process(x, ...))
                            count <<- count + length(x)
                          }
                        }
                        if (!isOpen(con, "r")) {
                          if (verbose) 
                            message("opening ", is(con), " input connection.")
                          open(con, "rb")
                          on.exit({
                            if (verbose) message("closing ", is(con), " input connection.")
                            close(con)
                          })
                        }
                        repeat {
                          page <- readLines(con, n = pagesize, encoding = "UTF-8")
                          if (length(page)) {
                            cleanpage <- Filter(nchar, page)
                            cb(lapply(cleanpage, parseJSON))
                            if (verbose) 
                              cat("\r Found", count, "records...")
                          }
                          if (length(page) < pagesize) 
                            break
                        }
                        if (is.null(handler)) {
                          if (verbose) 
                            cat("\r Imported", count, "records. Simplifying...\n")
                          out <- as.list(out, sorted = FALSE)
                          post_process(unlist(out[order(as.numeric(names(out)))], FALSE, FALSE), ...)
                        }
                        else {
                          invisible()
                        }
                      })
                      c("package:jsonlite", "namespace:jsonlite")
                      c(TRUE, FALSE)
                      c(FALSE, TRUE)
                      stream_out
                      list(`package:jsonlite` = function (x, con = stdout(), pagesize = 500, verbose = TRUE, prefix = "", ...) 
                      {
                        if (!is(con, "connection")) {
                          stop("Argument 'con' must be a connection.")
                        }
                        if (!isOpen(con, "w")) {
                          if (verbose) 
                            message("opening ", is(con), " output connection.")
                          open(con, "wb")
                          on.exit({
                            if (verbose) message("closing ", is(con), " output connection.")
                            close(con)
                          })
                        }
                        invisible(apply_by_pages(x, stream_out_page, pagesize = pagesize, con = con, verbose = verbose, prefix = prefix, ...))
                      }, function (x, con = stdout(), pagesize = 500, verbose = TRUE, prefix = "", ...) 
                      {
                        if (!is(con, "connection")) {
                          stop("Argument 'con' must be a connection.")
                        }
                        if (!isOpen(con, "w")) {
                          if (verbose) 
                            message("opening ", is(con), " output connection.")
                          open(con, "wb")
                          on.exit({
                            if (verbose) message("closing ", is(con), " output connection.")
                            close(con)
                          })
                        }
                        invisible(apply_by_pages(x, stream_out_page, pagesize = pagesize, con = con, verbose = verbose, prefix = prefix, ...))
                      })
                      c("package:jsonlite", "namespace:jsonlite")
                      c(TRUE, FALSE)
                      c(FALSE, TRUE)
                      toJSON
                      list(`package:jsonlite` = function (x, dataframe = c("rows", "columns", "values"), matrix = c("rowmajor", "columnmajor"), Date = c("ISO8601", "epoch"), POSIXt = c("string", "ISO8601", "epoch", "mongo"), factor = c("string", "integer"), complex = c("string", "list"), raw = c("base64", "hex", "mongo", "int", "js"), null = c("list", "null"), na = c("null", "string"), auto_unbox = FALSE, digits = 4, pretty = FALSE, force = FALSE, ...) 
                      {
                        dataframe <- match.arg(dataframe)
                        matrix <- match.arg(matrix)
                        Date <- match.arg(Date)
                        POSIXt <- match.arg(POSIXt)
                        factor <- match.arg(factor)
                        complex <- match.arg(complex)
                        raw <- match.arg(raw)
                        null <- match.arg(null)
                        x <- force(x)
                        if (!missing(na)) {
                          na <- match.arg(na)
                        }
                        else {
                          na <- NULL
                        }
                        indent <- if (isTRUE(pretty)) 
                          0
                        else NA
                        ans <- asJSON(x, dataframe = dataframe, Date = Date, POSIXt = POSIXt, factor = factor, complex = complex, raw = raw, matrix = matrix, auto_unbox = auto_unbox, digits = digits, na = na, null = null, force = force, indent = indent, ...)
                        if (is.numeric(pretty)) {
                          prettify(ans, pretty)
                        }
                        else {
                          class(ans) <- "json"
                          return(ans)
                        }
                      }, function (x) 
                      {
                        if (!is.list(x) || !("x" %in% names(x))) 
                          return(toJSON2(x))
                        func <- attr(x$x, "TOJSON_FUNC", exact = TRUE)
                        args <- attr(x$x, "TOJSON_ARGS", exact = TRUE)
                        if (length(args) == 0) 
                          args <- getOption("htmlwidgets.TOJSON_ARGS")
                        if (!is.function(func)) 
                          func <- toJSON2
                        res <- if (length(args) == 0) 
                          func(x)
                        else do.call(func, c(list(x = x), args))
                        structure(res, class = "json")
                      }, function (x, dataframe = c("rows", "columns", "values"), matrix = c("rowmajor", "columnmajor"), Date = c("ISO8601", "epoch"), POSIXt = c("string", "ISO8601", "epoch", "mongo"), factor = c("string", "integer"), complex = c("string", "list"), raw = c("base64", "hex", "mongo", "int", "js"), null = c("list", "null"), na = c("null", "string"), auto_unbox = FALSE, digits = 4, pretty = FALSE, force = FALSE, ...) 
                      {
                        dataframe <- match.arg(dataframe)
                        matrix <- match.arg(matrix)
                        Date <- match.arg(Date)
                        POSIXt <- match.arg(POSIXt)
                        factor <- match.arg(factor)
                        complex <- match.arg(complex)
                        raw <- match.arg(raw)
                        null <- match.arg(null)
                        x <- force(x)
                        if (!missing(na)) {
                          na <- match.arg(na)
                        }
                        else {
                          na <- NULL
                        }
                        indent <- if (isTRUE(pretty)) 
                          0
                        else NA
                        ans <- asJSON(x, dataframe = dataframe, Date = Date, POSIXt = POSIXt, factor = factor, complex = complex, raw = raw, matrix = matrix, auto_unbox = auto_unbox, digits = digits, na = na, null = null, force = force, indent = indent, ...)
                        if (is.numeric(pretty)) {
                          prettify(ans, pretty)
                        }
                        else {
                          class(ans) <- "json"
                          return(ans)
                        }
                      }, function (x, ..., dataframe = "columns", null = "null", na = "null", auto_unbox = TRUE, digits = getOption("shiny.json.digits", 16), use_signif = TRUE, force = TRUE, POSIXt = "ISO8601", UTC = TRUE, rownames = FALSE, keep_vec_names = TRUE, strict_atomic = TRUE) 
                      {
                        if (strict_atomic) {
                          x <- I(x)
                        }
                        jsonlite::toJSON(x, dataframe = dataframe, null = null, na = na, auto_unbox = auto_unbox, digits = digits, use_signif = use_signif, force = force, POSIXt = POSIXt, UTC = UTC, rownames = rownames, keep_vec_names = keep_vec_names, json_verbatim = TRUE, ...)
                      })
                      c("package:jsonlite", "namespace:htmlwidgets", "namespace:jsonlite", "namespace:shiny")
                      c(TRUE, FALSE, FALSE, FALSE)
                      c(FALSE, FALSE, TRUE, FALSE)
                      unbox
                      list(`package:jsonlite` = function (x) 
                      {
                        if (is.null(x)) {
                          return(x)
                        }
                        if (is.data.frame(x)) {
                          if (nrow(x) == 1) {
                            return(as.scalar(x))
                          }
                          else {
                            stop("Tried to unbox dataframe with ", nrow(x), " rows.")
                          }
                        }
                        if (is.null(x) || !is.atomic(x) || length(dim(x)) > 1) {
                          stop("Only atomic vectors of length 1 or data frames with 1 row can be unboxed.")
                        }
                        if (identical(length(x), 1)) {
                          return(as.scalar(x))
                        }
                        else {
                          stop("Tried to unbox a vector of length ", length(x))
                        }
                      }, function (box) 
                      {
                        if (!inherits(box, "rlang_box")) {
                          abort("`box` must be a box")
                        }
                        box[[1]]
                      }, function (x) 
                      {
                        if (is.null(x)) {
                          return(x)
                        }
                        if (is.data.frame(x)) {
                          if (nrow(x) == 1) {
                            return(as.scalar(x))
                          }
                          else {
                            stop("Tried to unbox dataframe with ", nrow(x), " rows.")
                          }
                        }
                        if (is.null(x) || !is.atomic(x) || length(dim(x)) > 1) {
                          stop("Only atomic vectors of length 1 or data frames with 1 row can be unboxed.")
                        }
                        if (identical(length(x), 1)) {
                          return(as.scalar(x))
                        }
                        else {
                          stop("Tried to unbox a vector of length ", length(x))
                        }
                      })
                      c("package:jsonlite", "namespace:rlang", "namespace:jsonlite")
                      c(TRUE, FALSE, FALSE)
                      c(FALSE, FALSE, TRUE)
                      unserializeJSON
                      list(`package:jsonlite` = function (txt) 
                      {
                        unpack(parseJSON(txt))
                      }, function (txt) 
                      {
                        unpack(parseJSON(txt))
                      })
                      c("package:jsonlite", "namespace:jsonlite")
                      c(TRUE, FALSE)
                      c(FALSE, TRUE)
                      validate
                      list(`package:jsonlite` = function (txt) 
                      {
                        stopifnot(is.character(txt))
                        txt <- paste(txt, collapse = "\n")
                        .Call(R_validate, as.character(txt))
                      }, function (txt) 
                      {
                        stopifnot(is.character(txt))
                        txt <- paste(txt, collapse = "\n")
                        .Call(R_validate, as.character(txt))
                      }, function (..., errorClass = character(0)) 
                      {
                        results <- sapply(list2(...), function(x) {
                          if (is.null(x)) 
                            return(NA)
                          else if (identical(x, FALSE)) 
                            return("")
                          else if (is.character(x)) 
                            return(paste(as.character(x), collapse = "\n"))
                          else stop("Unexpected validation result: ", as.character(x))
                        })
                        results <- stats::na.omit(results)
                        if (length(results) == 0) 
                          return(invisible())
                        results <- results[nzchar(results)]
                        reactiveStop(paste(results, collapse = "\n"), c(errorClass, "validation"))
                      })
                      c("package:jsonlite", "namespace:jsonlite", "namespace:shiny")
                      c(TRUE, FALSE, FALSE)
                      c(FALSE, TRUE, FALSE)
                      write_json
                      list(`package:jsonlite` = function (x, path, ...) 
                      {
                        json <- jsonlite::toJSON(x, ...)
                        writeLines(json, path, useBytes = TRUE)
                      }, function (x, path, ...) 
                      {
                        json <- jsonlite::toJSON(x, ...)
                        writeLines(json, path, useBytes = TRUE)
                      })
                      c("package:jsonlite", "namespace:jsonlite")
                      c(TRUE, FALSE)
                      c(FALSE, TRUE)


###################################################################################################
library(knitr)
all_labels
list(`package:knitr` = function (...) 
{
  cond = as.list(match.call())[-1]
  code = knit_code$get()
  labels = names(code)
  if (length(cond) == 0) 
    return(labels)
  params = lapply(code, attr, "chunk_opts")
  idx = rep_len(TRUE, length(labels))
  for (i in seq_along(cond)) {
    for (j in seq_along(params)) {
      try_eval = function(expr) tryCatch(eval(expr, envir = params[[j]], enclos = knit_global()), error = function(e) FALSE)
      if (idx[j]) {
        res = try_eval(cond[[i]])
        if (is.expression(res)) 
          res = try_eval(res)
        idx[j] = res
      }
    }
  }
  labels[idx]
}, function (...) 
{
  cond = as.list(match.call())[-1]
  code = knit_code$get()
  labels = names(code)
  if (length(cond) == 0) 
    return(labels)
  params = lapply(code, attr, "chunk_opts")
  idx = rep_len(TRUE, length(labels))
  for (i in seq_along(cond)) {
    for (j in seq_along(params)) {
      try_eval = function(expr) tryCatch(eval(expr, envir = params[[j]], enclos = knit_global()), error = function(e) FALSE)
      if (idx[j]) {
        res = try_eval(cond[[i]])
        if (is.expression(res)) 
          res = try_eval(res)
        idx[j] = res
      }
    }
  }
  labels[idx]
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
all_patterns
list(`package:knitr` = list(rnw = list(chunk.begin = "^\\s*<<(.*)>>=.*$", chunk.end = "^\\s*@\\s*(%+.*|)$", inline.code = "\\\\Sexpr\\{([^}]+)\\}", inline.comment = "^\\s*%.*", ref.chunk = "^\\s*<<(.+)>>\\s*$", header.begin = "(^|\n)\\s*\\\\documentclass[^}]+\\}", document.begin = "\\s*\\\\begin\\{document\\}"), brew = list(inline.code = "<%[=]{0,1}\\s+([^%]+)\\s+[-]*%>"), tex = list(chunk.begin = "^\\s*%+\\s*begin.rcode\\s*(.*)", chunk.end = "^\\s*%+\\s*end.rcode", chunk.code = "^\\s*%+", ref.chunk = "^%+\\s*<<(.+)>>\\s*$", 
                                                                                                                                                                                                                                                                                                                                                                                                   inline.comment = "^\\s*%.*", inline.code = "\\\\rinline\\{([^}]+)\\}", header.begin = "(^|\n)\\s*\\\\documentclass[^}]+\\}", document.begin = "\\s*\\\\begin\\{document\\}"), html = list(chunk.begin = "^\\s*<!--\\s*begin.rcode\\s*(.*)", chunk.end = "^\\s*end.rcode\\s*-->", ref.chunk = "^\\s*<<(.+)>>\\s*$", inline.code = "<!--\\s*rinline(.+?)-->", header.begin = "\\s*<head>"), md = list(chunk.begin = "^[\t >]*```+\\s*\\{([a-zA-Z0-9_]+( *[ ,].*)?)\\}\\s*$", chunk.end = "^[\t >]*```+\\s*$", ref.chunk = "^\\s*<<(.+)>>\\s*$", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       inline.code = "(?<!(^|\n)``)`r[ #]([^`]+)\\s*`"), rst = list(chunk.begin = "^\\s*[.][.]\\s+\\{r(.*)\\}\\s*$", chunk.end = "^\\s*[.][.]\\s+[.][.]\\s*$", chunk.code = "^\\s*[.][.]", ref.chunk = "^\\.*\\s*<<(.+)>>\\s*$", inline.code = ":r:`([^`]+)`"), asciidoc = list(chunk.begin = "^//\\s*begin[.]rcode(.*)$", chunk.end = "^//\\s*end[.]rcode\\s*$", chunk.code = "^//+", ref.chunk = "^\\s*<<(.+)>>\\s*$", inline.code = "`r +([^`]+)\\s*`|[+]r +([^+]+)\\s*[+]", inline.comment = "^//.*"), textile = list(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         chunk.begin = "^###[.]\\s+begin[.]rcode(.*)$", chunk.end = "^###[.]\\s+end[.]rcode\\s*$", ref.chunk = "^\\s*<<(.+)>>\\s*$", inline.code = "@r +([^@]+)\\s*@", inline.comment = "^###[.].*")), list(rnw = list(chunk.begin = "^\\s*<<(.*)>>=.*$", chunk.end = "^\\s*@\\s*(%+.*|)$", inline.code = "\\\\Sexpr\\{([^}]+)\\}", inline.comment = "^\\s*%.*", ref.chunk = "^\\s*<<(.+)>>\\s*$", header.begin = "(^|\n)\\s*\\\\documentclass[^}]+\\}", document.begin = "\\s*\\\\begin\\{document\\}"), brew = list(inline.code = "<%[=]{0,1}\\s+([^%]+)\\s+[-]*%>"), 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            tex = list(chunk.begin = "^\\s*%+\\s*begin.rcode\\s*(.*)", chunk.end = "^\\s*%+\\s*end.rcode", chunk.code = "^\\s*%+", ref.chunk = "^%+\\s*<<(.+)>>\\s*$", inline.comment = "^\\s*%.*", inline.code = "\\\\rinline\\{([^}]+)\\}", header.begin = "(^|\n)\\s*\\\\documentclass[^}]+\\}", document.begin = "\\s*\\\\begin\\{document\\}"), html = list(chunk.begin = "^\\s*<!--\\s*begin.rcode\\s*(.*)", chunk.end = "^\\s*end.rcode\\s*-->", ref.chunk = "^\\s*<<(.+)>>\\s*$", inline.code = "<!--\\s*rinline(.+?)-->", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 header.begin = "\\s*<head>"), md = list(chunk.begin = "^[\t >]*```+\\s*\\{([a-zA-Z0-9_]+( *[ ,].*)?)\\}\\s*$", chunk.end = "^[\t >]*```+\\s*$", ref.chunk = "^\\s*<<(.+)>>\\s*$", inline.code = "(?<!(^|\n)``)`r[ #]([^`]+)\\s*`"), rst = list(chunk.begin = "^\\s*[.][.]\\s+\\{r(.*)\\}\\s*$", chunk.end = "^\\s*[.][.]\\s+[.][.]\\s*$", chunk.code = "^\\s*[.][.]", ref.chunk = "^\\.*\\s*<<(.+)>>\\s*$", inline.code = ":r:`([^`]+)`"), asciidoc = list(chunk.begin = "^//\\s*begin[.]rcode(.*)$", chunk.end = "^//\\s*end[.]rcode\\s*$", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            chunk.code = "^//+", ref.chunk = "^\\s*<<(.+)>>\\s*$", inline.code = "`r +([^`]+)\\s*`|[+]r +([^+]+)\\s*[+]", inline.comment = "^//.*"), textile = list(chunk.begin = "^###[.]\\s+begin[.]rcode(.*)$", chunk.end = "^###[.]\\s+end[.]rcode\\s*$", ref.chunk = "^\\s*<<(.+)>>\\s*$", inline.code = "@r +([^@]+)\\s*@", inline.comment = "^###[.].*")))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
all_rcpp_labels
list(`package:knitr` = function (...) 
  all_labels(expression(engine == "Rcpp"), ...), function (...) 
    all_labels(expression(engine == "Rcpp"), ...))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
asis_output
list(`package:knitr` = function (x, meta = NULL, cacheable = NA) 
{
  structure(x, class = "knit_asis", knit_meta = meta, knit_cacheable = cacheable)
}, function (x, meta = NULL, cacheable = NA) 
{
  structure(x, class = "knit_asis", knit_meta = meta, knit_cacheable = cacheable)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
cache_engines
list(`package:knitr` = list(get = function (name, default = FALSE, drop = TRUE) 
{
  if (default) 
    defaults = value
  if (missing(name)) 
    defaults
  else {
    if (drop && length(name) == 1) 
      defaults[[name]]
    else {
      setNames(defaults[name], name)
    }
  }
}, set = function (...) 
{
  set2(resolve(...))
}, delete = function (keys) 
{
  for (k in keys) defaults[[k]] <<- NULL
}, append = function (...) 
{
  dots = resolve(...)
  for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
  set2(dots)
}, merge = function (values) 
  merge_list(defaults, values), restore = function (target = value) 
    defaults <<- target), list(get = function (name, default = FALSE, drop = TRUE) 
    {
      if (default) 
        defaults = value
      if (missing(name)) 
        defaults
      else {
        if (drop && length(name) == 1) 
          defaults[[name]]
        else {
          setNames(defaults[name], name)
        }
      }
    }, set = function (...) 
    {
      set2(resolve(...))
    }, delete = function (keys) 
    {
      for (k in keys) defaults[[k]] <<- NULL
    }, append = function (...) 
    {
      dots = resolve(...)
      for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
      set2(dots)
    }, merge = function (values) 
      merge_list(defaults, values), restore = function (target = value) 
        defaults <<- target))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
clean_cache
list(`package:knitr` = function (clean = FALSE, path = opts_chunk$get("cache.path")) 
{
  odir = opts_knit$get("output.dir")
  if (is.null(odir)) {
    warning("This function must be called inside a source document")
    return()
  }
  owd = setwd(odir)
  on.exit(setwd(owd))
  if (file_test("-d", path)) {
    p0 = path
    p1 = ""
  }
  else {
    p0 = dirname(path)
    p1 = basename(path)
  }
  files = list.files(p0, cache_rx, full.names = TRUE)
  if (length(files) == 0) 
    return()
  base = basename(files)
  labs = .knitEnv$labels
  if (length(labs) == 0) 
    return()
  i = !(sub(cache_rx, "", base) %in% paste0(p1, labs))
  if (p1 != "") 
    i = i & (substr(base, 1, nchar(p1)) == p1)
  if (!any(i)) 
    return()
  if (clean) 
    unlink(files[i])
  else message("Clean these cache files?\n\n", one_string(files[i]), "\n")
}, function (path) 
{
  olds = list.files(dirname(path), "_[0-9a-f]{32}[.]rds$", full.names = TRUE)
  olds = c(olds, path)
  base = basename(olds)
  keep = basename(path) == base
  base = substr(base, 1, nchar(base) - 37)
  unlink(olds[(base == base[keep][1]) & !keep])
}, function (clean = FALSE, path = opts_chunk$get("cache.path")) 
{
  odir = opts_knit$get("output.dir")
  if (is.null(odir)) {
    warning("This function must be called inside a source document")
    return()
  }
  owd = setwd(odir)
  on.exit(setwd(owd))
  if (file_test("-d", path)) {
    p0 = path
    p1 = ""
  }
  else {
    p0 = dirname(path)
    p1 = basename(path)
  }
  files = list.files(p0, cache_rx, full.names = TRUE)
  if (length(files) == 0) 
    return()
  base = basename(files)
  labs = .knitEnv$labels
  if (length(labs) == 0) 
    return()
  i = !(sub(cache_rx, "", base) %in% paste0(p1, labs))
  if (p1 != "") 
    i = i & (substr(base, 1, nchar(p1)) == p1)
  if (!any(i)) 
    return()
  if (clean) 
    unlink(files[i])
  else message("Clean these cache files?\n\n", one_string(files[i]), "\n")
})
c("package:knitr", "namespace:xfun", "namespace:knitr")
c(TRUE, FALSE, FALSE)
c(FALSE, FALSE, TRUE)
combine_words
list(`package:knitr` = function (words, sep = ", ", and = " and ", before = "", after = before, oxford_comma = TRUE) 
{
  n = length(words)
  rs = xfun::raw_string
  if (n == 0) 
    return(words)
  words = paste0(before, words, after)
  if (n == 1) 
    return(rs(words))
  if (n == 2) 
    return(rs(paste(words, collapse = if (is_blank(and)) sep else and)))
  if (oxford_comma && grepl("^ ", and) && grepl(" $", sep)) 
    and = gsub("^ ", "", and)
  words[n] = paste0(and, words[n])
  if (!oxford_comma) {
    words[n - 1] = paste0(words[n - 1:0], collapse = "")
    words = words[-n]
  }
  rs(paste(words, collapse = sep))
}, function (words, sep = ", ", and = " and ", before = "", after = before, oxford_comma = TRUE) 
{
  n = length(words)
  rs = xfun::raw_string
  if (n == 0) 
    return(words)
  words = paste0(before, words, after)
  if (n == 1) 
    return(rs(words))
  if (n == 2) 
    return(rs(paste(words, collapse = if (is_blank(and)) sep else and)))
  if (oxford_comma && grepl("^ ", and) && grepl(" $", sep)) 
    and = gsub("^ ", "", and)
  words[n] = paste0(and, words[n])
  if (!oxford_comma) {
    words[n - 1] = paste0(words[n - 1:0], collapse = "")
    words = words[-n]
  }
  rs(paste(words, collapse = sep))
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
current_input
list(`package:knitr` = function (dir = FALSE) 
{
  input = knit_concord$get("infile")
  outwd = opts_knit$get("output.dir")
  if (is.null(input)) 
    return()
  if (dir) {
    if (is.null(outwd)) {
      warning("Cannot determine the directory of the input document")
      dir = FALSE
    }
  }
  if (!dir) 
    return(basename(input))
  if (is_abs_path(input)) 
    input
  else file.path(outwd, input)
}, function (dir = FALSE) 
{
  input = knit_concord$get("infile")
  outwd = opts_knit$get("output.dir")
  if (is.null(input)) 
    return()
  if (dir) {
    if (is.null(outwd)) {
      warning("Cannot determine the directory of the input document")
      dir = FALSE
    }
  }
  if (!dir) 
    return(basename(input))
  if (is_abs_path(input)) 
    input
  else file.path(outwd, input)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
dep_auto
list(`package:knitr` = function (path = opts_chunk$get("cache.path")) 
{
  owd = setwd(opts_knit$get("output.dir"))
  on.exit(setwd(owd))
  paths = valid_path(path, c("__objects", "__globals"))
  locals = parse_objects(paths[1])
  globals = parse_objects(paths[2])
  if (is.null(locals) || is.null(globals)) 
    return(invisible(NULL))
  if (!identical(names(locals), names(globals))) {
    warning("corrupt dependency files? \ntry remove ", paste(paths, collapse = "; "))
    return(invisible(NULL))
  }
  nms = intersect(names(knit_code$get()), names(locals))
  if (length(nms) < 2) 
    return(invisible(NULL))
  for (i in 2:length(nms)) {
    if (length(g <- globals[[nms[i]]]) == 0) 
      next
    for (j in 1:(i - 1)) {
      if (any(g %in% locals[[nms[j]]])) 
        dep_list$set(setNames(list(unique(c(dep_list$get(nms[j]), nms[i]))), nms[j]))
    }
  }
}, function (path = opts_chunk$get("cache.path")) 
{
  owd = setwd(opts_knit$get("output.dir"))
  on.exit(setwd(owd))
  paths = valid_path(path, c("__objects", "__globals"))
  locals = parse_objects(paths[1])
  globals = parse_objects(paths[2])
  if (is.null(locals) || is.null(globals)) 
    return(invisible(NULL))
  if (!identical(names(locals), names(globals))) {
    warning("corrupt dependency files? \ntry remove ", paste(paths, collapse = "; "))
    return(invisible(NULL))
  }
  nms = intersect(names(knit_code$get()), names(locals))
  if (length(nms) < 2) 
    return(invisible(NULL))
  for (i in 2:length(nms)) {
    if (length(g <- globals[[nms[i]]]) == 0) 
      next
    for (j in 1:(i - 1)) {
      if (any(g %in% locals[[nms[j]]])) 
        dep_list$set(setNames(list(unique(c(dep_list$get(nms[j]), nms[i]))), nms[j]))
    }
  }
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
dep_prev
list(`package:knitr` = function () 
{
  labs = names(knit_code$get())
  if ((n <- length(labs)) < 2) 
    return()
  opts_knit$set(warn.uncached.dep = FALSE)
  for (i in 1:(n - 1)) {
    dep_list$set(setNames(list(labs[(i + 1):n]), labs[i]))
  }
}, function () 
{
  labs = names(knit_code$get())
  if ((n <- length(labs)) < 2) 
    return()
  opts_knit$set(warn.uncached.dep = FALSE)
  for (i in 1:(n - 1)) {
    dep_list$set(setNames(list(labs[(i + 1):n]), labs[i]))
  }
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
engine_output
list(`package:knitr` = function (options, code, out, extra = NULL) 
{
  if (missing(code) && is.list(out)) 
    return(unlist(sew(out, options)))
  if (!is.logical(options$echo)) 
    code = code[options$echo]
  if (length(code) != 1) 
    code = one_string(code)
  if (options$engine == "sas" && length(out) > 1 && !grepl("[[:alnum:]]", out[2])) 
    out = tail(out, -3)
  if (length(out) != 1) 
    out = one_string(out)
  out = sub("([^\n]+)$", "\\1\n", out)
  if (options$engine == "stata") {
    out = gsub("\n+running.*profile.do", "", out)
    out = sub("...\n+", "", out)
    out = sub("\n. \nend of do-file\n", "", out)
  }
  one_string(c(if (length(options$echo) > 1 || options$echo) (knit_hooks$get("source"))(code, options), if (options$results != "hide" && !is_blank(out)) {
    if (options$engine == "highlight") out else sew.character(out, options)
  }, extra))
}, function (options, code, out, extra = NULL) 
{
  if (missing(code) && is.list(out)) 
    return(unlist(sew(out, options)))
  if (!is.logical(options$echo)) 
    code = code[options$echo]
  if (length(code) != 1) 
    code = one_string(code)
  if (options$engine == "sas" && length(out) > 1 && !grepl("[[:alnum:]]", out[2])) 
    out = tail(out, -3)
  if (length(out) != 1) 
    out = one_string(out)
  out = sub("([^\n]+)$", "\\1\n", out)
  if (options$engine == "stata") {
    out = gsub("\n+running.*profile.do", "", out)
    out = sub("...\n+", "", out)
    out = sub("\n. \nend of do-file\n", "", out)
  }
  one_string(c(if (length(options$echo) > 1 || options$echo) (knit_hooks$get("source"))(code, options), if (options$results != "hide" && !is_blank(out)) {
    if (options$engine == "highlight") out else sew.character(out, options)
  }, extra))
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
extract_raw_output
list(`package:knitr` = function (text, markers = raw_markers) 
{
  r = sprintf("%s(.*?)%s", markers[1], markers[2])
  x = one_string(text)
  m = gregexpr(r, x)
  s = regmatches(x, m)
  n = length(s[[1]])
  if (n == 0) 
    return(list(value = text, chunks = character()))
  chunks = tokens = character(n)
  for (i in seq_len(n)) {
    chunks[i] = sub(r, "\\1", s[[1]][i])
    tokens[i] = digest(chunks[i])
    s[[1]][i] = gsub(r, paste0(markers[1], tokens[i], markers[2]), s[[1]][i])
  }
  regmatches(x, m) = s
  list(value = x, chunks = setNames(chunks, tokens))
}, function (text, markers = raw_markers) 
{
  r = sprintf("%s(.*?)%s", markers[1], markers[2])
  x = one_string(text)
  m = gregexpr(r, x)
  s = regmatches(x, m)
  n = length(s[[1]])
  if (n == 0) 
    return(list(value = text, chunks = character()))
  chunks = tokens = character(n)
  for (i in seq_len(n)) {
    chunks[i] = sub(r, "\\1", s[[1]][i])
    tokens[i] = digest(chunks[i])
    s[[1]][i] = gsub(r, paste0(markers[1], tokens[i], markers[2]), s[[1]][i])
  }
  regmatches(x, m) = s
  list(value = x, chunks = setNames(chunks, tokens))
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
fig_chunk
list(`package:knitr` = function (label, ext = "", number, fig.path = opts_chunk$get("fig.path")) 
{
  fig_path(ext, list(fig.path = fig.path, label = label), number)
}, function (label, ext = "", number, fig.path = opts_chunk$get("fig.path")) 
{
  fig_path(ext, list(fig.path = fig.path, label = label), number)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
fig_path
list(`package:knitr` = function (suffix = "", options = opts_current$get(), number) 
{
  if (suffix != "" && !grepl("[.]", suffix)) 
    suffix = paste0(".", suffix)
  if (missing(number)) 
    number = options$fig.cur %n% 1
  if (!is.null(number)) 
    suffix = paste0("-", number, suffix)
  path = valid_path(options$fig.path, options$label)
  (if (out_format(c("latex", "sweave", "listings"))) 
    sanitize_fn
    else paste0)(path, suffix)
}, function (suffix = "", options = opts_current$get(), number) 
{
  if (suffix != "" && !grepl("[.]", suffix)) 
    suffix = paste0(".", suffix)
  if (missing(number)) 
    number = options$fig.cur %n% 1
  if (!is.null(number)) 
    suffix = paste0("-", number, suffix)
  path = valid_path(options$fig.path, options$label)
  (if (out_format(c("latex", "sweave", "listings"))) 
    sanitize_fn
    else paste0)(path, suffix)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hook_ffmpeg_html
list(`package:knitr` = function (x, options) 
{
  hook_ffmpeg(x, options, options$ffmpeg.format %n% "webm")
}, function (x, options) 
{
  hook_ffmpeg(x, options, options$ffmpeg.format %n% "webm")
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hook_gifski
list(`package:knitr` = function (x, options) 
{
  x = c(sans_ext(x), file_ext(x))
  if (tolower(x[2]) != "png") 
    stop("To use hook_gifski(), the code chunk must generate 'png' images instead of '", x[2], "'.")
  fig.num = options$fig.num
  base = sub(paste0(fig.num, "$"), "", x[1])
  frames = paste0(base, format(seq_len(fig.num), trim = TRUE), ".", x[2])
  gif = paste0(base, ".gif")
  dpi = options$dpi
  gifski::gifski(frames, gif, width = options$fig.width * dpi, height = options$fig.height * dpi, delay = options$interval, loop = isTRUE(grepl("\\bloop\\b", options$aniopts)), progress = opts_knit$get("progress"))
  unlink(frames)
  options$fig.show = "asis"
  options$fig.cur = 1
  options$fig.num = 1
  (knit_hooks$get("plot"))(gif, options)
}, function (x, options) 
{
  x = c(sans_ext(x), file_ext(x))
  if (tolower(x[2]) != "png") 
    stop("To use hook_gifski(), the code chunk must generate 'png' images instead of '", x[2], "'.")
  fig.num = options$fig.num
  base = sub(paste0(fig.num, "$"), "", x[1])
  frames = paste0(base, format(seq_len(fig.num), trim = TRUE), ".", x[2])
  gif = paste0(base, ".gif")
  dpi = options$dpi
  gifski::gifski(frames, gif, width = options$fig.width * dpi, height = options$fig.height * dpi, delay = options$interval, loop = isTRUE(grepl("\\bloop\\b", options$aniopts)), progress = opts_knit$get("progress"))
  unlink(frames)
  options$fig.show = "asis"
  options$fig.cur = 1
  options$fig.num = 1
  (knit_hooks$get("plot"))(gif, options)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hook_mogrify
list(`package:knitr` = function (before, options, envir) 
{
  if (is.null(options[["mogrify"]])) 
    options$mogrify = "-trim"
  hook_png(before, options, envir, cmd = "mogrify", identity)
}, function (before, options, envir) 
{
  if (is.null(options[["mogrify"]])) 
    options$mogrify = "-trim"
  hook_png(before, options, envir, cmd = "mogrify", identity)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hook_movecode
list(`package:knitr` = function (x) 
{
  x = split_lines(x)
  res = split(x, cumsum(grepl("^\\\\(begin|end)\\{figure\\}", x)))
  x = split_lines(unlist(lapply(res, function(p) {
    if (length(p) <= 4 || !grepl("^\\\\begin\\{figure\\}", p[1]) || length(grep("% knitr_do_not_move", p)) || !any(grepl("\\\\begin\\{(alltt|kframe)\\}", p))) 
      return(p)
    idx = c(1, grep("\\\\includegraphics", p))
    if (length(idx) <= 1) 
      return(p)
    if (length(i <- grep("\\{\\\\centering.*\\\\includegraphics", p))) {
      idx = c(idx, i - 1, j2 <- i + 1)
      for (j in j2) {
        while (p[j] != "}") idx = c(idx, j <- j + 1)
      }
    }
    if (length(i <- grep("\\\\hfill\\{\\}.*\\\\includegraphics", p))) 
      idx = c(idx, i - 1, i + 1)
    if (length(i <- grep("\\\\includegraphics.*\\\\hfill\\{\\}", p))) 
      idx = c(idx, i - 1, i + 1)
    idx = sort(c(idx, seq(grep("\\\\caption", p), grep("\\\\label", p))))
    idx = unique(idx)
    p = one_string(c(p[-idx], p[idx]))
    gsub("\\\\end\\{(kframe)\\}\\s*\\\\begin\\{\\1\\}", "", p)
  }), use.names = FALSE))
  res = split(x, cumsum(grepl("^\\\\(begin|end)\\{table\\}", x)))
  res = one_string(unlist(lapply(res, function(p) {
    if (length(p) <= 4 || !grepl("^\\\\begin\\{table\\}", p[1]) || length(grep("% knitr_do_not_move", p)) || !any(grepl("\\\\begin\\{(alltt|kframe)\\}", p))) 
      return(p)
    if (!any(grepl("\\\\label\\{.*\\}", p))) 
      return(p)
    idx = c(1, seq(grep("\\\\caption", p), grep("\\\\label", p)))
    i0 = grep("\\\\begin\\{tabular\\}", p)
    i1 = grep("\\\\end\\{tabular\\}", p)
    for (i in seq_along(i0)) idx = c(idx, i0[i]:i1[i])
    idx = sort(idx)
    p = one_string(c(p[-idx], p[idx]))
    gsub("\\\\end\\{(kframe)\\}\\s*\\\\begin\\{\\1\\}", "", p)
  }), use.names = FALSE))
  .rm.empty.envir(res)
}, function (x) 
{
  x = split_lines(x)
  res = split(x, cumsum(grepl("^\\\\(begin|end)\\{figure\\}", x)))
  x = split_lines(unlist(lapply(res, function(p) {
    if (length(p) <= 4 || !grepl("^\\\\begin\\{figure\\}", p[1]) || length(grep("% knitr_do_not_move", p)) || !any(grepl("\\\\begin\\{(alltt|kframe)\\}", p))) 
      return(p)
    idx = c(1, grep("\\\\includegraphics", p))
    if (length(idx) <= 1) 
      return(p)
    if (length(i <- grep("\\{\\\\centering.*\\\\includegraphics", p))) {
      idx = c(idx, i - 1, j2 <- i + 1)
      for (j in j2) {
        while (p[j] != "}") idx = c(idx, j <- j + 1)
      }
    }
    if (length(i <- grep("\\\\hfill\\{\\}.*\\\\includegraphics", p))) 
      idx = c(idx, i - 1, i + 1)
    if (length(i <- grep("\\\\includegraphics.*\\\\hfill\\{\\}", p))) 
      idx = c(idx, i - 1, i + 1)
    idx = sort(c(idx, seq(grep("\\\\caption", p), grep("\\\\label", p))))
    idx = unique(idx)
    p = one_string(c(p[-idx], p[idx]))
    gsub("\\\\end\\{(kframe)\\}\\s*\\\\begin\\{\\1\\}", "", p)
  }), use.names = FALSE))
  res = split(x, cumsum(grepl("^\\\\(begin|end)\\{table\\}", x)))
  res = one_string(unlist(lapply(res, function(p) {
    if (length(p) <= 4 || !grepl("^\\\\begin\\{table\\}", p[1]) || length(grep("% knitr_do_not_move", p)) || !any(grepl("\\\\begin\\{(alltt|kframe)\\}", p))) 
      return(p)
    if (!any(grepl("\\\\label\\{.*\\}", p))) 
      return(p)
    idx = c(1, seq(grep("\\\\caption", p), grep("\\\\label", p)))
    i0 = grep("\\\\begin\\{tabular\\}", p)
    i1 = grep("\\\\end\\{tabular\\}", p)
    for (i in seq_along(i0)) idx = c(idx, i0[i]:i1[i])
    idx = sort(idx)
    p = one_string(c(p[-idx], p[idx]))
    gsub("\\\\end\\{(kframe)\\}\\s*\\\\begin\\{\\1\\}", "", p)
  }), use.names = FALSE))
  .rm.empty.envir(res)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hook_optipng
list(`package:knitr` = function (before, options, envir) 
{
  hook_png(before, options, envir, "optipng")
}, function (before, options, envir) 
{
  hook_png(before, options, envir, "optipng")
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hook_pdfcrop
list(`package:knitr` = function (before, options, envir) 
{
  if (before) 
    return()
  in_base_dir(for (f in get_plot_files()) plot_crop(f))
}, function (before, options, envir) 
{
  if (before) 
    return()
  in_base_dir(for (f in get_plot_files()) plot_crop(f))
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hook_plot_asciidoc
list(`package:knitr` = function (x, options) 
{
  base = opts_knit$get("base.url") %n% ""
  cap = .img.cap(options)
  width = sprintf("width=%s", options$out.width)
  height = sprintf("height=%s", options$out.height)
  align = sprintf("align=%s", options$fig.align)
  tags = paste(c(cap, width, height, align), collapse = ",")
  sprintf(".%s\nimage::%s%s[%s]\n", cap, base, .upload.url(x), tags)
}, function (x, options) 
{
  base = opts_knit$get("base.url") %n% ""
  cap = .img.cap(options)
  width = sprintf("width=%s", options$out.width)
  height = sprintf("height=%s", options$out.height)
  align = sprintf("align=%s", options$fig.align)
  tags = paste(c(cap, width, height, align), collapse = ",")
  sprintf(".%s\nimage::%s%s[%s]\n", cap, base, .upload.url(x), tags)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hook_plot_custom
list(`package:knitr` = function (before, options, envir) 
{
  if (before) 
    return()
  if (options$fig.show == "hide") 
    return()
  ext = dev2ext(options)
  hook = knit_hooks$get("plot")
  n = options$fig.num
  if (n == 0) 
    n = options$fig.num = 1
  res = unlist(lapply(seq_len(n), function(i) {
    options$fig.cur = i
    hook(fig_path(ext, options, i), reduce_plot_opts(options))
  }), use.names = FALSE)
  paste(res, collapse = "")
}, function (before, options, envir) 
{
  if (before) 
    return()
  if (options$fig.show == "hide") 
    return()
  ext = dev2ext(options)
  hook = knit_hooks$get("plot")
  n = options$fig.num
  if (n == 0) 
    n = options$fig.num = 1
  res = unlist(lapply(seq_len(n), function(i) {
    options$fig.cur = i
    hook(fig_path(ext, options, i), reduce_plot_opts(options))
  }), use.names = FALSE)
  paste(res, collapse = "")
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hook_plot_html
list(`package:knitr` = function (x, options) 
{
  fig.num = options$fig.num = options$fig.num %n% 1
  fig.cur = options$fig.cur %n% 1
  if (options$fig.show == "animate") {
    return(if (fig.cur < fig.num) "" else hook_animation(options)(x, options))
  }
  ai = options$fig.show == "asis"
  plot1 = ai || fig.cur <= 1
  plot2 = ai || fig.cur == fig.num
  d1 = if (plot1) 
    paste0(if (out_format("html")) 
      "</div>", sprintf("<div class=\"rimage %s\">", options$fig.align))
  d2 = if (plot2) 
    paste0("</div>", if (out_format("html")) 
      "<div class=\"rcode\">")
  paste0(d1, .img.tag(.upload.url(x), options$out.width, options$out.height, .img.cap(options), paste(c(options$out.extra, "class=\"plot\""), collapse = " ")), d2, "\n")
}, function (x, options) 
{
  fig.num = options$fig.num = options$fig.num %n% 1
  fig.cur = options$fig.cur %n% 1
  if (options$fig.show == "animate") {
    return(if (fig.cur < fig.num) "" else hook_animation(options)(x, options))
  }
  ai = options$fig.show == "asis"
  plot1 = ai || fig.cur <= 1
  plot2 = ai || fig.cur == fig.num
  d1 = if (plot1) 
    paste0(if (out_format("html")) 
      "</div>", sprintf("<div class=\"rimage %s\">", options$fig.align))
  d2 = if (plot2) 
    paste0("</div>", if (out_format("html")) 
      "<div class=\"rcode\">")
  paste0(d1, .img.tag(.upload.url(x), options$out.width, options$out.height, .img.cap(options), paste(c(options$out.extra, "class=\"plot\""), collapse = " ")), d2, "\n")
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hook_plot_md
list(`package:knitr` = function (x, options) 
{
  if (is.null(to <- pandoc_to()) || is_html_output(to)) 
    return(hook_plot_md_base(x, options))
  if ((options$fig.show == "animate" || is_tikz_dev(options)) && is_latex_output()) 
    return(hook_plot_tex(x, options))
  office_output = to %in% c("docx", "pptx", "rtf", "odt")
  if (need_special_plot_hook(options)) {
    if (is_latex_output()) {
      if (is.null(options$fig.scap)) 
        options$fig.scap = NA
      return(hook_plot_tex(x, options))
    }
    if (office_output) {
      if (options$fig.align != "default") {
        warn_options_unsupported("fig.align", to)
        options$fig.align = "default"
      }
      if (!is.null(options$fig.alt)) {
        warn_options_unsupported("fig.alt", to)
        options$fig.alt = NULL
      }
      return(hook_plot_md_pandoc(x, options))
    }
  }
  hook_plot_md_base(x, options)
}, function (x, options) 
{
  if (is.null(to <- pandoc_to()) || is_html_output(to)) 
    return(hook_plot_md_base(x, options))
  if ((options$fig.show == "animate" || is_tikz_dev(options)) && is_latex_output()) 
    return(hook_plot_tex(x, options))
  office_output = to %in% c("docx", "pptx", "rtf", "odt")
  if (need_special_plot_hook(options)) {
    if (is_latex_output()) {
      if (is.null(options$fig.scap)) 
        options$fig.scap = NA
      return(hook_plot_tex(x, options))
    }
    if (office_output) {
      if (options$fig.align != "default") {
        warn_options_unsupported("fig.align", to)
        options$fig.align = "default"
      }
      if (!is.null(options$fig.alt)) {
        warn_options_unsupported("fig.alt", to)
        options$fig.alt = NULL
      }
      return(hook_plot_md_pandoc(x, options))
    }
  }
  hook_plot_md_base(x, options)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hook_plot_rst
list(`package:knitr` = function (x, options) 
{
  if (options$fig.show == "animate") 
    return(hook_plot_html(x, options))
  cap = .img.cap(options, alt = TRUE)
  make_directive("figure", paste0(opts_knit$get("base.url"), .upload.url(x)), c(align = if (options$fig.align == "default") NULL else options$fig.align, alt = cap, width = options$out.width, height = options$out.height), cap)
}, function (x, options) 
{
  if (options$fig.show == "animate") 
    return(hook_plot_html(x, options))
  cap = .img.cap(options, alt = TRUE)
  make_directive("figure", paste0(opts_knit$get("base.url"), .upload.url(x)), c(align = if (options$fig.align == "default") NULL else options$fig.align, alt = cap, width = options$out.width, height = options$out.height), cap)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hook_plot_tex
list(`package:knitr` = function (x, options) 
{
  rw = options$resize.width
  rh = options$resize.height
  rc = options$resize.command
  resize1 = resize2 = ""
  if (is.null(rc)) {
    if (!is.null(rw) || !is.null(rh)) {
      resize1 = sprintf("\\resizebox{%s}{%s}{", rw %n% "!", rh %n% "!")
      resize2 = "} "
    }
  }
  else {
    resize1 = paste0("\\", rc, "{")
    resize2 = "} "
  }
  tikz = is_tikz_dev(options)
  a = options$fig.align
  fig.cur = options$fig.cur %n% 1
  fig.num = options$fig.num %n% 1
  animate = options$fig.show == "animate"
  fig.ncol = options$fig.ncol %n% fig.num
  if (is.null(fig.sep <- options$fig.sep)) {
    fig.sep = character(fig.num)
    if (fig.ncol < fig.num) 
      fig.sep[seq(fig.ncol, fig.num - 1, fig.ncol)] = "\\newline"
  }
  sep.cur = NULL
  if (!tikz && animate && fig.cur < fig.num) 
    return("")
  usesub = length(subcap <- options$fig.subcap) && fig.num > 1
  ai = options$fig.show != "hold"
  plot1 = ai || fig.cur <= 1
  plot2 = ai || fig.cur == fig.num
  align1 = if (plot1) 
    switch(a, left = "\n\n", center = "\n\n{\\centering ", right = "\n\n\\hfill{}", "\n")
  align2 = if (plot2) 
    switch(a, left = "\\hfill{}\n\n", center = "\n\n}\n\n", right = "\n\n", "")
  cap = options$fig.cap
  scap = options$fig.scap
  fig1 = fig2 = ""
  mcap = fig.num > 1 && options$fig.show == "asis" && !length(subcap)
  sub1 = sub2 = ""
  if (length(cap) && !is.na(cap)) {
    lab = paste0(options$fig.lp, options$label)
    if (plot1) {
      pos = options$fig.pos
      if (pos != "" && !grepl("^[[{]", pos)) 
        pos = sprintf("[%s]", pos)
      fig1 = sprintf("\\begin{%s}%s", options$fig.env, pos)
    }
    if (usesub) {
      sub1 = sprintf("\\subfloat[%s%s]{", subcap, create_label(lab, "-", fig.cur, latex = TRUE))
      sub2 = "}"
      sep.cur = fig.sep[fig.cur]
      if (is.na(sep.cur)) 
        sep.cur = NULL
    }
    if (plot2) {
      if (is.null(scap) && !grepl("[{].*?[:.;].*?[}]", cap)) {
        scap = strsplit(cap, "[:.;]( |\\\\|$)")[[1]][1]
      }
      scap = if (is.null(scap) || is.na(scap)) 
        ""
      else sprintf("[%s]", scap)
      cap = if (cap == "") 
        ""
      else sprintf("\\caption%s{%s}%s\n", scap, cap, create_label(lab, if (mcap) 
        c("-", fig.cur), latex = TRUE))
      fig2 = sprintf("%s\\end{%s}\n", cap, options$fig.env)
    }
  }
  else if (pandoc_to(c("latex", "beamer"))) {
    align.env = switch(a, left = "flushleft", center = "center", right = "flushright")
    align1 = if (plot1) 
      if (a == "default") 
        "\n"
    else sprintf("\n\n\\begin{%s}", align.env)
    align2 = if (plot2) 
      if (a == "default") 
        ""
    else sprintf("\\end{%s}\n\n", align.env)
  }
  ow = options$out.width
  if (animate && identical(ow, "\\maxwidth")) 
    ow = NULL
  if (is.numeric(ow)) 
    ow = paste0(ow, "px")
  size = paste(c(sprintf("width=%s", ow), sprintf("height=%s", options$out.height), options$out.extra), collapse = ",")
  paste0(fig1, align1, sub1, resize1, if (tikz) {
    sprintf("\\input{%s}", x)
  }
  else if (animate) {
    aniopts = options$aniopts
    aniopts = if (is.na(aniopts)) 
      NULL
    else gsub(";", ",", aniopts)
    size = paste(c(size, sprintf("%s", aniopts)), collapse = ",")
    if (nzchar(size)) 
      size = sprintf("[%s]", size)
    sprintf("\\animategraphics%s{%s}{%s}{%s}{%s}", size, 1/options$interval, sub(sprintf("%d$", fig.num), "", sans_ext(x)), 1, fig.num)
  }
  else {
    if (nzchar(size)) 
      size = sprintf("[%s]", size)
    res = sprintf("\\includegraphics%s{%s} ", size, if (getOption("knitr.include_graphics.ext", FALSE)) 
      x
      else sans_ext(x))
    lnk = options$fig.link
    if (is.null(lnk) || is.na(lnk)) 
      res
    else sprintf("\\href{%s}{%s}", lnk, res)
  }, resize2, sub2, sep.cur, align2, fig2)
}, function (x, options) 
{
  rw = options$resize.width
  rh = options$resize.height
  rc = options$resize.command
  resize1 = resize2 = ""
  if (is.null(rc)) {
    if (!is.null(rw) || !is.null(rh)) {
      resize1 = sprintf("\\resizebox{%s}{%s}{", rw %n% "!", rh %n% "!")
      resize2 = "} "
    }
  }
  else {
    resize1 = paste0("\\", rc, "{")
    resize2 = "} "
  }
  tikz = is_tikz_dev(options)
  a = options$fig.align
  fig.cur = options$fig.cur %n% 1
  fig.num = options$fig.num %n% 1
  animate = options$fig.show == "animate"
  fig.ncol = options$fig.ncol %n% fig.num
  if (is.null(fig.sep <- options$fig.sep)) {
    fig.sep = character(fig.num)
    if (fig.ncol < fig.num) 
      fig.sep[seq(fig.ncol, fig.num - 1, fig.ncol)] = "\\newline"
  }
  sep.cur = NULL
  if (!tikz && animate && fig.cur < fig.num) 
    return("")
  usesub = length(subcap <- options$fig.subcap) && fig.num > 1
  ai = options$fig.show != "hold"
  plot1 = ai || fig.cur <= 1
  plot2 = ai || fig.cur == fig.num
  align1 = if (plot1) 
    switch(a, left = "\n\n", center = "\n\n{\\centering ", right = "\n\n\\hfill{}", "\n")
  align2 = if (plot2) 
    switch(a, left = "\\hfill{}\n\n", center = "\n\n}\n\n", right = "\n\n", "")
  cap = options$fig.cap
  scap = options$fig.scap
  fig1 = fig2 = ""
  mcap = fig.num > 1 && options$fig.show == "asis" && !length(subcap)
  sub1 = sub2 = ""
  if (length(cap) && !is.na(cap)) {
    lab = paste0(options$fig.lp, options$label)
    if (plot1) {
      pos = options$fig.pos
      if (pos != "" && !grepl("^[[{]", pos)) 
        pos = sprintf("[%s]", pos)
      fig1 = sprintf("\\begin{%s}%s", options$fig.env, pos)
    }
    if (usesub) {
      sub1 = sprintf("\\subfloat[%s%s]{", subcap, create_label(lab, "-", fig.cur, latex = TRUE))
      sub2 = "}"
      sep.cur = fig.sep[fig.cur]
      if (is.na(sep.cur)) 
        sep.cur = NULL
    }
    if (plot2) {
      if (is.null(scap) && !grepl("[{].*?[:.;].*?[}]", cap)) {
        scap = strsplit(cap, "[:.;]( |\\\\|$)")[[1]][1]
      }
      scap = if (is.null(scap) || is.na(scap)) 
        ""
      else sprintf("[%s]", scap)
      cap = if (cap == "") 
        ""
      else sprintf("\\caption%s{%s}%s\n", scap, cap, create_label(lab, if (mcap) 
        c("-", fig.cur), latex = TRUE))
      fig2 = sprintf("%s\\end{%s}\n", cap, options$fig.env)
    }
  }
  else if (pandoc_to(c("latex", "beamer"))) {
    align.env = switch(a, left = "flushleft", center = "center", right = "flushright")
    align1 = if (plot1) 
      if (a == "default") 
        "\n"
    else sprintf("\n\n\\begin{%s}", align.env)
    align2 = if (plot2) 
      if (a == "default") 
        ""
    else sprintf("\\end{%s}\n\n", align.env)
  }
  ow = options$out.width
  if (animate && identical(ow, "\\maxwidth")) 
    ow = NULL
  if (is.numeric(ow)) 
    ow = paste0(ow, "px")
  size = paste(c(sprintf("width=%s", ow), sprintf("height=%s", options$out.height), options$out.extra), collapse = ",")
  paste0(fig1, align1, sub1, resize1, if (tikz) {
    sprintf("\\input{%s}", x)
  }
  else if (animate) {
    aniopts = options$aniopts
    aniopts = if (is.na(aniopts)) 
      NULL
    else gsub(";", ",", aniopts)
    size = paste(c(size, sprintf("%s", aniopts)), collapse = ",")
    if (nzchar(size)) 
      size = sprintf("[%s]", size)
    sprintf("\\animategraphics%s{%s}{%s}{%s}{%s}", size, 1/options$interval, sub(sprintf("%d$", fig.num), "", sans_ext(x)), 1, fig.num)
  }
  else {
    if (nzchar(size)) 
      size = sprintf("[%s]", size)
    res = sprintf("\\includegraphics%s{%s} ", size, if (getOption("knitr.include_graphics.ext", FALSE)) 
      x
      else sans_ext(x))
    lnk = options$fig.link
    if (is.null(lnk) || is.na(lnk)) 
      res
    else sprintf("\\href{%s}{%s}", lnk, res)
  }, resize2, sub2, sep.cur, align2, fig2)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hook_plot_textile
list(`package:knitr` = function (x, options) 
{
  cap = .img.cap(options)
  if (is.na(cap)) 
    cap = ""
  tags = unlist(c(Map(sprintf, c("width: %s", "height: %s"), options[c("out.width", "out.height")]), css_align(options$fig.align)))
  tags = if (length(tags)) 
    sprintf("{%s}", paste(tags, collapse = ";"))
  else ""
  paste0("!", tags, opts_knit$get("base.url"), .upload.url(x), if (nzchar(cap)) 
    sprintf("(%s)", cap), "!\n\n", if (nzchar(cap)) 
      sprintf("p(knitr plot caption#%s). %s", options$label, cap), "\n\n")
}, function (x, options) 
{
  cap = .img.cap(options)
  if (is.na(cap)) 
    cap = ""
  tags = unlist(c(Map(sprintf, c("width: %s", "height: %s"), options[c("out.width", "out.height")]), css_align(options$fig.align)))
  tags = if (length(tags)) 
    sprintf("{%s}", paste(tags, collapse = ";"))
  else ""
  paste0("!", tags, opts_knit$get("base.url"), .upload.url(x), if (nzchar(cap)) 
    sprintf("(%s)", cap), "!\n\n", if (nzchar(cap)) 
      sprintf("p(knitr plot caption#%s). %s", options$label, cap), "\n\n")
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hook_pngquant
list(`package:knitr` = function (before, options, envir) 
{
  if (is.null(options[["pngquant"]])) 
    options$pngquant = "--skip-if-larger"
  options[["pngquant"]] = paste(options[["pngquant"]], "--ext -fs8.png")
  hook_png(before, options, envir, "pngquant", function(x) {
    x2 = sub("\\.png$", "-fs8.png", x)
    if (file.exists(x2)) 
      file.rename(x2, x)
  })
}, function (before, options, envir) 
{
  if (is.null(options[["pngquant"]])) 
    options$pngquant = "--skip-if-larger"
  options[["pngquant"]] = paste(options[["pngquant"]], "--ext -fs8.png")
  hook_png(before, options, envir, "pngquant", function(x) {
    x2 = sub("\\.png$", "-fs8.png", x)
    if (file.exists(x2)) 
      file.rename(x2, x)
  })
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hook_purl
list(`package:knitr` = function (before, options, envir) 
{
  if (before || !options$purl || options$engine != "R") 
    return()
  output = .knitEnv$tangle.file
  if (isFALSE(.knitEnv$tangle.start)) {
    .knitEnv$tangle.start = TRUE
    unlink(output)
    params = .knitEnv$tangle.params
    if (length(params)) 
      write_utf8(params, output)
    .knitEnv$tangle.params = NULL
  }
  code = options$code
  if (isFALSE(options$eval)) 
    code = comment_out(code, "# ", newline = FALSE)
  if (is.character(output)) {
    code = c(if (file.exists(output)) read_utf8(output), label_code(code, options$params.src))
    write_utf8(code, output)
  }
}, function (before, options, envir) 
{
  if (before || !options$purl || options$engine != "R") 
    return()
  output = .knitEnv$tangle.file
  if (isFALSE(.knitEnv$tangle.start)) {
    .knitEnv$tangle.start = TRUE
    unlink(output)
    params = .knitEnv$tangle.params
    if (length(params)) 
      write_utf8(params, output)
    .knitEnv$tangle.params = NULL
  }
  code = options$code
  if (isFALSE(options$eval)) 
    code = comment_out(code, "# ", newline = FALSE)
  if (is.character(output)) {
    code = c(if (file.exists(output)) read_utf8(output), label_code(code, options$params.src))
    write_utf8(code, output)
  }
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hook_r2swf
list(`package:knitr` = function (x, options) 
{
  x = c(sans_ext(x), file_ext(x))
  fig.num = options$fig.num
  fig.name = paste0(sub(paste0(fig.num, "$"), "", x[1]), 1:fig.num, ".", x[2])
  swf.name = fig_path(".swf", options, NULL)
  w = options$out.width %n% (options$fig.width * options$dpi)
  h = options$out.height %n% (options$fig.height * options$dpi)
  swf2html = getFromNamespace("swf2html", "R2SWF")
  file2swf = getFromNamespace("file2swf", "R2SWF")
  swfhtml = swf2html(file2swf(files = fig.name, swf.name, interval = options$interval), output = FALSE, fragment = TRUE, width = w, height = h)
  if (options$fig.align == "default") 
    return(swfhtml)
  sprintf(paste("<div align = \"%s\">\n", swfhtml, "\n</div>"), options$fig.align)
}, function (x, options) 
{
  x = c(sans_ext(x), file_ext(x))
  fig.num = options$fig.num
  fig.name = paste0(sub(paste0(fig.num, "$"), "", x[1]), 1:fig.num, ".", x[2])
  swf.name = fig_path(".swf", options, NULL)
  w = options$out.width %n% (options$fig.width * options$dpi)
  h = options$out.height %n% (options$fig.height * options$dpi)
  swf2html = getFromNamespace("swf2html", "R2SWF")
  file2swf = getFromNamespace("file2swf", "R2SWF")
  swfhtml = swf2html(file2swf(files = fig.name, swf.name, interval = options$interval), output = FALSE, fragment = TRUE, width = w, height = h)
  if (options$fig.align == "default") 
    return(swfhtml)
  sprintf(paste("<div align = \"%s\">\n", swfhtml, "\n</div>"), options$fig.align)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hook_scianimator
list(`package:knitr` = function (x, options) 
{
  x = c(sans_ext(x), file_ext(x))
  fig.num = options$fig.num
  base = opts_knit$get("base.url") %n% ""
  id = gsub("[^[:alnum:]]", "_", options$label)
  sprintf("\n<div class=\"scianimator\">\n<div id=\"%s\" style=\"display: inline-block;\">\n</div>\n</div>\n<script type=\"text/javascript\">\n  (function($) {\n    $(document).ready(function() {\n      var imgs = Array(%s);\n      for (i = 0; ; i++) {\n        if (i == imgs.length) break;\n        imgs[i] = \"%s%s\" + (i + 1) + \".%s\";\n      }\n      $(\"#%s\").scianimator({\n          \"images\": imgs,\n          \"delay\": %s,\n          \"controls\": [\"first\", \"previous\", \"play\", \"next\", \"last\", \"loop\", \"speed\"],\n      });\n      $(\"#%s\").scianimator(\"play\");\n    });\n  })(jQuery);\n</script>\n", 
          id, fig.num, base, sub(paste0(fig.num, "$"), "", x[1]), x[2], id, options$interval * 1000, id)
}, function (x, options) 
{
  x = c(sans_ext(x), file_ext(x))
  fig.num = options$fig.num
  base = opts_knit$get("base.url") %n% ""
  id = gsub("[^[:alnum:]]", "_", options$label)
  sprintf("\n<div class=\"scianimator\">\n<div id=\"%s\" style=\"display: inline-block;\">\n</div>\n</div>\n<script type=\"text/javascript\">\n  (function($) {\n    $(document).ready(function() {\n      var imgs = Array(%s);\n      for (i = 0; ; i++) {\n        if (i == imgs.length) break;\n        imgs[i] = \"%s%s\" + (i + 1) + \".%s\";\n      }\n      $(\"#%s\").scianimator({\n          \"images\": imgs,\n          \"delay\": %s,\n          \"controls\": [\"first\", \"previous\", \"play\", \"next\", \"last\", \"loop\", \"speed\"],\n      });\n      $(\"#%s\").scianimator(\"play\");\n    });\n  })(jQuery);\n</script>\n", 
          id, fig.num, base, sub(paste0(fig.num, "$"), "", x[1]), x[2], id, options$interval * 1000, id)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hooks_asciidoc
list(`package:knitr` = function () 
{
  hook.source = function(x, options) {
    x = one_string(c(hilight_source(x, "asciidoc", options), ""))
    sprintf("\n[source,%s]\n----\n%s----\n", tolower(options$engine), x)
  }
  hook.message = function(x, options) {
    sprintf("\n[NOTE]\n====\n.Message\n%s\n====\n", substring(x, comment_length(options$comment)))
  }
  hook.warning = function(x, options) {
    sprintf("\n[WARNING]\n====\n.Warning\n%s\n====\n", gsub("^.*Warning: ", "", x))
  }
  hook.error = function(x, options) {
    sprintf("\n[CAUTION]\n====\n.Error\n%s\n====\n", gsub("^.*Error: ", "", x))
  }
  hook.output = function(x, options) sprintf("\n----\n%s----\n", x)
  list(source = hook.source, output = hook.output, message = hook.message, warning = hook.warning, error = hook.error, plot = hook_plot_asciidoc)
}, function () 
{
  hook.source = function(x, options) {
    x = one_string(c(hilight_source(x, "asciidoc", options), ""))
    sprintf("\n[source,%s]\n----\n%s----\n", tolower(options$engine), x)
  }
  hook.message = function(x, options) {
    sprintf("\n[NOTE]\n====\n.Message\n%s\n====\n", substring(x, comment_length(options$comment)))
  }
  hook.warning = function(x, options) {
    sprintf("\n[WARNING]\n====\n.Warning\n%s\n====\n", gsub("^.*Warning: ", "", x))
  }
  hook.error = function(x, options) {
    sprintf("\n[CAUTION]\n====\n.Error\n%s\n====\n", gsub("^.*Error: ", "", x))
  }
  hook.output = function(x, options) sprintf("\n----\n%s----\n", x)
  list(source = hook.source, output = hook.output, message = hook.message, warning = hook.warning, error = hook.error, plot = hook_plot_asciidoc)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hooks_html
list(`package:knitr` = function () 
{
  hook = function(name) {
    force(name)
    function(x, options) {
      x = if (name == "source") {
        c(hilight_source(x, "html", options), "")
      }
      else escape_html(x)
      x = one_string(x)
      sprintf("<div class=\"%s\"><pre class=\"knitr %s\">%s</pre></div>\n", name, tolower(options$engine), x)
    }
  }
  list(source = hook("source"), output = hook("output"), warning = hook("warning"), message = hook("message"), error = hook("error"), plot = hook_plot_html, chunk = .chunk.hook.html, inline = function(x) sprintf(if (inherits(x, "AsIs")) "%s" else "<code class=\"knitr inline\">%s</code>", .inline.hook(format_sci(x, "html"))))
}, function () 
{
  hook = function(name) {
    force(name)
    function(x, options) {
      x = if (name == "source") {
        c(hilight_source(x, "html", options), "")
      }
      else escape_html(x)
      x = one_string(x)
      sprintf("<div class=\"%s\"><pre class=\"knitr %s\">%s</pre></div>\n", name, tolower(options$engine), x)
    }
  }
  list(source = hook("source"), output = hook("output"), warning = hook("warning"), message = hook("message"), error = hook("error"), plot = hook_plot_html, chunk = .chunk.hook.html, inline = function(x) sprintf(if (inherits(x, "AsIs")) "%s" else "<code class=\"knitr inline\">%s</code>", .inline.hook(format_sci(x, "html"))))
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hooks_jekyll
list(`package:knitr` = function (highlight = c("pygments", "prettify", "none"), extra = "") 
{
  hook.m = hooks_markdown(TRUE)
  hi = match.arg(highlight)
  if (hi == "none") 
    return(hook.m)
  switch(hi, pygments = {
    hook.r = function(x, options) {
      paste0("\n\n{% highlight ", tolower(options$engine), if (extra != "") " ", extra, " %}\n", x, "\n{% endhighlight %}\n\n")
    }
    hook.t = function(x, options) paste0("\n\n{% highlight text %}\n", x, "{% endhighlight %}\n\n")
  }, prettify = {
    hook.r = function(x, options) {
      paste0("\n\n<pre><code class=\"prettyprint ", extra, "\">", escape_html(x), "</code></pre>\n\n")
    }
    hook.t = function(x, options) paste0("\n\n<pre><code>", escape_html(x), "</code></pre>\n\n")
  })
  source = function(x, options) {
    x = one_string(hilight_source(x, "markdown", options))
    hook.r(x, options)
  }
  merge_list(hook.m, list(source = source, output = hook.t, warning = hook.t, message = hook.t, error = hook.t))
}, function (highlight = c("pygments", "prettify", "none"), extra = "") 
{
  hook.m = hooks_markdown(TRUE)
  hi = match.arg(highlight)
  if (hi == "none") 
    return(hook.m)
  switch(hi, pygments = {
    hook.r = function(x, options) {
      paste0("\n\n{% highlight ", tolower(options$engine), if (extra != "") " ", extra, " %}\n", x, "\n{% endhighlight %}\n\n")
    }
    hook.t = function(x, options) paste0("\n\n{% highlight text %}\n", x, "{% endhighlight %}\n\n")
  }, prettify = {
    hook.r = function(x, options) {
      paste0("\n\n<pre><code class=\"prettyprint ", extra, "\">", escape_html(x), "</code></pre>\n\n")
    }
    hook.t = function(x, options) paste0("\n\n<pre><code>", escape_html(x), "</code></pre>\n\n")
  })
  source = function(x, options) {
    x = one_string(hilight_source(x, "markdown", options))
    hook.r(x, options)
  }
  merge_list(hook.m, list(source = source, output = hook.t, warning = hook.t, message = hook.t, error = hook.t))
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hooks_latex
list(`package:knitr` = function () 
{
  list(source = function(x, options) {
    x = hilight_source(x, "latex", options)
    if (options$highlight) {
      if (options$engine == "R" || x[1] != "\\noindent") {
        one_string(c("\\begin{alltt}", x, "\\end{alltt}", ""))
      } else {
        if ((n <- length(x)) > 4) x[n - 2] = sub("\\\\\\\\$", "", x[n - 2])
        one_string(c(x, ""))
      }
    } else .verb.hook(x)
  }, output = function(x, options) {
    if (output_asis(x, options)) {
      paste0("\\end{kframe}", x, "\\begin{kframe}")
    } else .verb.hook(x)
  }, warning = .color.block("\\color{warningcolor}{", "}"), message = .color.block("\\itshape\\color{messagecolor}{", "}"), error = .color.block("\\bfseries\\color{errorcolor}{", "}"), inline = .inline.hook.tex, chunk = .chunk.hook.tex, plot = function(x, options) {
    paste0("\\end{kframe}", hook_plot_tex(x, options), "\n\\begin{kframe}")
  })
}, function () 
{
  list(source = function(x, options) {
    x = hilight_source(x, "latex", options)
    if (options$highlight) {
      if (options$engine == "R" || x[1] != "\\noindent") {
        one_string(c("\\begin{alltt}", x, "\\end{alltt}", ""))
      } else {
        if ((n <- length(x)) > 4) x[n - 2] = sub("\\\\\\\\$", "", x[n - 2])
        one_string(c(x, ""))
      }
    } else .verb.hook(x)
  }, output = function(x, options) {
    if (output_asis(x, options)) {
      paste0("\\end{kframe}", x, "\\begin{kframe}")
    } else .verb.hook(x)
  }, warning = .color.block("\\color{warningcolor}{", "}"), message = .color.block("\\itshape\\color{messagecolor}{", "}"), error = .color.block("\\bfseries\\color{errorcolor}{", "}"), inline = .inline.hook.tex, chunk = .chunk.hook.tex, plot = function(x, options) {
    paste0("\\end{kframe}", hook_plot_tex(x, options), "\n\\begin{kframe}")
  })
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hooks_listings
list(`package:knitr` = function (envirs = c("Sinput", "Soutput", "Schunk")) 
{
  hook.i = function(x, options) one_string(c(sprintf("\\begin{%s}", envirs[1]), hilight_source(x, "sweave", options), sprintf("\\end{%s}", envirs[1]), ""))
  hook.s = function(x, options) {
    if (output_asis(x, options)) 
      return(x)
    sprintf("\\begin{%s}\n%s\\end{%s}\n", envirs[2], x, envirs[2])
  }
  hook.c = function(x, options) {
    if (output_asis(x, options)) 
      return(x)
    sprintf("\\begin{%s}\n%s\\end{%s}", envirs[3], x, envirs[3])
  }
  list(source = hook.i, output = hook.s, warning = hook.s, message = hook.s, error = hook.s, plot = hook_plot_tex, inline = .inline.hook.tex, chunk = hook.c)
}, function (envirs = c("Sinput", "Soutput", "Schunk")) 
{
  hook.i = function(x, options) one_string(c(sprintf("\\begin{%s}", envirs[1]), hilight_source(x, "sweave", options), sprintf("\\end{%s}", envirs[1]), ""))
  hook.s = function(x, options) {
    if (output_asis(x, options)) 
      return(x)
    sprintf("\\begin{%s}\n%s\\end{%s}\n", envirs[2], x, envirs[2])
  }
  hook.c = function(x, options) {
    if (output_asis(x, options)) 
      return(x)
    sprintf("\\begin{%s}\n%s\\end{%s}", envirs[3], x, envirs[3])
  }
  list(source = hook.i, output = hook.s, warning = hook.s, message = hook.s, error = hook.s, plot = hook_plot_tex, inline = .inline.hook.tex, chunk = hook.c)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hooks_markdown
list(`package:knitr` = function (strict = FALSE, fence_char = "`") 
{
  fence = paste(rep(fence_char, 3), collapse = "")
  hook.t = function(x, attr = NULL, class = NULL) {
    if (strict) {
      paste("\n", indent_block(x), "\n", sep = "\n")
    }
    else {
      fenced_block(x, attr, class, .char = fence_char)
    }
  }
  hook.o = function(class) {
    force(class)
    function(x, options) {
      hook.t(x, options[[paste0("attr.", class)]], options[[paste0("class.", class)]])
    }
  }
  hook.r = function(x, options) {
    lang = tolower(options$lang %n% eng2lang(options$engine))
    if (!options$highlight) 
      lang = "text"
    fenced_block(x, options$attr.source, options$class.source, lang, .char = fence_char)
  }
  list(source = function(x, options) {
    x = hilight_source(x, "markdown", options)
    if (strict) hook.t(x) else hook.r(c(x, ""), options)
  }, inline = function(x) {
    if (is_latex_output()) .inline.hook.tex(x) else {
      .inline.hook(format_sci(x, if (length(pandoc_to()) == 1) "latex" else "html"))
    }
  }, plot = hook_plot_md, chunk = function(x, options) {
    x = gsub(paste0("[\n]{2,}(", fence, "|    )"), "\n\n\\1", x)
    x = gsub("[\n]+$", "", x)
    x = gsub("^[\n]+", "\n", x)
    if (isTRUE(options$collapse)) {
      r = sprintf("\n([%s]{3,})\n+\\1((\\{[.])?%s[^\n]*)?\n", fence_char, tolower(options$engine))
      x = gsub(r, "\n", x)
    }
    x = pandoc_div(x, options[["attr.chunk"]], options[["class.chunk"]])
    if (is.null(s <- options$indent)) return(x)
    line_prompt(x, prompt = s, continue = s)
  }, output = hook.o("output"), warning = hook.o("warning"), error = hook.o("error"), message = hook.o("message"))
}, function (strict = FALSE, fence_char = "`") 
{
  fence = paste(rep(fence_char, 3), collapse = "")
  hook.t = function(x, attr = NULL, class = NULL) {
    if (strict) {
      paste("\n", indent_block(x), "\n", sep = "\n")
    }
    else {
      fenced_block(x, attr, class, .char = fence_char)
    }
  }
  hook.o = function(class) {
    force(class)
    function(x, options) {
      hook.t(x, options[[paste0("attr.", class)]], options[[paste0("class.", class)]])
    }
  }
  hook.r = function(x, options) {
    lang = tolower(options$lang %n% eng2lang(options$engine))
    if (!options$highlight) 
      lang = "text"
    fenced_block(x, options$attr.source, options$class.source, lang, .char = fence_char)
  }
  list(source = function(x, options) {
    x = hilight_source(x, "markdown", options)
    if (strict) hook.t(x) else hook.r(c(x, ""), options)
  }, inline = function(x) {
    if (is_latex_output()) .inline.hook.tex(x) else {
      .inline.hook(format_sci(x, if (length(pandoc_to()) == 1) "latex" else "html"))
    }
  }, plot = hook_plot_md, chunk = function(x, options) {
    x = gsub(paste0("[\n]{2,}(", fence, "|    )"), "\n\n\\1", x)
    x = gsub("[\n]+$", "", x)
    x = gsub("^[\n]+", "\n", x)
    if (isTRUE(options$collapse)) {
      r = sprintf("\n([%s]{3,})\n+\\1((\\{[.])?%s[^\n]*)?\n", fence_char, tolower(options$engine))
      x = gsub(r, "\n", x)
    }
    x = pandoc_div(x, options[["attr.chunk"]], options[["class.chunk"]])
    if (is.null(s <- options$indent)) return(x)
    line_prompt(x, prompt = s, continue = s)
  }, output = hook.o("output"), warning = hook.o("warning"), error = hook.o("error"), message = hook.o("message"))
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hooks_rst
list(`package:knitr` = function (strict = FALSE) 
{
  hook.s = function(x, options) {
    one_string(c("\n\n::\n", indent_block(x), ""))
  }
  hook.t = function(x, options) {
    make_directive("sourcecode", tolower(options$engine), "", content = x)
  }
  hook.i = function(x) .inline.hook(format_sci(x, "rst"))
  list(source = function(x, options) {
    x = one_string(c(hilight_source(x, "rst", options), ""))
    (if (strict) hook.s else hook.t)(x, options)
  }, warning = hook.s, error = hook.s, message = hook.s, output = hook.s, inline = hook.i, plot = hook_plot_rst)
}, function (strict = FALSE) 
{
  hook.s = function(x, options) {
    one_string(c("\n\n::\n", indent_block(x), ""))
  }
  hook.t = function(x, options) {
    make_directive("sourcecode", tolower(options$engine), "", content = x)
  }
  hook.i = function(x) .inline.hook(format_sci(x, "rst"))
  list(source = function(x, options) {
    x = one_string(c(hilight_source(x, "rst", options), ""))
    (if (strict) hook.s else hook.t)(x, options)
  }, warning = hook.s, error = hook.s, message = hook.s, output = hook.s, inline = hook.i, plot = hook_plot_rst)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hooks_sweave
list(`package:knitr` = function (envirs = c("Sinput", "Soutput", "Schunk")) 
{
  hook.i = function(x, options) one_string(c(sprintf("\\begin{%s}", envirs[1]), hilight_source(x, "sweave", options), sprintf("\\end{%s}", envirs[1]), ""))
  hook.s = function(x, options) {
    if (output_asis(x, options)) 
      return(x)
    sprintf("\\begin{%s}\n%s\\end{%s}\n", envirs[2], x, envirs[2])
  }
  hook.c = function(x, options) {
    if (output_asis(x, options)) 
      return(x)
    sprintf("\\begin{%s}\n%s\\end{%s}", envirs[3], x, envirs[3])
  }
  list(source = hook.i, output = hook.s, warning = hook.s, message = hook.s, error = hook.s, plot = hook_plot_tex, inline = .inline.hook.tex, chunk = hook.c)
}, function (envirs = c("Sinput", "Soutput", "Schunk")) 
{
  hook.i = function(x, options) one_string(c(sprintf("\\begin{%s}", envirs[1]), hilight_source(x, "sweave", options), sprintf("\\end{%s}", envirs[1]), ""))
  hook.s = function(x, options) {
    if (output_asis(x, options)) 
      return(x)
    sprintf("\\begin{%s}\n%s\\end{%s}\n", envirs[2], x, envirs[2])
  }
  hook.c = function(x, options) {
    if (output_asis(x, options)) 
      return(x)
    sprintf("\\begin{%s}\n%s\\end{%s}", envirs[3], x, envirs[3])
  }
  list(source = hook.i, output = hook.s, warning = hook.s, message = hook.s, error = hook.s, plot = hook_plot_tex, inline = .inline.hook.tex, chunk = hook.c)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
hooks_textile
list(`package:knitr` = function () 
{
  hook = function(name) {
    force(name)
    function(x, options) {
      if (name == "source") 
        x = c(hilight_source(x, "textile", options), "")
      x = one_string(x)
      sprintf("bc(knitr %s %s#%s).. %s\np(knitr_end). \n\n", tolower(options$engine), name, options$label, x)
    }
  }
  list(source = hook("source"), output = hook("output"), warning = hook("warning"), message = hook("message"), error = hook("error"), plot = hook_plot_textile, inline = function(x) .inline.hook(format_sci(x, "html")))
}, function () 
{
  hook = function(name) {
    force(name)
    function(x, options) {
      if (name == "source") 
        x = c(hilight_source(x, "textile", options), "")
      x = one_string(x)
      sprintf("bc(knitr %s %s#%s).. %s\np(knitr_end). \n\n", tolower(options$engine), name, options$label, x)
    }
  }
  list(source = hook("source"), output = hook("output"), warning = hook("warning"), message = hook("message"), error = hook("error"), plot = hook_plot_textile, inline = function(x) .inline.hook(format_sci(x, "html")))
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
image_uri
list(`package:knitr` = function (f) 
  xfun::base64_uri(f), function (f) 
    xfun::base64_uri(f))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
imgur_upload
list(`package:knitr` = function (file, key = "9f3460e67f308f6") 
{
  if (!is.character(key)) 
    stop("The Imgur API Key must be a character string!")
  resp = httr::POST("https://api.imgur.com/3/image.xml", config = httr::add_headers(Authorization = paste("Client-ID", key)), body = list(image = httr::upload_file(file)))
  httr::stop_for_status(resp, "upload to imgur")
  res = httr::content(resp, as = "raw")
  res = if (length(res)) 
    xml2::as_list(xml2::read_xml(res))
  if (packageVersion("xml2") >= "1.2.0") 
    res <- res[[1]]
  if (is.null(res$link[[1]])) 
    stop("failed to upload ", file)
  structure(res$link[[1]], XML = res)
}, function (file, key = "9f3460e67f308f6") 
{
  if (!is.character(key)) 
    stop("The Imgur API Key must be a character string!")
  resp = httr::POST("https://api.imgur.com/3/image.xml", config = httr::add_headers(Authorization = paste("Client-ID", key)), body = list(image = httr::upload_file(file)))
  httr::stop_for_status(resp, "upload to imgur")
  res = httr::content(resp, as = "raw")
  res = if (length(res)) 
    xml2::as_list(xml2::read_xml(res))
  if (packageVersion("xml2") >= "1.2.0") 
    res <- res[[1]]
  if (is.null(res$link[[1]])) 
    stop("failed to upload ", file)
  structure(res$link[[1]], XML = res)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
include_app
list(`package:knitr` = function (url, height = "400px") 
{
  orig = url
  i = !grepl("?", url, fixed = TRUE)
  url[i] = paste0(url[i], "?showcase=0")
  include_url2(url, height, orig)
}, function (url, height = "400px") 
{
  orig = url
  i = !grepl("?", url, fixed = TRUE)
  url[i] = paste0(url[i], "?showcase=0")
  include_url2(url, height, orig)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
include_graphics
list(`package:knitr` = function (path, auto_pdf = getOption("knitr.graphics.auto_pdf", FALSE), dpi = NULL, rel_path = getOption("knitr.graphics.rel_path", TRUE), error = getOption("knitr.graphics.error", TRUE)) 
{
  path = native_encode(path)
  if (any(i <- xfun::is_abs_path(path)) && rel_path && !is.null(d <- opts_knit$get("output.dir"))) {
    path[i] = xfun::relative_path(path[i], d, error = FALSE)
    if (any(j <- xfun::is_abs_path(path[i]))) 
      warning("It is highly recommended to use relative paths for images. ", "You had absolute paths: ", quote_vec(path[i][j]))
  }
  path = path.expand(path)
  if (auto_pdf && is_latex_output()) {
    path2 = with_ext(path, "pdf")
    i = file.exists(path2)
    path[i] = path2[i]
  }
  if (child_mode()) 
    error = FALSE
  if (error && length(p <- path[!xfun::is_web_path(path) & !file.exists(path)])) 
    stop("Cannot find the file(s): ", quote_vec(p))
  structure(path, class = c("knit_image_paths", "knit_asis"), dpi = dpi)
}, function (path, auto_pdf = getOption("knitr.graphics.auto_pdf", FALSE), dpi = NULL, rel_path = getOption("knitr.graphics.rel_path", TRUE), error = getOption("knitr.graphics.error", TRUE)) 
{
  path = native_encode(path)
  if (any(i <- xfun::is_abs_path(path)) && rel_path && !is.null(d <- opts_knit$get("output.dir"))) {
    path[i] = xfun::relative_path(path[i], d, error = FALSE)
    if (any(j <- xfun::is_abs_path(path[i]))) 
      warning("It is highly recommended to use relative paths for images. ", "You had absolute paths: ", quote_vec(path[i][j]))
  }
  path = path.expand(path)
  if (auto_pdf && is_latex_output()) {
    path2 = with_ext(path, "pdf")
    i = file.exists(path2)
    path[i] = path2[i]
  }
  if (child_mode()) 
    error = FALSE
  if (error && length(p <- path[!xfun::is_web_path(path) & !file.exists(path)])) 
    stop("Cannot find the file(s): ", quote_vec(p))
  structure(path, class = c("knit_image_paths", "knit_asis"), dpi = dpi)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
include_url
list(`package:knitr` = function (url, height = "400px") 
{
  include_url2(url, height)
}, function (url, height = "400px") 
{
  include_url2(url, height)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
inline_expr
list(`package:knitr` = function (code, syntax) 
{
  if (!is.character(code) || length(code) != 1) 
    stop("The inline code must be a character string")
  if (!missing(syntax)) 
    pat = syntax
  else {
    inline = knit_patterns$get("inline.code")
    if (is.null(inline)) 
      stop("inline_expr() must be called in a knitting process")
    pat = NULL
    for (i in names(all_patterns)) {
      if (inline == all_patterns[[i]][["inline.code"]]) {
        pat = i
        break
      }
    }
  }
  if (is.null(pat)) 
    stop("Unknown document format")
  sprintf(switch(pat, rnw = "\\Sexpr{%s}", tex = "\\rinline{%s}", html = "<!--rinline %s -->", md = "`r %s`", rst = ":r:`%s`", asciidoc = "`r %s`", textile = "@r %s@", stop("Unknown syntax ", pat)), code)
}, function (code, syntax) 
{
  if (!is.character(code) || length(code) != 1) 
    stop("The inline code must be a character string")
  if (!missing(syntax)) 
    pat = syntax
  else {
    inline = knit_patterns$get("inline.code")
    if (is.null(inline)) 
      stop("inline_expr() must be called in a knitting process")
    pat = NULL
    for (i in names(all_patterns)) {
      if (inline == all_patterns[[i]][["inline.code"]]) {
        pat = i
        break
      }
    }
  }
  if (is.null(pat)) 
    stop("Unknown document format")
  sprintf(switch(pat, rnw = "\\Sexpr{%s}", tex = "\\rinline{%s}", html = "<!--rinline %s -->", md = "`r %s`", rst = ":r:`%s`", asciidoc = "`r %s`", textile = "@r %s@", stop("Unknown syntax ", pat)), code)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
is_html_output
list(`package:knitr` = function (fmt = pandoc_to(), excludes = NULL) 
{
  if (length(fmt) == 0) 
    return(FALSE)
  if (grepl("^markdown", fmt)) 
    fmt = "markdown"
  if (fmt == "epub3") 
    fmt = "epub"
  fmts = c("markdown", "epub", "html", "html4", "html5", "revealjs", "s5", "slideous", "slidy", "gfm")
  fmt %in% setdiff(fmts, excludes)
}, function (fmt = pandoc_to(), excludes = NULL) 
{
  if (length(fmt) == 0) 
    return(FALSE)
  if (grepl("^markdown", fmt)) 
    fmt = "markdown"
  if (fmt == "epub3") 
    fmt = "epub"
  fmts = c("markdown", "epub", "html", "html4", "html5", "revealjs", "s5", "slideous", "slidy", "gfm")
  fmt %in% setdiff(fmts, excludes)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
is_latex_output
list(`package:knitr` = function () 
{
  out_format("latex") || pandoc_to(c("latex", "beamer"))
}, function () 
{
  if (!("knitr" %in% loadedNamespaces())) {
    return(FALSE)
  }
  get("is_latex_output", asNamespace("knitr"))()
}, function () 
{
  if (!("knitr" %in% loadedNamespaces())) 
    return(FALSE)
  get("is_latex_output", asNamespace("knitr"))()
}, function () 
{
  out_format("latex") || pandoc_to(c("latex", "beamer"))
})
c("package:knitr", "namespace:pillar", "namespace:cli", "namespace:knitr")
c(TRUE, FALSE, FALSE, FALSE)
c(FALSE, FALSE, FALSE, TRUE)
is_low_change
list(`package:knitr` = function (p1, p2) 
{
  UseMethod("is_low_change")
}, function (p1, p2) 
{
  UseMethod("is_low_change")
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
kable
list(`package:knitr` = function (x, format, digits = getOption("digits"), row.names = NA, col.names = NA, align, caption = NULL, label = NULL, format.args = list(), escape = TRUE, ...) 
{
  format = kable_format(format)
  if (!missing(align) && length(align) == 1 && !grepl("[^lcr]", align)) 
    align = strsplit(align, "")[[1]]
  if (inherits(x, "list")) {
    format = kable_format_latex(format)
    res = lapply(x, kable, format = format, digits = digits, row.names = row.names, col.names = col.names, align = align, caption = NA, format.args = format.args, escape = escape, ...)
    return(kables(res, format, caption, label))
  }
  caption = kable_caption(label, caption, format)
  if (!is.matrix(x)) 
    x = as.data.frame(x)
  if (identical(col.names, NA)) 
    col.names = colnames(x)
  m = ncol(x)
  isn = if (is.matrix(x)) 
    rep(is.numeric(x), m)
  else sapply(x, is.numeric)
  if (missing(align) || (format == "latex" && is.null(align))) 
    align = ifelse(isn, "r", "l")
  digits = rep(digits, length.out = m)
  for (j in seq_len(m)) {
    if (is_numeric(x[, j])) 
      x[, j] = round(x[, j], digits[j])
  }
  if (any(isn)) {
    if (is.matrix(x)) {
      if (is.table(x) && length(dim(x)) == 2) 
        class(x) = "matrix"
      x = format_matrix(x, format.args)
    }
    else x[, isn] = format_args(x[, isn], format.args)
  }
  if (is.na(row.names)) 
    row.names = has_rownames(x)
  if (!is.null(align)) 
    align = rep(align, length.out = m)
  if (row.names) {
    x = cbind(` ` = rownames(x), x)
    if (!is.null(col.names)) 
      col.names = c(" ", col.names)
    if (!is.null(align)) 
      align = c("l", align)
  }
  n = nrow(x)
  x = replace_na(to_character(x), is.na(x))
  if (!is.matrix(x)) 
    x = matrix(x, nrow = n)
  x = trimws(x)
  colnames(x) = col.names
  if (format != "latex" && length(align) && !all(align %in% c("l", "r", "c"))) 
    stop("'align' must be a character vector of possible values 'l', 'r', and 'c'")
  attr(x, "align") = align
  if (format == "simple" && nrow(x) == 0) 
    format = "pipe"
  res = do.call(paste("kable", format, sep = "_"), list(x = x, caption = caption, escape = escape, ...))
  structure(res, format = format, class = "knitr_kable")
}, function (x, format, digits = getOption("digits"), row.names = NA, col.names = NA, align, caption = NULL, label = NULL, format.args = list(), escape = TRUE, ...) 
{
  format = kable_format(format)
  if (!missing(align) && length(align) == 1 && !grepl("[^lcr]", align)) 
    align = strsplit(align, "")[[1]]
  if (inherits(x, "list")) {
    format = kable_format_latex(format)
    res = lapply(x, kable, format = format, digits = digits, row.names = row.names, col.names = col.names, align = align, caption = NA, format.args = format.args, escape = escape, ...)
    return(kables(res, format, caption, label))
  }
  caption = kable_caption(label, caption, format)
  if (!is.matrix(x)) 
    x = as.data.frame(x)
  if (identical(col.names, NA)) 
    col.names = colnames(x)
  m = ncol(x)
  isn = if (is.matrix(x)) 
    rep(is.numeric(x), m)
  else sapply(x, is.numeric)
  if (missing(align) || (format == "latex" && is.null(align))) 
    align = ifelse(isn, "r", "l")
  digits = rep(digits, length.out = m)
  for (j in seq_len(m)) {
    if (is_numeric(x[, j])) 
      x[, j] = round(x[, j], digits[j])
  }
  if (any(isn)) {
    if (is.matrix(x)) {
      if (is.table(x) && length(dim(x)) == 2) 
        class(x) = "matrix"
      x = format_matrix(x, format.args)
    }
    else x[, isn] = format_args(x[, isn], format.args)
  }
  if (is.na(row.names)) 
    row.names = has_rownames(x)
  if (!is.null(align)) 
    align = rep(align, length.out = m)
  if (row.names) {
    x = cbind(` ` = rownames(x), x)
    if (!is.null(col.names)) 
      col.names = c(" ", col.names)
    if (!is.null(align)) 
      align = c("l", align)
  }
  n = nrow(x)
  x = replace_na(to_character(x), is.na(x))
  if (!is.matrix(x)) 
    x = matrix(x, nrow = n)
  x = trimws(x)
  colnames(x) = col.names
  if (format != "latex" && length(align) && !all(align %in% c("l", "r", "c"))) 
    stop("'align' must be a character vector of possible values 'l', 'r', and 'c'")
  attr(x, "align") = align
  if (format == "simple" && nrow(x) == 0) 
    format = "pipe"
  res = do.call(paste("kable", format, sep = "_"), list(x = x, caption = caption, escape = escape, ...))
  structure(res, format = format, class = "knitr_kable")
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
kables
list(`package:knitr` = function (x, format, caption = NULL, label = NULL) 
{
  format = kable_format(format)
  format = kable_format_latex(format)
  caption = kable_caption(label, caption, format)
  opts = options(knitr.table.format = format)
  on.exit(options(opts), add = TRUE)
  if (!inherits(x, "list")) 
    stop("'x' must be a list (of kable() values)")
  res = unlist(lapply(x, one_string))
  res = if (format == "latex") {
    kable_latex_caption(res, caption)
  }
  else if (format == "html" || (format == "pipe" && is_html_output())) 
    kable_html(matrix(paste0("\n\n", res, "\n\n"), 1), caption = caption, escape = FALSE, table.attr = "class=\"kable_wrapper\"")
  else {
    res = paste(res, collapse = "\n\n")
    if (format == "pipe") 
      kable_pandoc_caption(res, caption)
    else res
  }
  structure(res, format = format, class = "knitr_kable")
}, function (x, format, caption = NULL, label = NULL) 
{
  format = kable_format(format)
  format = kable_format_latex(format)
  caption = kable_caption(label, caption, format)
  opts = options(knitr.table.format = format)
  on.exit(options(opts), add = TRUE)
  if (!inherits(x, "list")) 
    stop("'x' must be a list (of kable() values)")
  res = unlist(lapply(x, one_string))
  res = if (format == "latex") {
    kable_latex_caption(res, caption)
  }
  else if (format == "html" || (format == "pipe" && is_html_output())) 
    kable_html(matrix(paste0("\n\n", res, "\n\n"), 1), caption = caption, escape = FALSE, table.attr = "class=\"kable_wrapper\"")
  else {
    res = paste(res, collapse = "\n\n")
    if (format == "pipe") 
      kable_pandoc_caption(res, caption)
    else res
  }
  structure(res, format = format, class = "knitr_kable")
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit
list(`package:knitr` = function (input, output = NULL, tangle = FALSE, text = NULL, quiet = FALSE, envir = parent.frame(), encoding = "UTF-8") 
{
  in.file = !missing(input) && is.character(input)
  oconc = knit_concord$get()
  on.exit(knit_concord$set(oconc), add = TRUE)
  if (child_mode()) {
    setwd(opts_knit$get("output.dir"))
    if (in.file && !is_abs_path(input)) {
      input = paste0(opts_knit$get("child.path"), input)
      input = file.path(input_dir(), input)
    }
    optk = opts_knit$get()
    on.exit(opts_knit$restore(optk), add = TRUE)
    opts_knit$set(progress = opts_knit$get("progress") && !quiet)
    quiet = !opts_knit$get("progress")
  }
  else {
    knit_log$restore()
    on.exit(chunk_counter(reset = TRUE), add = TRUE)
    adjust_opts_knit()
    oopts = options(useFancyQuotes = FALSE, device = pdf_null, knitr.in.progress = TRUE)
    on.exit(options(oopts), add = TRUE)
    optc = opts_chunk$get()
    on.exit(opts_chunk$restore(optc), add = TRUE)
    ocode = knit_code$get()
    on.exit(knit_code$restore(ocode), add = TRUE)
    on.exit(opts_current$restore(), add = TRUE)
    optk = opts_knit$get()
    on.exit(opts_knit$restore(optk), add = TRUE)
    opts_knit$set(output.dir = getwd(), tangle = tangle, progress = opts_knit$get("progress") && !quiet)
  }
  oenvir = .knitEnv$knit_global
  .knitEnv$knit_global = envir
  on.exit({
    .knitEnv$knit_global = oenvir
  }, add = TRUE)
  ext = "unknown"
  if (in.file) {
    input.dir = .knitEnv$input.dir
    on.exit({
      .knitEnv$input.dir = input.dir
    }, add = TRUE)
    .knitEnv$input.dir = dirname(input)
    ext = tolower(file_ext(input))
    if ((is.null(output) || is.na(output)) && !child_mode()) 
      output = basename(auto_out_name(input, ext))
    if (is.character(output) && !child_mode()) {
      out.purl = with_ext(input, "R")
      if (xfun::same_path(output, out.purl) && tangle && file_test("-nt", out.purl, input)) 
        return(out.purl)
      otangle = .knitEnv$tangle.file
      .knitEnv$tangle.file = normalizePath(out.purl, mustWork = FALSE)
      .knitEnv$tangle.start = FALSE
      on.exit({
        .knitEnv$tangle.file = otangle
        .knitEnv$tangle.start = NULL
      }, add = TRUE)
    }
    if (is.null(getOption("tikzMetricsDictionary"))) {
      options(tikzMetricsDictionary = tikz_dict(input))
      on.exit(options(tikzMetricsDictionary = NULL), add = TRUE)
    }
    knit_concord$set(infile = input, outfile = output)
  }
  text = if (is.null(text)) 
    xfun::read_utf8(input)
  else split_lines(text)
  if (!length(text)) {
    if (is.character(output)) 
      file.create(output)
    return(output)
  }
  apat = all_patterns
  opat = knit_patterns$get()
  on.exit(knit_patterns$restore(opat), add = TRUE)
  if (length(opat) == 0 || all(vapply(opat, is.null, logical(1)))) {
    if (is.null(pattern <- detect_pattern(text, ext))) {
      if (is.null(output)) {
        return(if (tangle) "" else one_string(text))
      }
      else {
        write_utf8(if (tangle) 
          ""
          else text, output)
        return(output)
      }
    }
    if (!(pattern %in% names(apat))) 
      stop("a pattern list cannot be automatically found for the file extension '", ext, "' in built-in pattern lists; ", "see ?knit_patterns on how to set up customized patterns")
    set_pattern(pattern)
    if (pattern == "rnw" && length(sweave_lines <- which_sweave(text)) > 0) 
      remind_sweave(if (in.file) 
        input, sweave_lines)
    opts_knit$set(out.format = switch(pattern, rnw = "latex", tex = "latex", html = "html", md = "markdown", rst = "rst", brew = "brew", asciidoc = "asciidoc", textile = "textile"))
  }
  if (is.null(out_format())) 
    auto_format(ext)
  params = NULL
  if (out_format("markdown")) {
    if (child_mode()) {
      if (grepl("^---\\s*$", text[1])) {
        i = grep("^---\\s*$", text)
        if (length(i) >= 2) 
          text[1:i[2]] = ""
      }
    }
    else {
      params = knit_params(text)
      params = if (length(params)) 
        c("params <-", capture.output(dput(flatten_params(params), "")), "")
      .knitEnv$tangle.params = params
    }
  }
  if (identical(knit_hooks$get(names(.default.hooks)), .default.hooks) && !child_mode()) {
    getFromNamespace(paste("render", out_format(), sep = "_"), "knitr")()
    on.exit(knit_hooks$set(.default.hooks), add = TRUE)
  }
  progress = opts_knit$get("progress")
  if (in.file && !quiet) 
    message(ifelse(progress, "\n\n", ""), "processing file: ", input)
  res = process_file(text, output)
  res = one_string((knit_hooks$get("document"))(res))
  if (tangle) 
    res = c(params, res)
  if (!is.null(output)) 
    write_utf8(res, output)
  if (!child_mode()) {
    dep_list$restore()
    .knitEnv$labels = NULL
  }
  if (in.file && is.character(output) && file.exists(output)) {
    concord_gen(input, output)
    if (!quiet) 
      message("output file: ", output, ifelse(progress, "\n", ""))
  }
  output %n% res
}, function (input, output = NULL, tangle = FALSE, text = NULL, quiet = FALSE, envir = parent.frame(), encoding = "UTF-8") 
{
  in.file = !missing(input) && is.character(input)
  oconc = knit_concord$get()
  on.exit(knit_concord$set(oconc), add = TRUE)
  if (child_mode()) {
    setwd(opts_knit$get("output.dir"))
    if (in.file && !is_abs_path(input)) {
      input = paste0(opts_knit$get("child.path"), input)
      input = file.path(input_dir(), input)
    }
    optk = opts_knit$get()
    on.exit(opts_knit$restore(optk), add = TRUE)
    opts_knit$set(progress = opts_knit$get("progress") && !quiet)
    quiet = !opts_knit$get("progress")
  }
  else {
    knit_log$restore()
    on.exit(chunk_counter(reset = TRUE), add = TRUE)
    adjust_opts_knit()
    oopts = options(useFancyQuotes = FALSE, device = pdf_null, knitr.in.progress = TRUE)
    on.exit(options(oopts), add = TRUE)
    optc = opts_chunk$get()
    on.exit(opts_chunk$restore(optc), add = TRUE)
    ocode = knit_code$get()
    on.exit(knit_code$restore(ocode), add = TRUE)
    on.exit(opts_current$restore(), add = TRUE)
    optk = opts_knit$get()
    on.exit(opts_knit$restore(optk), add = TRUE)
    opts_knit$set(output.dir = getwd(), tangle = tangle, progress = opts_knit$get("progress") && !quiet)
  }
  oenvir = .knitEnv$knit_global
  .knitEnv$knit_global = envir
  on.exit({
    .knitEnv$knit_global = oenvir
  }, add = TRUE)
  ext = "unknown"
  if (in.file) {
    input.dir = .knitEnv$input.dir
    on.exit({
      .knitEnv$input.dir = input.dir
    }, add = TRUE)
    .knitEnv$input.dir = dirname(input)
    ext = tolower(file_ext(input))
    if ((is.null(output) || is.na(output)) && !child_mode()) 
      output = basename(auto_out_name(input, ext))
    if (is.character(output) && !child_mode()) {
      out.purl = with_ext(input, "R")
      if (xfun::same_path(output, out.purl) && tangle && file_test("-nt", out.purl, input)) 
        return(out.purl)
      otangle = .knitEnv$tangle.file
      .knitEnv$tangle.file = normalizePath(out.purl, mustWork = FALSE)
      .knitEnv$tangle.start = FALSE
      on.exit({
        .knitEnv$tangle.file = otangle
        .knitEnv$tangle.start = NULL
      }, add = TRUE)
    }
    if (is.null(getOption("tikzMetricsDictionary"))) {
      options(tikzMetricsDictionary = tikz_dict(input))
      on.exit(options(tikzMetricsDictionary = NULL), add = TRUE)
    }
    knit_concord$set(infile = input, outfile = output)
  }
  text = if (is.null(text)) 
    xfun::read_utf8(input)
  else split_lines(text)
  if (!length(text)) {
    if (is.character(output)) 
      file.create(output)
    return(output)
  }
  apat = all_patterns
  opat = knit_patterns$get()
  on.exit(knit_patterns$restore(opat), add = TRUE)
  if (length(opat) == 0 || all(vapply(opat, is.null, logical(1)))) {
    if (is.null(pattern <- detect_pattern(text, ext))) {
      if (is.null(output)) {
        return(if (tangle) "" else one_string(text))
      }
      else {
        write_utf8(if (tangle) 
          ""
          else text, output)
        return(output)
      }
    }
    if (!(pattern %in% names(apat))) 
      stop("a pattern list cannot be automatically found for the file extension '", ext, "' in built-in pattern lists; ", "see ?knit_patterns on how to set up customized patterns")
    set_pattern(pattern)
    if (pattern == "rnw" && length(sweave_lines <- which_sweave(text)) > 0) 
      remind_sweave(if (in.file) 
        input, sweave_lines)
    opts_knit$set(out.format = switch(pattern, rnw = "latex", tex = "latex", html = "html", md = "markdown", rst = "rst", brew = "brew", asciidoc = "asciidoc", textile = "textile"))
  }
  if (is.null(out_format())) 
    auto_format(ext)
  params = NULL
  if (out_format("markdown")) {
    if (child_mode()) {
      if (grepl("^---\\s*$", text[1])) {
        i = grep("^---\\s*$", text)
        if (length(i) >= 2) 
          text[1:i[2]] = ""
      }
    }
    else {
      params = knit_params(text)
      params = if (length(params)) 
        c("params <-", capture.output(dput(flatten_params(params), "")), "")
      .knitEnv$tangle.params = params
    }
  }
  if (identical(knit_hooks$get(names(.default.hooks)), .default.hooks) && !child_mode()) {
    getFromNamespace(paste("render", out_format(), sep = "_"), "knitr")()
    on.exit(knit_hooks$set(.default.hooks), add = TRUE)
  }
  progress = opts_knit$get("progress")
  if (in.file && !quiet) 
    message(ifelse(progress, "\n\n", ""), "processing file: ", input)
  res = process_file(text, output)
  res = one_string((knit_hooks$get("document"))(res))
  if (tangle) 
    res = c(params, res)
  if (!is.null(output)) 
    write_utf8(res, output)
  if (!child_mode()) {
    dep_list$restore()
    .knitEnv$labels = NULL
  }
  if (in.file && is.character(output) && file.exists(output)) {
    concord_gen(input, output)
    if (!quiet) 
      message("output file: ", output, ifelse(progress, "\n", ""))
  }
  output %n% res
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_child
list(`package:knitr` = function (..., options = NULL, envir = knit_global()) 
{
  child = child_mode()
  opts_knit$set(child = TRUE)
  on.exit(opts_knit$set(child = child))
  if (is.list(options)) {
    options$label = options$child = NULL
    if (length(options)) {
      optc = opts_chunk$get(names(options), drop = FALSE)
      opts_chunk$set(options)
      on.exit({
        for (i in names(options)) if (identical(options[[i]], opts_chunk$get(i))) opts_chunk$set(optc[i])
      }, add = TRUE)
    }
  }
  res = knit(..., tangle = opts_knit$get("tangle"), envir = envir)
  one_string(c("", res))
}, function (..., options = NULL, envir = knit_global()) 
{
  child = child_mode()
  opts_knit$set(child = TRUE)
  on.exit(opts_knit$set(child = child))
  if (is.list(options)) {
    options$label = options$child = NULL
    if (length(options)) {
      optc = opts_chunk$get(names(options), drop = FALSE)
      opts_chunk$set(options)
      on.exit({
        for (i in names(options)) if (identical(options[[i]], opts_chunk$get(i))) opts_chunk$set(optc[i])
      }, add = TRUE)
    }
  }
  res = knit(..., tangle = opts_knit$get("tangle"), envir = envir)
  one_string(c("", res))
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_code
list(`package:knitr` = list(get = function (name, default = FALSE, drop = TRUE) 
{
  if (default) 
    defaults = value
  if (missing(name)) 
    defaults
  else {
    if (drop && length(name) == 1) 
      defaults[[name]]
    else {
      setNames(defaults[name], name)
    }
  }
}, set = function (...) 
{
  set2(resolve(...))
}, delete = function (keys) 
{
  for (k in keys) defaults[[k]] <<- NULL
}, append = function (...) 
{
  dots = resolve(...)
  for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
  set2(dots)
}, merge = function (values) 
  merge_list(defaults, values), restore = function (target = value) 
    defaults <<- target), list(get = function (name, default = FALSE, drop = TRUE) 
    {
      if (default) 
        defaults = value
      if (missing(name)) 
        defaults
      else {
        if (drop && length(name) == 1) 
          defaults[[name]]
        else {
          setNames(defaults[name], name)
        }
      }
    }, set = function (...) 
    {
      set2(resolve(...))
    }, delete = function (keys) 
    {
      for (k in keys) defaults[[k]] <<- NULL
    }, append = function (...) 
    {
      dots = resolve(...)
      for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
      set2(dots)
    }, merge = function (values) 
      merge_list(defaults, values), restore = function (target = value) 
        defaults <<- target))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_engines
list(`package:knitr` = list(get = function (name, default = FALSE, drop = TRUE) 
{
  if (default) 
    defaults = value
  if (missing(name)) 
    defaults
  else {
    if (drop && length(name) == 1) 
      defaults[[name]]
    else {
      setNames(defaults[name], name)
    }
  }
}, set = function (...) 
{
  set2(resolve(...))
}, delete = function (keys) 
{
  for (k in keys) defaults[[k]] <<- NULL
}, append = function (...) 
{
  dots = resolve(...)
  for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
  set2(dots)
}, merge = function (values) 
  merge_list(defaults, values), restore = function (target = value) 
    defaults <<- target), list(get = function (name, default = FALSE, drop = TRUE) 
    {
      if (default) 
        defaults = value
      if (missing(name)) 
        defaults
      else {
        if (drop && length(name) == 1) 
          defaults[[name]]
        else {
          setNames(defaults[name], name)
        }
      }
    }, set = function (...) 
    {
      set2(resolve(...))
    }, delete = function (keys) 
    {
      for (k in keys) defaults[[k]] <<- NULL
    }, append = function (...) 
    {
      dots = resolve(...)
      for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
      set2(dots)
    }, merge = function (values) 
      merge_list(defaults, values), restore = function (target = value) 
        defaults <<- target))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_exit
list(`package:knitr` = function (append, fully = TRUE) 
{
  if (missing(append)) 
    append = if (out_format(c("latex", "sweave", "listings"))) 
      "\\end{document}"
  else if (out_format("html")) 
    "</body>\n</html>"
  else ""
  .knitEnv$terminate = append
  .knitEnv$terminate_fully = fully
  invisible()
}, function (append, fully = TRUE) 
{
  if (missing(append)) 
    append = if (out_format(c("latex", "sweave", "listings"))) 
      "\\end{document}"
  else if (out_format("html")) 
    "</body>\n</html>"
  else ""
  .knitEnv$terminate = append
  .knitEnv$terminate_fully = fully
  invisible()
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_expand
list(`package:knitr` = function (file, ..., text = read_utf8(file), delim = c("{{", "}}")) 
{
  if (length(delim) != 2) 
    stop("\"delim\" must be of length 2")
  delim = gsub("([.|()\\^{}+$*?]|\\[|\\])", "\\\\\\1", delim)
  delim = paste0(delim[1], "((.|\n)+?)", delim[2])
  txt = one_string(text)
  loc = stringr::str_locate_all(txt, delim)[[1]]
  if (nrow(loc) == 0) 
    return(txt)
  mat = stringr::str_extract_all(txt, delim)[[1]]
  mat = sub(delim, "\\1", mat)
  env = list(...)
  env = if (length(env)) 
    list2env(env, parent = parent.frame())
  else parent.frame()
  inline_exec(list(code = mat, input = txt, location = loc), envir = env, hook = identity)
}, function (file, ..., text = read_utf8(file), delim = c("{{", "}}")) 
{
  if (length(delim) != 2) 
    stop("\"delim\" must be of length 2")
  delim = gsub("([.|()\\^{}+$*?]|\\[|\\])", "\\\\\\1", delim)
  delim = paste0(delim[1], "((.|\n)+?)", delim[2])
  txt = one_string(text)
  loc = stringr::str_locate_all(txt, delim)[[1]]
  if (nrow(loc) == 0) 
    return(txt)
  mat = stringr::str_extract_all(txt, delim)[[1]]
  mat = sub(delim, "\\1", mat)
  env = list(...)
  env = if (length(env)) 
    list2env(env, parent = parent.frame())
  else parent.frame()
  inline_exec(list(code = mat, input = txt, location = loc), envir = env, hook = identity)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_filter
list(`package:knitr` = function (ifile, encoding = "UTF-8") 
{
  x = read_utf8(ifile)
  n = length(x)
  if (n == 0) 
    return(x)
  p = detect_pattern(x, tolower(file_ext(ifile)))
  if (is.null(p)) 
    return(x)
  p = all_patterns[[p]]
  p1 = p$chunk.begin
  p2 = p$chunk.end
  m = group_indices(grepl(p1, x), grepl(p2, x))
  i = m%%2 == 0
  x[i] = ""
  x[!i] = stringr::str_replace_all(x[!i], p$inline.code, "")
  structure(x, control = "-H -t")
}, function (ifile, encoding = "UTF-8") 
{
  x = read_utf8(ifile)
  n = length(x)
  if (n == 0) 
    return(x)
  p = detect_pattern(x, tolower(file_ext(ifile)))
  if (is.null(p)) 
    return(x)
  p = all_patterns[[p]]
  p1 = p$chunk.begin
  p2 = p$chunk.end
  m = group_indices(grepl(p1, x), grepl(p2, x))
  i = m%%2 == 0
  x[i] = ""
  x[!i] = stringr::str_replace_all(x[!i], p$inline.code, "")
  structure(x, control = "-H -t")
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_global
list(`package:knitr` = function () 
{
  .knitEnv$knit_global %n% globalenv()
}, function () 
{
  .knitEnv$knit_global %n% globalenv()
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_hooks
list(`package:knitr` = list(get = function (name, default = FALSE, drop = TRUE) 
{
  if (default) 
    defaults = value
  if (missing(name)) 
    defaults
  else {
    if (drop && length(name) == 1) 
      defaults[[name]]
    else {
      setNames(defaults[name], name)
    }
  }
}, set = function (...) 
{
  set2(resolve(...))
}, delete = function (keys) 
{
  for (k in keys) defaults[[k]] <<- NULL
}, append = function (...) 
{
  dots = resolve(...)
  for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
  set2(dots)
}, merge = function (values) 
  merge_list(defaults, values), restore = function (target = value) 
    defaults <<- target), list(get = function (name, default = FALSE, drop = TRUE) 
    {
      if (default) 
        defaults = value
      if (missing(name)) 
        defaults
      else {
        if (drop && length(name) == 1) 
          defaults[[name]]
        else {
          setNames(defaults[name], name)
        }
      }
    }, set = function (...) 
    {
      set2(resolve(...))
    }, delete = function (keys) 
    {
      for (k in keys) defaults[[k]] <<- NULL
    }, append = function (...) 
    {
      dots = resolve(...)
      for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
      set2(dots)
    }, merge = function (values) 
      merge_list(defaults, values), restore = function (target = value) 
        defaults <<- target))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_meta
list(`package:knitr` = function (class = NULL, clean = TRUE) 
{
  if (is.null(class)) {
    if (clean) 
      on.exit({
        .knitEnv$meta = list()
      }, add = TRUE)
    return(.knitEnv$meta)
  }
  matches = if (length(.knitEnv$meta)) {
    vapply(.knitEnv$meta, inherits, logical(1), what = class)
  }
  if (!any(matches)) 
    return(list())
  if (clean) 
    on.exit({
      .knitEnv$meta[matches] = NULL
      id = attr(.knitEnv$meta, "knit_meta_id")
      if (length(id)) attr(.knitEnv$meta, "knit_meta_id") = id[!matches]
    }, add = TRUE)
  .knitEnv$meta[matches]
}, function (class = NULL, clean = TRUE) 
{
  if (is.null(class)) {
    if (clean) 
      on.exit({
        .knitEnv$meta = list()
      }, add = TRUE)
    return(.knitEnv$meta)
  }
  matches = if (length(.knitEnv$meta)) {
    vapply(.knitEnv$meta, inherits, logical(1), what = class)
  }
  if (!any(matches)) 
    return(list())
  if (clean) 
    on.exit({
      .knitEnv$meta[matches] = NULL
      id = attr(.knitEnv$meta, "knit_meta_id")
      if (length(id)) attr(.knitEnv$meta, "knit_meta_id") = id[!matches]
    }, add = TRUE)
  .knitEnv$meta[matches]
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_meta_add
list(`package:knitr` = function (meta, label = "") 
{
  if (length(meta)) {
    meta_id = attr(.knitEnv$meta, "knit_meta_id")
    .knitEnv$meta = c(.knitEnv$meta, meta)
    attr(.knitEnv$meta, "knit_meta_id") = c(meta_id, rep_len(label, length(meta)))
  }
  .knitEnv$meta
}, function (meta, label = "") 
{
  if (length(meta)) {
    meta_id = attr(.knitEnv$meta, "knit_meta_id")
    .knitEnv$meta = c(.knitEnv$meta, meta)
    attr(.knitEnv$meta, "knit_meta_id") = c(meta_id, rep_len(label, length(meta)))
  }
  .knitEnv$meta
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_params
list(`package:knitr` = function (text, evaluate = TRUE) 
{
  text = split_lines(text)
  yaml = yaml_front_matter(text)
  if (is.null(yaml)) 
    return(list())
  knit_params_yaml(enc2utf8(yaml), evaluate = evaluate)
}, function (text, evaluate = TRUE) 
{
  text = split_lines(text)
  yaml = yaml_front_matter(text)
  if (is.null(yaml)) 
    return(list())
  knit_params_yaml(enc2utf8(yaml), evaluate = evaluate)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_params_yaml
list(`package:knitr` = function (yaml, evaluate = TRUE) 
{
  parsed_yaml = yaml::yaml.load(yaml, handlers = knit_params_handlers(evaluate = evaluate), eval.expr = TRUE)
  if (is.list(parsed_yaml) && !is.null(parsed_yaml$params)) {
    resolve_params(parsed_yaml$params, evaluate = evaluate)
  }
  else {
    list()
  }
}, function (yaml, evaluate = TRUE) 
{
  parsed_yaml = yaml::yaml.load(yaml, handlers = knit_params_handlers(evaluate = evaluate), eval.expr = TRUE)
  if (is.list(parsed_yaml) && !is.null(parsed_yaml$params)) {
    resolve_params(parsed_yaml$params, evaluate = evaluate)
  }
  else {
    list()
  }
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_patterns
list(`package:knitr` = list(get = function (name, default = FALSE, drop = TRUE) 
{
  if (default) 
    defaults = value
  if (missing(name)) 
    defaults
  else {
    if (drop && length(name) == 1) 
      defaults[[name]]
    else {
      setNames(defaults[name], name)
    }
  }
}, set = function (...) 
{
  set2(resolve(...))
}, delete = function (keys) 
{
  for (k in keys) defaults[[k]] <<- NULL
}, append = function (...) 
{
  dots = resolve(...)
  for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
  set2(dots)
}, merge = function (values) 
  merge_list(defaults, values), restore = function (target = value) 
    defaults <<- target), list(get = function (name, default = FALSE, drop = TRUE) 
    {
      if (default) 
        defaults = value
      if (missing(name)) 
        defaults
      else {
        if (drop && length(name) == 1) 
          defaults[[name]]
        else {
          setNames(defaults[name], name)
        }
      }
    }, set = function (...) 
    {
      set2(resolve(...))
    }, delete = function (keys) 
    {
      for (k in keys) defaults[[k]] <<- NULL
    }, append = function (...) 
    {
      dots = resolve(...)
      for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
      set2(dots)
    }, merge = function (values) 
      merge_list(defaults, values), restore = function (target = value) 
        defaults <<- target))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_print
list(`package:knitr` = function (x, ...) 
{
  if (need_screenshot(x, ...)) {
    html_screenshot(x)
  }
  else {
    UseMethod("knit_print")
  }
}, function (x, ...) 
{
  if (need_screenshot(x, ...)) {
    html_screenshot(x)
  }
  else {
    UseMethod("knit_print")
  }
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_rd
list(`package:knitr` = function (pkg, links = tools::findHTMLlinks(), frame = TRUE) 
{
  library(pkg, character.only = TRUE)
  optc = opts_chunk$get()
  on.exit(opts_chunk$set(optc))
  file.copy(system.file("misc", "R.css", package = "knitr"), "./")
  pkgRdDB = getFromNamespace("fetchRdDB", "tools")(file.path(find.package(pkg), "help", pkg))
  force(links)
  topics = names(pkgRdDB)
  for (p in topics) {
    message("** knitting documentation of ", p)
    tools::Rd2HTML(pkgRdDB[[p]], f <- tempfile(), package = pkg, Links = links, no_links = is.null(links), stages = "render")
    txt = read_utf8(f)
    unlink(f)
    if (length(i <- grep("<h3>Examples</h3>", txt)) == 1 && length(grep("</pre>", txt[i:length(txt)]))) {
      i0 = grep("<pre>", txt)
      i0 = i0[i0 > i][1] - 1
      i1 = grep("</pre>", txt)
      i1 = i1[i1 > i0][1] + 1
      tools::Rd2ex(pkgRdDB[[p]], ef <- tempfile())
      ex = read_utf8(ef)
      unlink(ef)
      ex = ex[-(1:grep("### ** Examples", ex, fixed = TRUE))]
      ex = c("```{r}", ex, "```")
      opts_chunk$set(fig.path = paste0("figure/", p, "-"), tidy = FALSE)
      res = try(knit2html(text = ex, envir = parent.frame(2), fragment.only = TRUE, quiet = TRUE))
      if (inherits(res, "try-error")) {
        res = ex
        res[1] = "<pre><code class=\"r\">"
        res[length(res)] = "</code></pre>"
      }
      txt = c(txt[1:i0], res, txt[i1:length(txt)])
      txt = sub("</head>", "\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/github.min.css\">\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/languages/r.min.js\"></script>\n<script>hljs.initHighlightingOnLoad();</script>\n</head>", txt)
    }
    else message("no examples found for ", p)
    write_utf8(txt, paste0(p, ".html"))
  }
  unlink("figure/", recursive = TRUE)
  toc = sprintf("- <a href=\"%s\" target=\"content\">%s</a>", paste0(topics, ".html"), topics)
  toc = c(paste0("# ", pkg), "", toc, "", paste("Generated with [knitr](https://yihui.org/knitr) ", packageVersion("knitr")))
  markdown::markdownToHTML(text = one_string(toc), output = "00frame_toc.html", title = paste("R Documentation of", pkg), options = NULL, extensions = NULL, stylesheet = "R.css")
  txt = read_utf8(file.path(find.package(pkg), "html", "00Index.html"))
  unlink("00Index.html")
  write_utf8(gsub("../../../doc/html/", "http://stat.ethz.ch/R-manual/R-devel/doc/html/", txt, fixed = TRUE), "00Index.html")
  if (!frame) {
    unlink(c("00frame_toc.html", "index.html"))
    (if (is_windows()) 
      file.copy
      else file.symlink)("00Index.html", "index.html")
    return(invisible())
  }
  write_utf8(sprintf("<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Frameset//EN\" \"http://www.w3.org/TR/html4/frameset.dtd\">\n<html>\n<head><title>Documentation of the %s package</title></head>\n<frameset cols=\"15%%,*\">\n  <frame src=\"00frame_toc.html\">\n  <frame src=\"00Index.html\" name=\"content\">\n</frameset>\n</html>\n", pkg), "index.html")
}, function (pkg, links = tools::findHTMLlinks(), frame = TRUE) 
{
  library(pkg, character.only = TRUE)
  optc = opts_chunk$get()
  on.exit(opts_chunk$set(optc))
  file.copy(system.file("misc", "R.css", package = "knitr"), "./")
  pkgRdDB = getFromNamespace("fetchRdDB", "tools")(file.path(find.package(pkg), "help", pkg))
  force(links)
  topics = names(pkgRdDB)
  for (p in topics) {
    message("** knitting documentation of ", p)
    tools::Rd2HTML(pkgRdDB[[p]], f <- tempfile(), package = pkg, Links = links, no_links = is.null(links), stages = "render")
    txt = read_utf8(f)
    unlink(f)
    if (length(i <- grep("<h3>Examples</h3>", txt)) == 1 && length(grep("</pre>", txt[i:length(txt)]))) {
      i0 = grep("<pre>", txt)
      i0 = i0[i0 > i][1] - 1
      i1 = grep("</pre>", txt)
      i1 = i1[i1 > i0][1] + 1
      tools::Rd2ex(pkgRdDB[[p]], ef <- tempfile())
      ex = read_utf8(ef)
      unlink(ef)
      ex = ex[-(1:grep("### ** Examples", ex, fixed = TRUE))]
      ex = c("```{r}", ex, "```")
      opts_chunk$set(fig.path = paste0("figure/", p, "-"), tidy = FALSE)
      res = try(knit2html(text = ex, envir = parent.frame(2), fragment.only = TRUE, quiet = TRUE))
      if (inherits(res, "try-error")) {
        res = ex
        res[1] = "<pre><code class=\"r\">"
        res[length(res)] = "</code></pre>"
      }
      txt = c(txt[1:i0], res, txt[i1:length(txt)])
      txt = sub("</head>", "\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/github.min.css\">\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/languages/r.min.js\"></script>\n<script>hljs.initHighlightingOnLoad();</script>\n</head>", txt)
    }
    else message("no examples found for ", p)
    write_utf8(txt, paste0(p, ".html"))
  }
  unlink("figure/", recursive = TRUE)
  toc = sprintf("- <a href=\"%s\" target=\"content\">%s</a>", paste0(topics, ".html"), topics)
  toc = c(paste0("# ", pkg), "", toc, "", paste("Generated with [knitr](https://yihui.org/knitr) ", packageVersion("knitr")))
  markdown::markdownToHTML(text = one_string(toc), output = "00frame_toc.html", title = paste("R Documentation of", pkg), options = NULL, extensions = NULL, stylesheet = "R.css")
  txt = read_utf8(file.path(find.package(pkg), "html", "00Index.html"))
  unlink("00Index.html")
  write_utf8(gsub("../../../doc/html/", "http://stat.ethz.ch/R-manual/R-devel/doc/html/", txt, fixed = TRUE), "00Index.html")
  if (!frame) {
    unlink(c("00frame_toc.html", "index.html"))
    (if (is_windows()) 
      file.copy
      else file.symlink)("00Index.html", "index.html")
    return(invisible())
  }
  write_utf8(sprintf("<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Frameset//EN\" \"http://www.w3.org/TR/html4/frameset.dtd\">\n<html>\n<head><title>Documentation of the %s package</title></head>\n<frameset cols=\"15%%,*\">\n  <frame src=\"00frame_toc.html\">\n  <frame src=\"00Index.html\" name=\"content\">\n</frameset>\n</html>\n", pkg), "index.html")
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_rd_all
list(`package:knitr` = function () 
{
  owd = getwd()
  on.exit(setwd(owd))
  links = tools::findHTMLlinks()
  for (p in .packages(TRUE)) {
    message("* Making static html help pages for ", p)
    setwd(system.file("html", package = p))
    knit_rd(p, links, frame = FALSE)
  }
}, function () 
{
  owd = getwd()
  on.exit(setwd(owd))
  links = tools::findHTMLlinks()
  for (p in .packages(TRUE)) {
    message("* Making static html help pages for ", p)
    setwd(system.file("html", package = p))
    knit_rd(p, links, frame = FALSE)
  }
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_theme
list(`package:knitr` = list(set = function (theme) 
{
  header = if (is.list(theme)) 
    theme
  else theme_to_header(theme)
  opts_chunk$set(background = header$background)
  set_header(highlight = header$highlight)
}, get = function (theme = NULL) 
{
  if (is.null(theme)) {
    theme_dir = system.file("themes", package = "knitr")
    theme_files = list.files(theme_dir, pattern = "\\.css$")
    gsub("\\.css$", "", basename(theme_files))
  }
  else {
    theme_to_header(theme)
  }
}), list(set = function (theme) 
{
  header = if (is.list(theme)) 
    theme
  else theme_to_header(theme)
  opts_chunk$set(background = header$background)
  set_header(highlight = header$highlight)
}, get = function (theme = NULL) 
{
  if (is.null(theme)) {
    theme_dir = system.file("themes", package = "knitr")
    theme_files = list.files(theme_dir, pattern = "\\.css$")
    gsub("\\.css$", "", basename(theme_files))
  }
  else {
    theme_to_header(theme)
  }
}))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit_watch
list(`package:knitr` = function (input, compile = knit, interval = 1, ...) 
{
  mtime = function(...) file.info(...)[, "mtime"]
  last_time = mtime(input)
  updated = function() {
    this_time = mtime(input)
    on.exit(last_time <<- this_time, add = TRUE)
    this_time > last_time
  }
  for (f in input) compile(f, ...)
  while (TRUE) {
    for (f in input[updated()]) compile(f, ...)
    Sys.sleep(interval)
  }
}, function (input, compile = knit, interval = 1, ...) 
{
  mtime = function(...) file.info(...)[, "mtime"]
  last_time = mtime(input)
  updated = function() {
    this_time = mtime(input)
    on.exit(last_time <<- this_time, add = TRUE)
    this_time > last_time
  }
  for (f in input) compile(f, ...)
  while (TRUE) {
    for (f in input[updated()]) compile(f, ...)
    Sys.sleep(interval)
  }
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit2html
list(`package:knitr` = function (input, output = NULL, ..., envir = parent.frame(), text = NULL, quiet = FALSE, encoding = "UTF-8", force_v1 = getOption("knitr.knit2html.force_v1", FALSE)) 
{
  if (is_cran_check() && !has_package("markdown")) 
    return(vweave_empty(input, .reason = "markdown"))
  if (!force_v1 && is.null(text)) {
    if (length(grep("^---\\s*$", head(read_utf8(input), 1)))) 
      warning2("It seems you should call rmarkdown::render() instead of knitr::knit2html() ", "because ", input, " appears to be an R Markdown v2 document.")
  }
  out = knit(input, text = text, envir = envir, quiet = quiet)
  if (is.null(text)) {
    output = with_ext(if (is.null(output) || is.na(output)) 
      out
      else output, "html")
    markdown::markdownToHTML(out, output, encoding = "UTF-8", ...)
    invisible(output)
  }
  else markdown::markdownToHTML(text = out, ...)
}, function (input, output = NULL, ..., envir = parent.frame(), text = NULL, quiet = FALSE, encoding = "UTF-8", force_v1 = getOption("knitr.knit2html.force_v1", FALSE)) 
{
  if (is_cran_check() && !has_package("markdown")) 
    return(vweave_empty(input, .reason = "markdown"))
  if (!force_v1 && is.null(text)) {
    if (length(grep("^---\\s*$", head(read_utf8(input), 1)))) 
      warning2("It seems you should call rmarkdown::render() instead of knitr::knit2html() ", "because ", input, " appears to be an R Markdown v2 document.")
  }
  out = knit(input, text = text, envir = envir, quiet = quiet)
  if (is.null(text)) {
    output = with_ext(if (is.null(output) || is.na(output)) 
      out
      else output, "html")
    markdown::markdownToHTML(out, output, encoding = "UTF-8", ...)
    invisible(output)
  }
  else markdown::markdownToHTML(text = out, ...)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit2pandoc
list(`package:knitr` = function (input, output = NULL, tangle = FALSE, text = NULL, quiet = FALSE, envir = parent.frame(), to = "html", pandoc_wrapper = NULL, ..., encoding = "UTF-8") 
{
  knit_output = knit(input, output, tangle, text, quiet, envir)
  if (!is.null(pandoc_wrapper)) 
    return(pandoc_wrapper(knit_output, to, ...))
  if (!has_package("rmarkdown")) 
    return(pandoc(knit_output, to, ...))
  output = gsub(paste0(file_ext(knit_output), "$"), to, knit_output)
  rmarkdown::pandoc_convert(knit_output, to, output = output, ...)
}, function (input, output = NULL, tangle = FALSE, text = NULL, quiet = FALSE, envir = parent.frame(), to = "html", pandoc_wrapper = NULL, ..., encoding = "UTF-8") 
{
  knit_output = knit(input, output, tangle, text, quiet, envir)
  if (!is.null(pandoc_wrapper)) 
    return(pandoc_wrapper(knit_output, to, ...))
  if (!has_package("rmarkdown")) 
    return(pandoc(knit_output, to, ...))
  output = gsub(paste0(file_ext(knit_output), "$"), to, knit_output)
  rmarkdown::pandoc_convert(knit_output, to, output = output, ...)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit2pdf
list(`package:knitr` = function (input, output = NULL, compiler = NULL, envir = parent.frame(), quiet = FALSE, ...) 
{
  out = knit(input, output = output, envir = envir, quiet = quiet)
  owd = setwd(dirname(out))
  on.exit(setwd(owd))
  if (is.null(compiler)) {
    compiler = if (grepl("\\.rst$", out)) 
      "rst2pdf"
    else "pdflatex"
  }
  if (identical(compiler, "rst2pdf")) {
    if (tolower(file_ext(out)) != "rst") 
      stop("for rst2pdf compiler input must be a .rst file")
    rst2pdf(basename(out), ...)
  }
  else {
    tinytex::latexmk(basename(out), engine = compiler, ...)
  }
  with_ext(out, "pdf")
}, function (input, output = NULL, compiler = NULL, envir = parent.frame(), quiet = FALSE, ...) 
{
  out = knit(input, output = output, envir = envir, quiet = quiet)
  owd = setwd(dirname(out))
  on.exit(setwd(owd))
  if (is.null(compiler)) {
    compiler = if (grepl("\\.rst$", out)) 
      "rst2pdf"
    else "pdflatex"
  }
  if (identical(compiler, "rst2pdf")) {
    if (tolower(file_ext(out)) != "rst") 
      stop("for rst2pdf compiler input must be a .rst file")
    rst2pdf(basename(out), ...)
  }
  else {
    tinytex::latexmk(basename(out), engine = compiler, ...)
  }
  with_ext(out, "pdf")
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
knit2wp
list(`package:knitr` = function (input, title = "A post from knitr", ..., envir = parent.frame(), shortcode = FALSE, action = c("newPost", "editPost", "newPage"), postid, publish = TRUE) 
{
  do.call("library", list(package = "RWordPress", character.only = TRUE))
  xfun::do_once(warning2("This function is based on the RWordPress package, which is no longer actively ", "maintained (https://github.com/yihui/knitr/issues/1866). For blogging with R, ", "you may try the blogdown package instead."), "knitr.knit2wp.warning")
  out = knit(input, envir = envir)
  on.exit(unlink(out))
  content = file_string(out)
  content = markdown::markdownToHTML(text = content, fragment.only = TRUE)
  shortcode = rep(shortcode, length.out = 2)
  if (shortcode[1]) 
    content = gsub("<pre><code class=\"([[:alpha:]]+)\">(.+?)</code></pre>", "[sourcecode language=\"\\1\"]\\2[/sourcecode]", content)
  content = gsub("<pre><code( class=\"no-highlight\"|)>(.+?)</code></pre>", if (shortcode[2]) 
    "[sourcecode]\\2[/sourcecode]"
    else "<pre>\\2</pre>", content)
  content = enc2utf8(content)
  title = enc2utf8(title)
  action = match.arg(action)
  WPargs = list(content = list(description = content, title = title, ...), publish = publish)
  if (action == "editPost") 
    WPargs = c(postid = postid, WPargs)
  do.call(action, args = WPargs)
}, function (input, title = "A post from knitr", ..., envir = parent.frame(), shortcode = FALSE, action = c("newPost", "editPost", "newPage"), postid, publish = TRUE) 
{
  do.call("library", list(package = "RWordPress", character.only = TRUE))
  xfun::do_once(warning2("This function is based on the RWordPress package, which is no longer actively ", "maintained (https://github.com/yihui/knitr/issues/1866). For blogging with R, ", "you may try the blogdown package instead."), "knitr.knit2wp.warning")
  out = knit(input, envir = envir)
  on.exit(unlink(out))
  content = file_string(out)
  content = markdown::markdownToHTML(text = content, fragment.only = TRUE)
  shortcode = rep(shortcode, length.out = 2)
  if (shortcode[1]) 
    content = gsub("<pre><code class=\"([[:alpha:]]+)\">(.+?)</code></pre>", "[sourcecode language=\"\\1\"]\\2[/sourcecode]", content)
  content = gsub("<pre><code( class=\"no-highlight\"|)>(.+?)</code></pre>", if (shortcode[2]) 
    "[sourcecode]\\2[/sourcecode]"
    else "<pre>\\2</pre>", content)
  content = enc2utf8(content)
  title = enc2utf8(title)
  action = match.arg(action)
  WPargs = list(content = list(description = content, title = title, ...), publish = publish)
  if (action == "editPost") 
    WPargs = c(postid = postid, WPargs)
  do.call(action, args = WPargs)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
load_cache
list(`package:knitr` = function (label, object, notfound = "NOT AVAILABLE", path = opts_chunk$get("cache.path"), dir = opts_knit$get("output.dir"), envir = NULL, lazy = TRUE) 
{
  if (is.null(dir)) 
    dir = "."
  owd = setwd(dir)
  on.exit(setwd(owd), add = TRUE)
  if (!is.null(envir)) {
    oldenv = .knitEnv$knit_global
    on.exit(.knitEnv$knit_global <- oldenv, add = TRUE)
    .knitEnv$knit_global = envir
  }
  path = valid_path(path, label)
  p0 = dirname(path)
  p1 = basename(path)
  p2 = list.files(p0, cache_rx)
  if (length(p2) == 0) 
    return(notfound)
  p2 = p2[substr(p2, 1, nchar(p1)) == p1]
  if (length(p2) == 0) 
    return(notfound)
  if (length(p2) > 3) 
    stop("Wrong cache databases for the chunk ", label, ". You need to remove redundant cache files. Found ", paste(p2, collapse = ", "))
  p2 = unique(gsub("[.](rdb|rdx|RData)$", "", p2))
  if (length(p2) != 1) 
    stop("Cannot identify the cache database for chunk ", label)
  cache$load(file.path(p0, p2), lazy)
  if (missing(object)) 
    return(invisible(NULL))
  if (exists(object, envir = knit_global(), inherits = FALSE)) {
    get(object, envir = knit_global(), inherits = FALSE)
  }
  else notfound
}, function (label, object, notfound = "NOT AVAILABLE", path = opts_chunk$get("cache.path"), dir = opts_knit$get("output.dir"), envir = NULL, lazy = TRUE) 
{
  if (is.null(dir)) 
    dir = "."
  owd = setwd(dir)
  on.exit(setwd(owd), add = TRUE)
  if (!is.null(envir)) {
    oldenv = .knitEnv$knit_global
    on.exit(.knitEnv$knit_global <- oldenv, add = TRUE)
    .knitEnv$knit_global = envir
  }
  path = valid_path(path, label)
  p0 = dirname(path)
  p1 = basename(path)
  p2 = list.files(p0, cache_rx)
  if (length(p2) == 0) 
    return(notfound)
  p2 = p2[substr(p2, 1, nchar(p1)) == p1]
  if (length(p2) == 0) 
    return(notfound)
  if (length(p2) > 3) 
    stop("Wrong cache databases for the chunk ", label, ". You need to remove redundant cache files. Found ", paste(p2, collapse = ", "))
  p2 = unique(gsub("[.](rdb|rdx|RData)$", "", p2))
  if (length(p2) != 1) 
    stop("Cannot identify the cache database for chunk ", label)
  cache$load(file.path(p0, p2), lazy)
  if (missing(object)) 
    return(invisible(NULL))
  if (exists(object, envir = knit_global(), inherits = FALSE)) {
    get(object, envir = knit_global(), inherits = FALSE)
  }
  else notfound
}, function (cache_path) 
{
  if (!file.exists(cache_path) || file_size(cache_path) == 0) {
    list()
  }
  else {
    readRDS(cache_path)
  }
})
c("package:knitr", "namespace:knitr", "namespace:httr")
c(TRUE, FALSE, FALSE)
c(FALSE, TRUE, FALSE)
normal_print
list(`package:knitr` = function (x, ...) 
  if (isS4(x)) methods::show(x) else print(x), function (x, ...) 
    if (isS4(x)) methods::show(x) else print(x))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
opts_chunk
list(`package:knitr` = list(get = function (name, default = FALSE, drop = TRUE) 
{
  if (default) 
    defaults = value
  if (missing(name)) 
    defaults
  else {
    if (drop && length(name) == 1) 
      defaults[[name]]
    else {
      setNames(defaults[name], name)
    }
  }
}, set = function (...) 
{
  set2(resolve(...))
}, delete = function (keys) 
{
  for (k in keys) defaults[[k]] <<- NULL
}, append = function (...) 
{
  dots = resolve(...)
  for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
  set2(dots)
}, merge = function (values) 
  merge_list(defaults, values), restore = function (target = value) 
    defaults <<- target), list(get = function (name, default = FALSE, drop = TRUE) 
    {
      if (default) 
        defaults = value
      if (missing(name)) 
        defaults
      else {
        if (drop && length(name) == 1) 
          defaults[[name]]
        else {
          setNames(defaults[name], name)
        }
      }
    }, set = function (...) 
    {
      set2(resolve(...))
    }, delete = function (keys) 
    {
      for (k in keys) defaults[[k]] <<- NULL
    }, append = function (...) 
    {
      dots = resolve(...)
      for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
      set2(dots)
    }, merge = function (values) 
      merge_list(defaults, values), restore = function (target = value) 
        defaults <<- target))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
opts_current
list(`package:knitr` = list(get = function (name, default = FALSE, drop = TRUE) 
{
  if (default) 
    defaults = value
  if (missing(name)) 
    defaults
  else {
    if (drop && length(name) == 1) 
      defaults[[name]]
    else {
      setNames(defaults[name], name)
    }
  }
}, set = function (...) 
{
  set2(resolve(...))
}, delete = function (keys) 
{
  for (k in keys) defaults[[k]] <<- NULL
}, append = function (...) 
{
  dots = resolve(...)
  for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
  set2(dots)
}, merge = function (values) 
  merge_list(defaults, values), restore = function (target = value) 
    defaults <<- target), list(get = function (name, default = FALSE, drop = TRUE) 
    {
      if (default) 
        defaults = value
      if (missing(name)) 
        defaults
      else {
        if (drop && length(name) == 1) 
          defaults[[name]]
        else {
          setNames(defaults[name], name)
        }
      }
    }, set = function (...) 
    {
      set2(resolve(...))
    }, delete = function (keys) 
    {
      for (k in keys) defaults[[k]] <<- NULL
    }, append = function (...) 
    {
      dots = resolve(...)
      for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
      set2(dots)
    }, merge = function (values) 
      merge_list(defaults, values), restore = function (target = value) 
        defaults <<- target))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
opts_hooks
list(`package:knitr` = list(get = function (name, default = FALSE, drop = TRUE) 
{
  if (default) 
    defaults = value
  if (missing(name)) 
    defaults
  else {
    if (drop && length(name) == 1) 
      defaults[[name]]
    else {
      setNames(defaults[name], name)
    }
  }
}, set = function (...) 
{
  set2(resolve(...))
}, delete = function (keys) 
{
  for (k in keys) defaults[[k]] <<- NULL
}, append = function (...) 
{
  dots = resolve(...)
  for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
  set2(dots)
}, merge = function (values) 
  merge_list(defaults, values), restore = function (target = value) 
    defaults <<- target), list(get = function (name, default = FALSE, drop = TRUE) 
    {
      if (default) 
        defaults = value
      if (missing(name)) 
        defaults
      else {
        if (drop && length(name) == 1) 
          defaults[[name]]
        else {
          setNames(defaults[name], name)
        }
      }
    }, set = function (...) 
    {
      set2(resolve(...))
    }, delete = function (keys) 
    {
      for (k in keys) defaults[[k]] <<- NULL
    }, append = function (...) 
    {
      dots = resolve(...)
      for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
      set2(dots)
    }, merge = function (values) 
      merge_list(defaults, values), restore = function (target = value) 
        defaults <<- target))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
opts_knit
list(`package:knitr` = list(get = function (name, default = FALSE, drop = TRUE) 
{
  if (default) 
    defaults = value
  if (missing(name)) 
    defaults
  else {
    if (drop && length(name) == 1) 
      defaults[[name]]
    else {
      setNames(defaults[name], name)
    }
  }
}, set = function (...) 
{
  set2(resolve(...))
}, delete = function (keys) 
{
  for (k in keys) defaults[[k]] <<- NULL
}, append = function (...) 
{
  dots = resolve(...)
  for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
  set2(dots)
}, merge = function (values) 
  merge_list(defaults, values), restore = function (target = value) 
    defaults <<- target), list(get = function (name, default = FALSE, drop = TRUE) 
    {
      if (default) 
        defaults = value
      if (missing(name)) 
        defaults
      else {
        if (drop && length(name) == 1) 
          defaults[[name]]
        else {
          setNames(defaults[name], name)
        }
      }
    }, set = function (...) 
    {
      set2(resolve(...))
    }, delete = function (keys) 
    {
      for (k in keys) defaults[[k]] <<- NULL
    }, append = function (...) 
    {
      dots = resolve(...)
      for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
      set2(dots)
    }, merge = function (values) 
      merge_list(defaults, values), restore = function (target = value) 
        defaults <<- target))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
opts_template
list(`package:knitr` = list(get = function (name, default = FALSE, drop = TRUE) 
{
  if (default) 
    defaults = value
  if (missing(name)) 
    defaults
  else {
    if (drop && length(name) == 1) 
      defaults[[name]]
    else {
      setNames(defaults[name], name)
    }
  }
}, set = function (...) 
{
  set2(resolve(...))
}, delete = function (keys) 
{
  for (k in keys) defaults[[k]] <<- NULL
}, append = function (...) 
{
  dots = resolve(...)
  for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
  set2(dots)
}, merge = function (values) 
  merge_list(defaults, values), restore = function (target = value) 
    defaults <<- target), list(get = function (name, default = FALSE, drop = TRUE) 
    {
      if (default) 
        defaults = value
      if (missing(name)) 
        defaults
      else {
        if (drop && length(name) == 1) 
          defaults[[name]]
        else {
          setNames(defaults[name], name)
        }
      }
    }, set = function (...) 
    {
      set2(resolve(...))
    }, delete = function (keys) 
    {
      for (k in keys) defaults[[k]] <<- NULL
    }, append = function (...) 
    {
      dots = resolve(...)
      for (i in names(dots)) dots[[i]] <- c(defaults[[i]], dots[[i]])
      set2(dots)
    }, merge = function (values) 
      merge_list(defaults, values), restore = function (target = value) 
        defaults <<- target))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
pandoc
list(`package:knitr` = function (input, format, config = getOption("config.pandoc"), ext = NA) 
{
  exec = tryCatch(rmarkdown::pandoc_exec(), error = function(e) Sys.which("pandoc"))
  if (length(exec) != 1 || exec == "") 
    stop("Please install either RStudio or Pandoc (https://pandoc.org)")
  cfg = if (is.null(config)) 
    with_ext(input[1], "pandoc")
  else config
  txt = pandoc_cfg(read_utf8(input[1]))
  if (file.exists(cfg)) 
    txt = c(txt, "", read_utf8(cfg))
  con = textConnection(txt, encoding = "UTF-8")
  on.exit(close(con), add = TRUE)
  cfg = read.dcf(con)
  nms = colnames(cfg)
  if (length(nms) && "format" %in% nms) {
    warning("the \"format\" field in the configuration must be renamed to \"t\"")
    colnames(cfg)[nms == "format"] = "t"
  }
  if (missing(format)) 
    format = pandoc_fmt(cfg)
  mapply(pandoc_one, input, format, ext, exec, MoreArgs = list(cfg = cfg), USE.NAMES = FALSE)
}, function () 
{
  find_pandoc()
  file.path(.pandoc$dir, "pandoc")
}, function (input, format, config = getOption("config.pandoc"), ext = NA) 
{
  exec = tryCatch(rmarkdown::pandoc_exec(), error = function(e) Sys.which("pandoc"))
  if (length(exec) != 1 || exec == "") 
    stop("Please install either RStudio or Pandoc (https://pandoc.org)")
  cfg = if (is.null(config)) 
    with_ext(input[1], "pandoc")
  else config
  txt = pandoc_cfg(read_utf8(input[1]))
  if (file.exists(cfg)) 
    txt = c(txt, "", read_utf8(cfg))
  con = textConnection(txt, encoding = "UTF-8")
  on.exit(close(con), add = TRUE)
  cfg = read.dcf(con)
  nms = colnames(cfg)
  if (length(nms) && "format" %in% nms) {
    warning("the \"format\" field in the configuration must be renamed to \"t\"")
    colnames(cfg)[nms == "format"] = "t"
  }
  if (missing(format)) 
    format = pandoc_fmt(cfg)
  mapply(pandoc_one, input, format, ext, exec, MoreArgs = list(cfg = cfg), USE.NAMES = FALSE)
}, function () 
{
  find_pandoc()
  file.path(.pandoc$dir, "pandoc")
})
c("package:knitr", "namespace:htmlwidgets", "namespace:knitr", "namespace:rmarkdown")
c(TRUE, FALSE, FALSE, FALSE)
c(FALSE, FALSE, TRUE, TRUE)
pandoc_from
list(`package:knitr` = function () 
{
  opts_knit$get("rmarkdown.pandoc.from") %n% "markdown"
}, function () 
{
  opts_knit$get("rmarkdown.pandoc.from") %n% "markdown"
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
pandoc_to
list(`package:knitr` = function (fmt) 
{
  to = opts_knit$get("rmarkdown.pandoc.to")
  if (missing(fmt)) 
    to
  else !is.null(to) && (to %in% fmt)
}, function (fmt) 
{
  to = opts_knit$get("rmarkdown.pandoc.to")
  if (missing(fmt)) 
    to
  else !is.null(to) && (to %in% fmt)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
partition_chunk
list(`package:knitr` = function (engine, code) 
{
  res = list(yaml = NULL, src = NULL, code = code)
  if (length(code) == 0) 
    return(res)
  char = comment_chars[[engine]] %n% "#"
  s1 = paste0(char[[1]], "| ")
  s2 = ifelse(length(char) > 1, char[[2]], "")
  i1 = startsWith(code, s1)
  i2 = endsWith(trimws(code, "right"), s2)
  if (!i1[1] && !identical(char, "#")) {
    s1 = "#| "
    s2 = ""
    i1 = startsWith(code, s1)
    i2 = TRUE
  }
  m = i1 & i2
  if (!m[[1]]) 
    return(res)
  if (all(m)) {
    src = code
    code = NULL
  }
  else {
    src = head(code, which.min(m) - 1)
    code = tail(code, -length(src))
  }
  if (any(i2)) 
    src = trimws(src, "right")
  meta = substr(src, nchar(s1) + 1, nchar(src) - nchar(s2))
  if (grepl("^[^ :]+:($|\\s)", meta[1])) {
    meta = yaml::yaml.load(meta, handlers = list(expr = parse_only))
    if (!is.list(meta) || length(names(meta)) == 0) {
      warning("Invalid YAML option format in chunk: \n", one_string(meta), "\n")
      meta = list()
    }
  }
  else {
    meta = parse_params(paste(meta, collapse = ""), label = FALSE)
  }
  meta$label = unlist(meta[c("label", "id")])[1]
  meta$id = NULL
  names(meta) = sub("^(fig|out)-", "\\1.", names(meta))
  if (length(code) > 0 && is_blank(code[[1]])) {
    code = code[-1]
    src = c(src, "")
  }
  list(options = meta, src = src, code = code)
}, function (engine, code) 
{
  res = list(yaml = NULL, src = NULL, code = code)
  if (length(code) == 0) 
    return(res)
  char = comment_chars[[engine]] %n% "#"
  s1 = paste0(char[[1]], "| ")
  s2 = ifelse(length(char) > 1, char[[2]], "")
  i1 = startsWith(code, s1)
  i2 = endsWith(trimws(code, "right"), s2)
  if (!i1[1] && !identical(char, "#")) {
    s1 = "#| "
    s2 = ""
    i1 = startsWith(code, s1)
    i2 = TRUE
  }
  m = i1 & i2
  if (!m[[1]]) 
    return(res)
  if (all(m)) {
    src = code
    code = NULL
  }
  else {
    src = head(code, which.min(m) - 1)
    code = tail(code, -length(src))
  }
  if (any(i2)) 
    src = trimws(src, "right")
  meta = substr(src, nchar(s1) + 1, nchar(src) - nchar(s2))
  if (grepl("^[^ :]+:($|\\s)", meta[1])) {
    meta = yaml::yaml.load(meta, handlers = list(expr = parse_only))
    if (!is.list(meta) || length(names(meta)) == 0) {
      warning("Invalid YAML option format in chunk: \n", one_string(meta), "\n")
      meta = list()
    }
  }
  else {
    meta = parse_params(paste(meta, collapse = ""), label = FALSE)
  }
  meta$label = unlist(meta[c("label", "id")])[1]
  meta$id = NULL
  names(meta) = sub("^(fig|out)-", "\\1.", names(meta))
  if (length(code) > 0 && is_blank(code[[1]])) {
    code = code[-1]
    src = c(src, "")
  }
  list(options = meta, src = src, code = code)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
pat_asciidoc
list(`package:knitr` = function () 
  set_pattern("asciidoc"), function () 
    set_pattern("asciidoc"))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
pat_brew
list(`package:knitr` = function () 
  set_pattern("brew"), function () 
    set_pattern("brew"))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
pat_html
list(`package:knitr` = function () 
  set_pattern("html"), function () 
    set_pattern("html"))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
pat_md
list(`package:knitr` = function () 
  set_pattern("md"), function () 
    set_pattern("md"))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
pat_rnw
list(`package:knitr` = function () 
  set_pattern("rnw"), function () 
    set_pattern("rnw"))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
pat_rst
list(`package:knitr` = function () 
  set_pattern("rst"), function () 
    set_pattern("rst"))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
pat_tex
list(`package:knitr` = function () 
  set_pattern("tex"), function () 
    set_pattern("tex"))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
pat_textile
list(`package:knitr` = function () 
  set_pattern("textile"), function () 
    set_pattern("textile"))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
plot_crop
list(`package:knitr` = function (x, quiet = TRUE) 
{
  is_pdf = grepl("[.]pdf$", x, ignore.case = TRUE)
  x2 = x
  x = path.expand(x)
  if (is_pdf && !has_utility("pdfcrop") && !has_utility("ghostscript")) 
    return(x2)
  if (!quiet) 
    message("cropping ", x)
  if (is_pdf) {
    system2("pdfcrop", shQuote(c(x, x)), stdout = if (quiet) 
      FALSE
      else "")
  }
  else if (loadable("magick")) {
    img = magick::image_read(x)
    magick::image_write(magick::image_trim(img), x)
  }
  else message("The magick package is required to crop \"", x2, "\" but not available.")
  x2
}, function (x, quiet = TRUE) 
{
  is_pdf = grepl("[.]pdf$", x, ignore.case = TRUE)
  x2 = x
  x = path.expand(x)
  if (is_pdf && !has_utility("pdfcrop") && !has_utility("ghostscript")) 
    return(x2)
  if (!quiet) 
    message("cropping ", x)
  if (is_pdf) {
    system2("pdfcrop", shQuote(c(x, x)), stdout = if (quiet) 
      FALSE
      else "")
  }
  else if (loadable("magick")) {
    img = magick::image_read(x)
    magick::image_write(magick::image_trim(img), x)
  }
  else message("The magick package is required to crop \"", x2, "\" but not available.")
  x2
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
purl
list(`package:knitr` = function (..., documentation = 1) 
{
  doc = opts_knit$get("documentation")
  on.exit(opts_knit$set(documentation = doc))
  opts_knit$set(documentation = documentation)
  knit(..., tangle = TRUE)
}, function (..., documentation = 1) 
{
  doc = opts_knit$get("documentation")
  on.exit(opts_knit$set(documentation = doc))
  opts_knit$set(documentation = documentation)
  knit(..., tangle = TRUE)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
rand_seed
list(`package:knitr` = {
  .GlobalEnv$.Random.seed
}, {
  .GlobalEnv$.Random.seed
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
raw_block
list(`package:knitr` = function (x, type = "latex", ...) 
{
  if (!rmarkdown::pandoc_available("2.0.0")) 
    warning("raw_block() requires Pandoc >= 2.0.0")
  x = c(sprintf("\n```{=%s}", type), x, "```\n")
  asis_output(one_string(x), ...)
}, function (x, type = "latex", ...) 
{
  if (!rmarkdown::pandoc_available("2.0.0")) 
    warning("raw_block() requires Pandoc >= 2.0.0")
  x = c(sprintf("\n```{=%s}", type), x, "```\n")
  asis_output(one_string(x), ...)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
raw_html
list(`package:knitr` = function (x, ...) 
  raw_block(x, "html", ...), function (x, ...) 
    raw_block(x, "html", ...))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
raw_latex
list(`package:knitr` = function (x, ...) 
  raw_block(x, "latex", ...), function (x, ...) 
    raw_block(x, "latex", ...))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
raw_output
list(`package:knitr` = function (x, markers = raw_markers, ...) 
{
  asis_output(paste(c(markers[1], x, markers[2]), collapse = ""), ...)
}, function (x, markers = raw_markers, ...) 
{
  asis_output(paste(c(markers[1], x, markers[2]), collapse = ""), ...)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
read_chunk
list(`package:knitr` = function (path, lines = read_utf8(path), labels = NULL, from = NULL, to = NULL, from.offset = 0, to.offset = 0, roxygen_comments = TRUE) 
{
  if (!length(lines)) {
    warning("code is empty")
    return(invisible())
  }
  lab = .sep.label
  if (is.null(labels)) {
    if (!group_pattern(lab)) 
      return(invisible())
  }
  else {
    if (is.null(from)) 
      from = 1
    if (!is.numeric(from)) 
      from = pattern_index(from, lines)
    if (is.null(to)) 
      to = c(from[-1] - 1, length(lines))
    if (!is.numeric(to)) 
      to = pattern_index(to, lines)
    stopifnot(length(labels) == length(from), length(from) == length(to))
    from = from + from.offset
    to = to + to.offset
    code = list()
    for (i in seq_along(labels)) {
      code[[labels[i]]] = strip_white(lines[from[i]:to[i]])
    }
    knit_code$set(code)
    return(invisible())
  }
  idx = cumsum(grepl(lab, lines))
  if (idx[1] == 0) {
    idx = c(0, idx)
    lines = c("", lines)
  }
  groups = unname(split(lines, idx))
  labels = stringr::str_trim(gsub(lab, "\\3", sapply(groups, `[`, 1)))
  labels = gsub(",.*", "", labels)
  code = lapply(groups, strip_chunk, roxygen_comments)
  for (i in which(!nzchar(labels))) labels[i] = unnamed_chunk()
  knit_code$set(setNames(code, labels))
}, function (path, lines = read_utf8(path), labels = NULL, from = NULL, to = NULL, from.offset = 0, to.offset = 0, roxygen_comments = TRUE) 
{
  if (!length(lines)) {
    warning("code is empty")
    return(invisible())
  }
  lab = .sep.label
  if (is.null(labels)) {
    if (!group_pattern(lab)) 
      return(invisible())
  }
  else {
    if (is.null(from)) 
      from = 1
    if (!is.numeric(from)) 
      from = pattern_index(from, lines)
    if (is.null(to)) 
      to = c(from[-1] - 1, length(lines))
    if (!is.numeric(to)) 
      to = pattern_index(to, lines)
    stopifnot(length(labels) == length(from), length(from) == length(to))
    from = from + from.offset
    to = to + to.offset
    code = list()
    for (i in seq_along(labels)) {
      code[[labels[i]]] = strip_white(lines[from[i]:to[i]])
    }
    knit_code$set(code)
    return(invisible())
  }
  idx = cumsum(grepl(lab, lines))
  if (idx[1] == 0) {
    idx = c(0, idx)
    lines = c("", lines)
  }
  groups = unname(split(lines, idx))
  labels = stringr::str_trim(gsub(lab, "\\3", sapply(groups, `[`, 1)))
  labels = gsub(",.*", "", labels)
  code = lapply(groups, strip_chunk, roxygen_comments)
  for (i in which(!nzchar(labels))) labels[i] = unnamed_chunk()
  knit_code$set(setNames(code, labels))
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
read_demo
list(`package:knitr` = function (topic, package = NULL, ...) 
{
  paths = list.files(file.path(find.package(package), "demo"), full.names = TRUE)
  read_chunk(paths[sans_ext(basename(paths)) == topic], ...)
}, function (topic, package = NULL, ...) 
{
  paths = list.files(file.path(find.package(package), "demo"), full.names = TRUE)
  read_chunk(paths[sans_ext(basename(paths)) == topic], ...)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
read_rforge
list(`package:knitr` = function (path, project, extra = "") 
{
  base = "http://r-forge.r-project.org/scm/viewvc.php/*checkout*/pkg"
  read_utf8(sprintf("%s/%s?root=%s%s", base, path, project, extra))
}, function (path, project, extra = "") 
{
  base = "http://r-forge.r-project.org/scm/viewvc.php/*checkout*/pkg"
  read_utf8(sprintf("%s/%s?root=%s%s", base, path, project, extra))
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
render_asciidoc
list(`package:knitr` = function () 
{
  set_html_dev()
  opts_knit$set(out.format = "asciidoc")
  knit_hooks$set(hooks_asciidoc())
}, function () 
{
  set_html_dev()
  opts_knit$set(out.format = "asciidoc")
  knit_hooks$set(hooks_asciidoc())
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
render_html
list(`package:knitr` = function () 
{
  set_html_dev()
  opts_knit$set(out.format = "html")
  h = opts_knit$get("header")
  if (!nzchar(h["highlight"])) 
    set_header(highlight = .header.hi.html)
  knit_hooks$set(hooks_html())
}, function () 
{
  set_html_dev()
  opts_knit$set(out.format = "html")
  h = opts_knit$get("header")
  if (!nzchar(h["highlight"])) 
    set_header(highlight = .header.hi.html)
  knit_hooks$set(hooks_html())
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
render_jekyll
list(`package:knitr` = function (highlight = c("pygments", "prettify", "none"), extra = "") 
{
  render_markdown(TRUE)
  knit_hooks$set(hooks_jekyll(highlight = highlight, extra = extra))
}, function (highlight = c("pygments", "prettify", "none"), extra = "") 
{
  render_markdown(TRUE)
  knit_hooks$set(hooks_jekyll(highlight = highlight, extra = extra))
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
render_latex
list(`package:knitr` = function () 
{
  opts_chunk$set(out.width = "\\maxwidth", dev = "pdf")
  opts_knit$set(out.format = "latex")
  h = opts_knit$get("header")
  if (!nzchar(h["framed"])) 
    set_header(framed = .header.framed)
  if (!nzchar(h["highlight"])) 
    set_header(highlight = .header.hi.tex)
  knit_hooks$set(hooks_latex())
}, function () 
{
  opts_chunk$set(out.width = "\\maxwidth", dev = "pdf")
  opts_knit$set(out.format = "latex")
  h = opts_knit$get("header")
  if (!nzchar(h["framed"])) 
    set_header(framed = .header.framed)
  if (!nzchar(h["highlight"])) 
    set_header(highlight = .header.hi.tex)
  knit_hooks$set(hooks_latex())
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
render_listings
list(`package:knitr` = function () 
{
  opts_chunk$set(highlight = FALSE, comment = NA, prompt = FALSE)
  opts_knit$set(out.format = "listings")
  test_latex_pkg("Sweavel", system.file("misc", "Sweavel.sty", package = "knitr"))
  set_header(framed = "", highlight = "\\usepackage{Sweavel}")
  knit_hooks$set(hooks_listings())
}, function () 
{
  opts_chunk$set(highlight = FALSE, comment = NA, prompt = FALSE)
  opts_knit$set(out.format = "listings")
  test_latex_pkg("Sweavel", system.file("misc", "Sweavel.sty", package = "knitr"))
  set_header(framed = "", highlight = "\\usepackage{Sweavel}")
  knit_hooks$set(hooks_listings())
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
render_markdown
list(`package:knitr` = function (strict = FALSE, fence_char = "`") 
{
  set_html_dev()
  opts_knit$set(out.format = "markdown")
  knit_hooks$set(hooks_markdown(strict, fence_char))
}, function (strict = FALSE, fence_char = "`") 
{
  set_html_dev()
  opts_knit$set(out.format = "markdown")
  knit_hooks$set(hooks_markdown(strict, fence_char))
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
render_rst
list(`package:knitr` = function (strict = FALSE) 
{
  set_html_dev()
  knit_hooks$set(hooks_rst(strict))
}, function (strict = FALSE) 
{
  set_html_dev()
  knit_hooks$set(hooks_rst(strict))
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
render_sweave
list(`package:knitr` = function () 
{
  opts_chunk$set(highlight = FALSE, comment = NA, prompt = TRUE)
  opts_knit$set(out.format = "sweave")
  test_latex_pkg("Sweave", file.path(R.home("share"), "texmf", "tex", "latex", "Sweave.sty"))
  set_header(framed = "", highlight = "\\usepackage{Sweave}")
  knit_hooks$set(hooks_sweave())
}, function () 
{
  opts_chunk$set(highlight = FALSE, comment = NA, prompt = TRUE)
  opts_knit$set(out.format = "sweave")
  test_latex_pkg("Sweave", file.path(R.home("share"), "texmf", "tex", "latex", "Sweave.sty"))
  set_header(framed = "", highlight = "\\usepackage{Sweave}")
  knit_hooks$set(hooks_sweave())
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
render_textile
list(`package:knitr` = function () 
{
  set_html_dev()
  opts_knit$set(out.format = "textile")
  knit_hooks$set(hooks_textile())
}, function () 
{
  set_html_dev()
  opts_knit$set(out.format = "textile")
  knit_hooks$set(hooks_textile())
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
restore_raw_output
list(`package:knitr` = function (text, chunks, markers = raw_markers) 
{
  if ((n <- length(chunks)) == 0) 
    return(text)
  text = enc2utf8(text)
  chunks = enc2utf8(chunks)
  tokens = names(chunks)
  for (i in seq_len(n)) {
    r = paste0(markers[1], tokens[i], markers[2])
    text = gsub(r, chunks[i], text, fixed = TRUE, useBytes = TRUE)
  }
  Encoding(text) = "UTF-8"
  text
}, function (text, chunks, markers = raw_markers) 
{
  if ((n <- length(chunks)) == 0) 
    return(text)
  text = enc2utf8(text)
  chunks = enc2utf8(chunks)
  tokens = names(chunks)
  for (i in seq_len(n)) {
    r = paste0(markers[1], tokens[i], markers[2])
    text = gsub(r, chunks[i], text, fixed = TRUE, useBytes = TRUE)
  }
  Encoding(text) = "UTF-8"
  text
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
rnw2pdf
list(`package:knitr` = function (input, output = with_ext(input, "pdf"), compiler = "xelatex", envir = parent.frame(), quiet = FALSE, clean = TRUE, error = FALSE, ...) 
{
  if (xfun::file_exists(output) && !file.remove(output)) 
    stop("The file '", output, "' cannot be removed (may be locked by a PDF reader).")
  old = opts_chunk$set(error = error)
  on.exit(opts_chunk$set(old), add = TRUE)
  file_tex = knit(input, envir = envir, quiet = quiet)
  if (clean) 
    on.exit(file.remove(file_tex), add = TRUE)
  file_pdf = tinytex::latexmk(file_tex, engine = compiler, clean = clean, ...)
  if (!xfun::same_path(output, file_pdf)) 
    file.rename(file_pdf, output)
  output
}, function (input, output = with_ext(input, "pdf"), compiler = "xelatex", envir = parent.frame(), quiet = FALSE, clean = TRUE, error = FALSE, ...) 
{
  if (xfun::file_exists(output) && !file.remove(output)) 
    stop("The file '", output, "' cannot be removed (may be locked by a PDF reader).")
  old = opts_chunk$set(error = error)
  on.exit(opts_chunk$set(old), add = TRUE)
  file_tex = knit(input, envir = envir, quiet = quiet)
  if (clean) 
    on.exit(file.remove(file_tex), add = TRUE)
  file_pdf = tinytex::latexmk(file_tex, engine = compiler, clean = clean, ...)
  if (!xfun::same_path(output, file_pdf)) 
    file.rename(file_pdf, output)
  output
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
rocco
list(`package:knitr` = function (input, ...) 
{
  out = knit2html(input, ..., stylesheet = system.file("misc", "docco-classic.css", package = "knitr"), template = system.file("misc", "docco-classic.html", package = "knitr"))
  txt = read_utf8(out)
  i1 = min(grep("<!--table start-->$", txt))
  i2 = max(grep("<!--table end-->$", txt))
  x = one_string(txt[seq(i1 + 1, i2 - 1)])
  x = gsub("</pre>\\s*<pre>", "<!--ReDuNdAnTpRe-->", x)
  m = gregexpr("<pre><code( class=\"[[:alnum:]-]+\")?>(.|\n)*?</code></pre>", x)
  if (m[[1]][1] == -1) 
    stop("No code blocks in HTML output")
  code = regmatches(x, m)[[1]]
  code = gsub("<!--ReDuNdAnTpRe-->", "</pre>\n<pre>", code)
  code = paste0("<td class=\"code\">", c(code, ""), "</td></tr>")
  doc = regmatches(x, m, invert = TRUE)[[1]]
  doc = paste0("<tr><td class=\"docs\">", docAdjust(doc), "</td>")
  sec = 1
  for (i in seq_along(doc)) {
    while (grepl("<tr><td class=\"docs\">", doc[i])) {
      doc[i] = sub("<tr><td class=\"docs\">", paste0("<tr id=\"row", sec, "\"><td class=\"docs\">", "<div class=\"pilwrap\">", "<a class=\"pilcrow\" href=\"#row", sec, "\">&para;</a></div>"), doc[i])
      sec = sec + 1
    }
  }
  html = c(txt[1:i1], paste0(doc, code, collapse = ""), txt[i2:length(txt)])
  write_utf8(html, out)
  invisible(out)
}, function (input, ...) 
{
  out = knit2html(input, ..., stylesheet = system.file("misc", "docco-classic.css", package = "knitr"), template = system.file("misc", "docco-classic.html", package = "knitr"))
  txt = read_utf8(out)
  i1 = min(grep("<!--table start-->$", txt))
  i2 = max(grep("<!--table end-->$", txt))
  x = one_string(txt[seq(i1 + 1, i2 - 1)])
  x = gsub("</pre>\\s*<pre>", "<!--ReDuNdAnTpRe-->", x)
  m = gregexpr("<pre><code( class=\"[[:alnum:]-]+\")?>(.|\n)*?</code></pre>", x)
  if (m[[1]][1] == -1) 
    stop("No code blocks in HTML output")
  code = regmatches(x, m)[[1]]
  code = gsub("<!--ReDuNdAnTpRe-->", "</pre>\n<pre>", code)
  code = paste0("<td class=\"code\">", c(code, ""), "</td></tr>")
  doc = regmatches(x, m, invert = TRUE)[[1]]
  doc = paste0("<tr><td class=\"docs\">", docAdjust(doc), "</td>")
  sec = 1
  for (i in seq_along(doc)) {
    while (grepl("<tr><td class=\"docs\">", doc[i])) {
      doc[i] = sub("<tr><td class=\"docs\">", paste0("<tr id=\"row", sec, "\"><td class=\"docs\">", "<div class=\"pilwrap\">", "<a class=\"pilcrow\" href=\"#row", sec, "\">&para;</a></div>"), doc[i])
      sec = sec + 1
    }
  }
  html = c(txt[1:i1], paste0(doc, code, collapse = ""), txt[i2:length(txt)])
  write_utf8(html, out)
  invisible(out)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
rst2pdf
list(`package:knitr` = function (input, command = "rst2pdf", options = "") 
{
  out = with_ext(input, "pdf")
  system2(command, paste(shQuote(input), "-o", shQuote(out), options))
  if (file.exists(out)) 
    out
  else stop("conversion by rst2pdf failed!")
}, function (input, command = "rst2pdf", options = "") 
{
  out = with_ext(input, "pdf")
  system2(command, paste(shQuote(input), "-o", shQuote(out), options))
  if (file.exists(out)) 
    out
  else stop("conversion by rst2pdf failed!")
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
set_alias
list(`package:knitr` = function (...) 
{
  opts_knit$set(aliases = c(...))
}, function (...) 
{
  opts_knit$set(aliases = c(...))
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
set_header
list(`package:knitr` = function (...) 
{
  opts_knit$set(header = merge_list(opts_knit$get("header"), c(...)))
}, function (...) 
{
  opts_knit$set(header = merge_list(opts_knit$get("header"), c(...)))
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
set_parent
list(`package:knitr` = function (parent) 
{
  if (child_mode()) 
    return(invisible(NULL))
  opts_knit$set(parent = TRUE)
  set_preamble(read_utf8(parent))
  invisible(NULL)
}, function (parent) 
{
  if (child_mode()) 
    return(invisible(NULL))
  opts_knit$set(parent = TRUE)
  set_preamble(read_utf8(parent))
  invisible(NULL)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
sew
list(`package:knitr` = function (x, options = list(), ...) 
{
  UseMethod("sew", x)
}, function (x, options = list(), ...) 
{
  UseMethod("sew", x)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
spin
list(`package:knitr` = function (hair, knit = TRUE, report = TRUE, text = NULL, envir = parent.frame(), format = c("Rmd", "Rnw", "Rhtml", "Rtex", "Rrst"), doc = "^#+'[ ]?", inline = "^[{][{](.+)[}][}][ ]*$", comment = c("^[# ]*/[*]", "^.*[*]/ *$"), precious = !knit && is.null(text)) 
{
  format = match.arg(format)
  x = if (nosrc <- is.null(text)) 
    read_utf8(hair)
  else split_lines(text)
  stopifnot(length(comment) == 2)
  c1 = grep(comment[1], x)
  c2 = grep(comment[2], x)
  if (length(c1) != length(c2)) 
    stop("comments must be put in pairs of start and end delimiters")
  if (length(c1)) 
    x = x[-unique(unlist(mapply(seq, c1, c2, SIMPLIFY = FALSE)))]
  parsed_data = getParseData(parse(text = x, keep.source = TRUE))
  is_matchable = seq_along(x) %in% unique(parsed_data[parsed_data$col1 == 1, "line1"])
  p = if (identical(tolower(format), "rmd")) 
    .fmt.rmd(x)
  else .fmt.pat[[tolower(format)]]
  if (any(i <- is_matchable & grepl(inline, x))) 
    x[i] = gsub(inline, p[4], x[i])
  r = rle((is_matchable & grepl(doc, x)) | i)
  n = length(r$lengths)
  txt = vector("list", n)
  idx = c(0, cumsum(r$lengths))
  p1 = gsub("\\{", "\\\\{", paste0("^", p[1], ".*", p[2], "$"))
  for (i in seq_len(n)) {
    block = x[seq(idx[i] + 1, idx[i + 1])]
    txt[[i]] = if (r$values[i]) {
      sub(doc, "", block)
    }
    else {
      block = strip_white(block)
      if (!length(block)) 
        next
      if (length(opt <- grep(rc <- "^(#|--)+(\\+|-| ----+| @knitr)", block))) {
        block[opt] = paste0(p[1], gsub(paste0(rc, "\\s*|-*\\s*$"), "", block[opt]), p[2])
        if (any(opt > 1)) {
          j = opt[opt > 1]
          block[j] = paste(p[3], block[j], sep = "\n")
        }
      }
      if (!grepl(p1, block[1])) {
        block = c(paste0(p[1], p[2]), block)
      }
      c("", block, p[3], "")
    }
  }
  txt = unlist(txt)
  if (report && format %in% c("Rnw", "Rtex") && !grepl("^\\s*\\\\documentclass", txt)) {
    txt = c("\\documentclass{article}", "\\begin{document}", txt, "\\end{document}")
  }
  if (nosrc) {
    outsrc = with_ext(hair, format)
    write_utf8(txt, outsrc)
    txt = NULL
  }
  else outsrc = NULL
  if (!knit) 
    return(txt %n% outsrc)
  out = if (report) {
    if (format == "Rmd") {
      knit2html(outsrc, text = txt, envir = envir)
    }
    else if (!is.null(outsrc) && (format %in% c("Rnw", "Rtex"))) {
      knit2pdf(outsrc, envir = envir)
    }
  }
  else knit(outsrc, text = txt, envir = envir)
  if (!precious && !is.null(outsrc)) 
    file.remove(outsrc)
  invisible(out)
}, new("standardGeneric", .Data = function (x, ...) 
  standardGeneric("spin"), generic = "spin", package = "terra", group = list(), valueClass = character(0), signature = "x", default = NULL, skeleton = (function (x, ...) 
    stop(gettextf("invalid call in method dispatch to '%s' (no default method)", "spin"), domain = NA))(x, ...)), function (hair, knit = TRUE, report = TRUE, text = NULL, envir = parent.frame(), format = c("Rmd", "Rnw", "Rhtml", "Rtex", "Rrst"), doc = "^#+'[ ]?", inline = "^[{][{](.+)[}][}][ ]*$", comment = c("^[# ]*/[*]", "^.*[*]/ *$"), precious = !knit && is.null(text)) 
    {
      format = match.arg(format)
      x = if (nosrc <- is.null(text)) 
        read_utf8(hair)
      else split_lines(text)
      stopifnot(length(comment) == 2)
      c1 = grep(comment[1], x)
      c2 = grep(comment[2], x)
      if (length(c1) != length(c2)) 
        stop("comments must be put in pairs of start and end delimiters")
      if (length(c1)) 
        x = x[-unique(unlist(mapply(seq, c1, c2, SIMPLIFY = FALSE)))]
      parsed_data = getParseData(parse(text = x, keep.source = TRUE))
      is_matchable = seq_along(x) %in% unique(parsed_data[parsed_data$col1 == 1, "line1"])
      p = if (identical(tolower(format), "rmd")) 
        .fmt.rmd(x)
      else .fmt.pat[[tolower(format)]]
      if (any(i <- is_matchable & grepl(inline, x))) 
        x[i] = gsub(inline, p[4], x[i])
      r = rle((is_matchable & grepl(doc, x)) | i)
      n = length(r$lengths)
      txt = vector("list", n)
      idx = c(0, cumsum(r$lengths))
      p1 = gsub("\\{", "\\\\{", paste0("^", p[1], ".*", p[2], "$"))
      for (i in seq_len(n)) {
        block = x[seq(idx[i] + 1, idx[i + 1])]
        txt[[i]] = if (r$values[i]) {
          sub(doc, "", block)
        }
        else {
          block = strip_white(block)
          if (!length(block)) 
            next
          if (length(opt <- grep(rc <- "^(#|--)+(\\+|-| ----+| @knitr)", block))) {
            block[opt] = paste0(p[1], gsub(paste0(rc, "\\s*|-*\\s*$"), "", block[opt]), p[2])
            if (any(opt > 1)) {
              j = opt[opt > 1]
              block[j] = paste(p[3], block[j], sep = "\n")
            }
          }
          if (!grepl(p1, block[1])) {
            block = c(paste0(p[1], p[2]), block)
          }
          c("", block, p[3], "")
        }
      }
      txt = unlist(txt)
      if (report && format %in% c("Rnw", "Rtex") && !grepl("^\\s*\\\\documentclass", txt)) {
        txt = c("\\documentclass{article}", "\\begin{document}", txt, "\\end{document}")
      }
      if (nosrc) {
        outsrc = with_ext(hair, format)
        write_utf8(txt, outsrc)
        txt = NULL
      }
      else outsrc = NULL
      if (!knit) 
        return(txt %n% outsrc)
      out = if (report) {
        if (format == "Rmd") {
          knit2html(outsrc, text = txt, envir = envir)
        }
        else if (!is.null(outsrc) && (format %in% c("Rnw", "Rtex"))) {
          knit2pdf(outsrc, envir = envir)
        }
      }
      else knit(outsrc, text = txt, envir = envir)
      if (!precious && !is.null(outsrc)) 
        file.remove(outsrc)
      invisible(out)
    })
c("package:knitr", "namespace:terra", "namespace:knitr")
c(TRUE, FALSE, FALSE)
c(FALSE, FALSE, TRUE)
spin_child
list(`package:knitr` = function (input, format) 
{
  if (!isTRUE(getOption("knitr.in.progress"))) 
    return(sys.source(input, parent.frame()))
  fmt = if (missing(format)) {
    if (is.null(fmt <- out_format())) 
      stop("spin_child() must be called in a knitting process")
    .spin.fmt = c(latex = "Rnw", sweave = "Rnw", listings = "Rnw", html = "Rhtml", markdown = "Rmd")
    if (is.na(fmt <- .spin.fmt[fmt])) 
      stop("the document format ", fmt, " is not supported yet")
    fmt
  }
  else format
  asis_output(knit_child(text = spin(text = read_utf8(input), knit = FALSE, report = FALSE, format = fmt), quiet = TRUE))
}, function (input, format) 
{
  if (!isTRUE(getOption("knitr.in.progress"))) 
    return(sys.source(input, parent.frame()))
  fmt = if (missing(format)) {
    if (is.null(fmt <- out_format())) 
      stop("spin_child() must be called in a knitting process")
    .spin.fmt = c(latex = "Rnw", sweave = "Rnw", listings = "Rnw", html = "Rhtml", markdown = "Rmd")
    if (is.na(fmt <- .spin.fmt[fmt])) 
      stop("the document format ", fmt, " is not supported yet")
    fmt
  }
  else format
  asis_output(knit_child(text = spin(text = read_utf8(input), knit = FALSE, report = FALSE, format = fmt), quiet = TRUE))
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
stitch
list(`package:knitr` = function (script, template = system.file("misc", "knitr-template.Rnw", package = "knitr"), output = NULL, text = NULL, envir = parent.frame()) 
{
  lines = if (nosrc <- is.null(text)) 
    read_utf8(script)
  else split_lines(text)
  if (comment_to_var(lines[1], ".knitr.title", "^#+ *title:", envir)) 
    lines = lines[-1]
  if (comment_to_var(lines[1], ".knitr.author", "^#+ *author:", envir)) 
    lines = lines[-1]
  input = basename(template)
  input = with_ext(basename(if (nosrc) 
    script
    else tempfile()), file_ext(input))
  txt = read_utf8(template)
  i = grep("%sCHUNK_LABEL_HERE", txt)
  if (length(i) != 1) 
    stop("Wrong template for stitch: ", template)
  h = sub("CHUNK_LABEL_HERE", "", txt[i])
  j = grep(.sep.label, lines)
  if (length(j) == 0) {
    lines = c(sprintf(h, "auto-report"), lines)
  }
  else {
    lines[j] = sprintf(h, gsub(.sep.label, "\\3", lines[j]))
    if (j[1] != 1) 
      lines = c(sprintf(h, ""), lines)
  }
  txt[i] = one_string(lines)
  opts_chunk$set(fig.align = "center", par = TRUE, fig.width = 6, fig.height = 6, fig.path = paste("figure", gsub("[^[:alnum:]]", "-", input), sep = "/"))
  on.exit(opts_chunk$restore(), add = TRUE)
  knit_hooks$set(par = function(before, options, envir) {
    if (before) 
      par(mar = c(4, 4, 0.1, 0.1), cex.lab = 0.95, cex.axis = 0.9, mgp = c(2, 0.7, 0), tcl = -0.3, las = 1)
  })
  on.exit(knit_hooks$restore(), add = TRUE)
  out = knit(input, output, envir = envir, text = txt)
  switch(file_ext(out), tex = {
    tinytex::latexmk(out)
    message("PDF output at: ", with_ext(out, "pdf"))
  }, md = {
    out.html = with_ext(out, "html")
    markdown::markdownToHTML(out, out.html)
    message("HTML output at: ", out.html)
  })
  out
}, function (script, template = system.file("misc", "knitr-template.Rnw", package = "knitr"), output = NULL, text = NULL, envir = parent.frame()) 
{
  lines = if (nosrc <- is.null(text)) 
    read_utf8(script)
  else split_lines(text)
  if (comment_to_var(lines[1], ".knitr.title", "^#+ *title:", envir)) 
    lines = lines[-1]
  if (comment_to_var(lines[1], ".knitr.author", "^#+ *author:", envir)) 
    lines = lines[-1]
  input = basename(template)
  input = with_ext(basename(if (nosrc) 
    script
    else tempfile()), file_ext(input))
  txt = read_utf8(template)
  i = grep("%sCHUNK_LABEL_HERE", txt)
  if (length(i) != 1) 
    stop("Wrong template for stitch: ", template)
  h = sub("CHUNK_LABEL_HERE", "", txt[i])
  j = grep(.sep.label, lines)
  if (length(j) == 0) {
    lines = c(sprintf(h, "auto-report"), lines)
  }
  else {
    lines[j] = sprintf(h, gsub(.sep.label, "\\3", lines[j]))
    if (j[1] != 1) 
      lines = c(sprintf(h, ""), lines)
  }
  txt[i] = one_string(lines)
  opts_chunk$set(fig.align = "center", par = TRUE, fig.width = 6, fig.height = 6, fig.path = paste("figure", gsub("[^[:alnum:]]", "-", input), sep = "/"))
  on.exit(opts_chunk$restore(), add = TRUE)
  knit_hooks$set(par = function(before, options, envir) {
    if (before) 
      par(mar = c(4, 4, 0.1, 0.1), cex.lab = 0.95, cex.axis = 0.9, mgp = c(2, 0.7, 0), tcl = -0.3, las = 1)
  })
  on.exit(knit_hooks$restore(), add = TRUE)
  out = knit(input, output, envir = envir, text = txt)
  switch(file_ext(out), tex = {
    tinytex::latexmk(out)
    message("PDF output at: ", with_ext(out, "pdf"))
  }, md = {
    out.html = with_ext(out, "html")
    markdown::markdownToHTML(out, out.html)
    message("HTML output at: ", out.html)
  })
  out
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
stitch_rhtml
list(`package:knitr` = function (..., envir = parent.frame()) 
  stitch(..., envir = envir, template = system.file("misc", "knitr-template.Rhtml", package = "knitr")), function (..., envir = parent.frame()) 
    stitch(..., envir = envir, template = system.file("misc", "knitr-template.Rhtml", package = "knitr")))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
stitch_rmd
list(`package:knitr` = function (..., envir = parent.frame()) 
  stitch(..., envir = envir, template = system.file("misc", "knitr-template.Rmd", package = "knitr")), function (..., envir = parent.frame()) 
    stitch(..., envir = envir, template = system.file("misc", "knitr-template.Rmd", package = "knitr")))
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
Sweave2knitr
list(`package:knitr` = function (file, output = gsub("[.]([^.]+)$", "-knitr.\\1", file), text = NULL) 
{
  x = text
  if (is.null(x)) 
    x = read_utf8(file)
  x = native_encode(x)
  x = gsub_msg("removing \\usepackage{Sweave}", "^\\s*\\\\usepackage(\\[.*\\])?\\{Sweave\\}", "", x)
  i = grep("^<<(.*)>>=\\s*$", x)
  if (length(i)) {
    opts = gsub("^<<(.*)>>=\\s*$", "\\1", x[i])
    x[i] = paste0("<<", fix_sweave(opts), ">>=")
  }
  x = gsub_msg("replacing \\SweaveInput{...} with <<child='...'>>=", "^\\s*\\\\SweaveInput\\{([^}]+)\\}", "\n<<'child-\\1', child='\\1'>>=\n@\n", x)
  s = "^\\s*\\\\SweaveOpts\\{([^}]*)\\}.*$"
  i = grep(s, x)
  if (length(i)) {
    opts = fix_sweave(gsub(s, "\\1", x[i]))
    x[i] = gsub_msg("changing \\SweaveOpts{} to opts_chunk$set()", s, "@_@_@", x[i])
    for (j in seq_along(i)) x[i[j]] = gsub("@_@_@", one_string(c("\n<<include=FALSE>>=", "library(knitr)", "opts_chunk$set(", opts[j], ")", "@\n")), x[i[j]])
  }
  i1 = grepl(all_patterns$rnw$chunk.begin, x)
  i2 = grepl(all_patterns$rnw$chunk.end, x)
  i3 = group_indices(i1, i2)
  i = which(i2 & i3%%2 == 1)
  if (length(i)) {
    message("removing extra lines (#n shows line numbers):\n", one_string(formatUL(sprintf("(#%d) %s", i, x[i]), offset = 4)))
    x = x[-i]
  }
  if (is.null(text)) 
    write_utf8(x, output)
  else x
}, function (file, output = gsub("[.]([^.]+)$", "-knitr.\\1", file), text = NULL) 
{
  x = text
  if (is.null(x)) 
    x = read_utf8(file)
  x = native_encode(x)
  x = gsub_msg("removing \\usepackage{Sweave}", "^\\s*\\\\usepackage(\\[.*\\])?\\{Sweave\\}", "", x)
  i = grep("^<<(.*)>>=\\s*$", x)
  if (length(i)) {
    opts = gsub("^<<(.*)>>=\\s*$", "\\1", x[i])
    x[i] = paste0("<<", fix_sweave(opts), ">>=")
  }
  x = gsub_msg("replacing \\SweaveInput{...} with <<child='...'>>=", "^\\s*\\\\SweaveInput\\{([^}]+)\\}", "\n<<'child-\\1', child='\\1'>>=\n@\n", x)
  s = "^\\s*\\\\SweaveOpts\\{([^}]*)\\}.*$"
  i = grep(s, x)
  if (length(i)) {
    opts = fix_sweave(gsub(s, "\\1", x[i]))
    x[i] = gsub_msg("changing \\SweaveOpts{} to opts_chunk$set()", s, "@_@_@", x[i])
    for (j in seq_along(i)) x[i[j]] = gsub("@_@_@", one_string(c("\n<<include=FALSE>>=", "library(knitr)", "opts_chunk$set(", opts[j], ")", "@\n")), x[i[j]])
  }
  i1 = grepl(all_patterns$rnw$chunk.begin, x)
  i2 = grepl(all_patterns$rnw$chunk.end, x)
  i3 = group_indices(i1, i2)
  i = which(i2 & i3%%2 == 1)
  if (length(i)) {
    message("removing extra lines (#n shows line numbers):\n", one_string(formatUL(sprintf("(#%d) %s", i, x[i]), offset = 4)))
    x = x[-i]
  }
  if (is.null(text)) 
    write_utf8(x, output)
  else x
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
wrap_rmd
list(`package:knitr` = function (file, width = 80, text = NULL, backup) 
{
  x = if (is.null(text)) 
    read_utf8(file)
  else split_lines(text)
  x = strip_white(x)
  if ((n <- length(x)) <= 1) 
    return(x)
  idx = NULL
  i = grep("^---$", x)
  if (length(i) > 1 && i[1] == 1) 
    idx = c(idx, i[1]:i[2])
  i = grep("^(```|\\{% (end|)highlight [a-z ]*%\\}|</?script.*>)", x)
  if (length(i)) {
    if (length(i)%%2 != 0) 
      stop("markers for code blocks must be paired up")
    idx = c(idx, unlist(apply(matrix(i, ncol = 2, byrow = TRUE), 1, function(z) z[1]:z[2])))
  }
  idx = c(idx, grep("^(#|===|---|    |\t)", x))
  idx = c(idx, grep("^\\s*$", x))
  idx = c(idx, grep("^\\s*( |> |- |\\* |\\d+ )", x))
  idx = unique(idx)
  if (length(idx) == n) 
    return(x)
  i = logical(n)
  i[idx] = TRUE
  r = rle(i)
  n = length(r$lengths)
  txt = vector("list", n)
  j = c(0, cumsum(r$lengths))
  for (i in seq_len(n)) {
    block = x[seq(j[i] + 1, j[i + 1])]
    txt[[i]] = if (r$value[i]) {
      gsub("\\s+$", "", block)
    }
    else {
      strwrap(one_string(block), width)
    }
  }
  txt = unlist(txt)
  if (is.null(text)) {
    if (missing(backup)) 
      backup = file.path(dirname(file), paste0("__", basename(file)))
    if (!is.null(backup)) 
      file.copy(file, backup, overwrite = TRUE)
    write_utf8(txt, file)
  }
  else txt
}, function (file, width = 80, text = NULL, backup) 
{
  x = if (is.null(text)) 
    read_utf8(file)
  else split_lines(text)
  x = strip_white(x)
  if ((n <- length(x)) <= 1) 
    return(x)
  idx = NULL
  i = grep("^---$", x)
  if (length(i) > 1 && i[1] == 1) 
    idx = c(idx, i[1]:i[2])
  i = grep("^(```|\\{% (end|)highlight [a-z ]*%\\}|</?script.*>)", x)
  if (length(i)) {
    if (length(i)%%2 != 0) 
      stop("markers for code blocks must be paired up")
    idx = c(idx, unlist(apply(matrix(i, ncol = 2, byrow = TRUE), 1, function(z) z[1]:z[2])))
  }
  idx = c(idx, grep("^(#|===|---|    |\t)", x))
  idx = c(idx, grep("^\\s*$", x))
  idx = c(idx, grep("^\\s*( |> |- |\\* |\\d+ )", x))
  idx = unique(idx)
  if (length(idx) == n) 
    return(x)
  i = logical(n)
  i[idx] = TRUE
  r = rle(i)
  n = length(r$lengths)
  txt = vector("list", n)
  j = c(0, cumsum(r$lengths))
  for (i in seq_len(n)) {
    block = x[seq(j[i] + 1, j[i + 1])]
    txt[[i]] = if (r$value[i]) {
      gsub("\\s+$", "", block)
    }
    else {
      strwrap(one_string(block), width)
    }
  }
  txt = unlist(txt)
  if (is.null(text)) {
    if (missing(backup)) 
      backup = file.path(dirname(file), paste0("__", basename(file)))
    if (!is.null(backup)) 
      file.copy(file, backup, overwrite = TRUE)
    write_utf8(txt, file)
  }
  else txt
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)
write_bib
list(`package:knitr` = function (x = .packages(), file = "", tweak = TRUE, width = NULL, prefix = getOption("knitr.bib.prefix", "R-"), lib.loc = NULL) 
{
  system.file = function(...) base::system.file(..., lib.loc = lib.loc)
  citation = function(...) utils::citation(..., lib.loc = lib.loc)
  idx = mapply(system.file, package = x) == ""
  if (any(idx)) {
    warning("package(s) ", paste(x[idx], collapse = ", "), " not found")
    x = x[!idx]
  }
  x = setdiff(x, setdiff(xfun::base_pkgs(), "base"))
  x = sort(x)
  bib = sapply(x, function(pkg) {
    cite = citation(pkg, auto = if (pkg != "base") {
      meta = packageDescription(pkg, lib.loc = lib.loc)
      if (identical(meta$Repository, "CRAN") && !is.null(meta$URL)) {
        if (!grepl("[, ]", meta$URL)) 
          meta$Repository = NULL
      }
      meta
    })
    if (tweak) {
      cite$title = gsub(sprintf("^(%s: )(\\1)", pkg), "\\1", cite$title)
      cite$title = gsub(" & ", " \\\\& ", cite$title)
    }
    entry = toBibtex(cite)
    entry[1] = sub("\\{,$", sprintf("{%s%s,", prefix, pkg), entry[1])
    entry
  }, simplify = FALSE)
  if (tweak) {
    for (i in intersect(names(.tweak.bib), x)) {
      message("tweaking ", i)
      bib[[i]] = merge_list(bib[[i]], .tweak.bib[[i]])
    }
    bib = lapply(bib, function(b) {
      b["author"] = sub("Duncan Temple Lang", "Duncan {Temple Lang}", b["author"])
      b["title"] = gsub("(^|\\W)'([^']+)'(\\W|$)", "\\1\\2\\3", b["title"])
      if (!is.na(b["note"])) 
        b["note"] = gsub("(^.*?https?://.*?),\\s+https?://.*?(},\\s*)$", "\\1\\2", b["note"])
      if (!("year" %in% names(b))) 
        b["year"] = .this.year
      b
    })
  }
  bib2 = lapply(x, function(pkg) {
    if (pkg == "base") 
      return()
    if (system.file("CITATION", package = pkg) == "") 
      return()
    cites = citation(pkg, auto = FALSE)
    cites = Filter(x = cites, function(cite) {
      !isTRUE(grepl("R package version", cite$note))
    })
    s = make_unique(unlist(lapply(cites, function(cite) {
      if (is.null(cite$year)) 
        format(Sys.Date(), "%Y")
      else cite$year
    })))
    mapply(cites, s, FUN = function(cite, suffix) {
      if (isTRUE(grepl("R package version", cite$note))) 
        return()
      entry = toBibtex(cite)
      entry[1] = sub("\\{,$", sprintf("{%s%s,", pkg, suffix), entry[1])
      entry
    }, SIMPLIFY = FALSE)
  })
  bib = c(bib, unlist(bib2, recursive = FALSE))
  bib = lapply(bib, function(b) {
    idx = which(names(b) == "")
    if (!is.null(width)) 
      b[-idx] = stringr::str_wrap(b[-idx], width, 2, 4)
    structure(c(b[idx[1]], b[-idx], b[idx[2]], ""), class = "Bibtex")
  })
  if (!is.null(file) && length(x)) 
    write_utf8(unlist(bib), file)
  invisible(bib)
}, function (x = .packages(), file = "", tweak = TRUE, width = NULL, prefix = getOption("knitr.bib.prefix", "R-"), lib.loc = NULL) 
{
  system.file = function(...) base::system.file(..., lib.loc = lib.loc)
  citation = function(...) utils::citation(..., lib.loc = lib.loc)
  idx = mapply(system.file, package = x) == ""
  if (any(idx)) {
    warning("package(s) ", paste(x[idx], collapse = ", "), " not found")
    x = x[!idx]
  }
  x = setdiff(x, setdiff(xfun::base_pkgs(), "base"))
  x = sort(x)
  bib = sapply(x, function(pkg) {
    cite = citation(pkg, auto = if (pkg != "base") {
      meta = packageDescription(pkg, lib.loc = lib.loc)
      if (identical(meta$Repository, "CRAN") && !is.null(meta$URL)) {
        if (!grepl("[, ]", meta$URL)) 
          meta$Repository = NULL
      }
      meta
    })
    if (tweak) {
      cite$title = gsub(sprintf("^(%s: )(\\1)", pkg), "\\1", cite$title)
      cite$title = gsub(" & ", " \\\\& ", cite$title)
    }
    entry = toBibtex(cite)
    entry[1] = sub("\\{,$", sprintf("{%s%s,", prefix, pkg), entry[1])
    entry
  }, simplify = FALSE)
  if (tweak) {
    for (i in intersect(names(.tweak.bib), x)) {
      message("tweaking ", i)
      bib[[i]] = merge_list(bib[[i]], .tweak.bib[[i]])
    }
    bib = lapply(bib, function(b) {
      b["author"] = sub("Duncan Temple Lang", "Duncan {Temple Lang}", b["author"])
      b["title"] = gsub("(^|\\W)'([^']+)'(\\W|$)", "\\1\\2\\3", b["title"])
      if (!is.na(b["note"])) 
        b["note"] = gsub("(^.*?https?://.*?),\\s+https?://.*?(},\\s*)$", "\\1\\2", b["note"])
      if (!("year" %in% names(b))) 
        b["year"] = .this.year
      b
    })
  }
  bib2 = lapply(x, function(pkg) {
    if (pkg == "base") 
      return()
    if (system.file("CITATION", package = pkg) == "") 
      return()
    cites = citation(pkg, auto = FALSE)
    cites = Filter(x = cites, function(cite) {
      !isTRUE(grepl("R package version", cite$note))
    })
    s = make_unique(unlist(lapply(cites, function(cite) {
      if (is.null(cite$year)) 
        format(Sys.Date(), "%Y")
      else cite$year
    })))
    mapply(cites, s, FUN = function(cite, suffix) {
      if (isTRUE(grepl("R package version", cite$note))) 
        return()
      entry = toBibtex(cite)
      entry[1] = sub("\\{,$", sprintf("{%s%s,", pkg, suffix), entry[1])
      entry
    }, SIMPLIFY = FALSE)
  })
  bib = c(bib, unlist(bib2, recursive = FALSE))
  bib = lapply(bib, function(b) {
    idx = which(names(b) == "")
    if (!is.null(width)) 
      b[-idx] = stringr::str_wrap(b[-idx], width, 2, 4)
    structure(c(b[idx[1]], b[-idx], b[idx[2]], ""), class = "Bibtex")
  })
  if (!is.null(file) && length(x)) 
    write_utf8(unlist(bib), file)
  invisible(bib)
})
c("package:knitr", "namespace:knitr")
c(TRUE, FALSE)
c(FALSE, TRUE)


####################################################################################################
library(leaflet)
%>%
  list(`package:leaflet` = function (lhs, rhs) 
  {
    lhs <- substitute(lhs)
    rhs <- substitute(rhs)
    kind <- 1
    env <- parent.frame()
    lazy <- TRUE
    .External2(magrittr_pipe)
  }, `package:janitor` = function (lhs, rhs) 
  {
    lhs <- substitute(lhs)
    rhs <- substitute(rhs)
    kind <- 1
    env <- parent.frame()
    lazy <- TRUE
    .External2(magrittr_pipe)
  }, function (lhs, rhs) 
  {
    lhs <- substitute(lhs)
    rhs <- substitute(rhs)
    kind <- 1
    env <- parent.frame()
    lazy <- TRUE
    .External2(magrittr_pipe)
  })
c("package:leaflet", "package:janitor", "namespace:magrittr")
c(TRUE, TRUE, FALSE)
c(FALSE, TRUE, TRUE)
addAwesomeMarkers
list(`package:leaflet` = function (map, lng = NULL, lat = NULL, layerId = NULL, group = NULL, icon = NULL, popup = NULL, popupOptions = NULL, label = NULL, labelOptions = NULL, options = markerOptions(), clusterOptions = NULL, clusterId = NULL, data = getMapData(map)) 
{
  if (missing(labelOptions)) 
    labelOptions <- labelOptions()
  map$dependencies <- c(map$dependencies, leafletAwesomeMarkersDependencies())
  if (!is.null(icon)) {
    icon <- evalFormula(list(icon), data)[[1]]
    if (inherits(icon, "leaflet_awesome_icon_set")) {
      icon <- awesomeIconSetToAwesomeIcons(icon)
    }
    icon <- filterNULL(icon)
    verifyIconLibrary(icon$library)
    lapply(unique(icon$library), function(lib) {
      libFunc <- switch(lib, glyphicon = addBootstrap, fa = addFontAwesome, ion = addIonIcon, default = stop("Unknown icon library \"", lib, "\""))
      map <<- libFunc(map)
    })
    icon$prefix <- icon$library
    icon$library <- NULL
  }
  if (!is.null(clusterOptions)) 
    map$dependencies <- c(map$dependencies, markerClusterDependencies())
  pts <- derivePoints(data, lng, lat, missing(lng), missing(lat), "addAwesomeMarkers")
  invokeMethod(map, data, "addAwesomeMarkers", pts$lat, pts$lng, icon, layerId, group, options, popup, popupOptions, clusterOptions, clusterId, safeLabel(label, data), labelOptions, getCrosstalkOptions(data)) %>% expandLimits(pts$lat, pts$lng)
}, function (map, lng = NULL, lat = NULL, layerId = NULL, group = NULL, icon = NULL, popup = NULL, popupOptions = NULL, label = NULL, labelOptions = NULL, options = markerOptions(), clusterOptions = NULL, clusterId = NULL, data = getMapData(map)) 
{
  if (missing(labelOptions)) 
    labelOptions <- labelOptions()
  map$dependencies <- c(map$dependencies, leafletAwesomeMarkersDependencies())
  if (!is.null(icon)) {
    icon <- evalFormula(list(icon), data)[[1]]
    if (inherits(icon, "leaflet_awesome_icon_set")) {
      icon <- awesomeIconSetToAwesomeIcons(icon)
    }
    icon <- filterNULL(icon)
    verifyIconLibrary(icon$library)
    lapply(unique(icon$library), function(lib) {
      libFunc <- switch(lib, glyphicon = addBootstrap, fa = addFontAwesome, ion = addIonIcon, default = stop("Unknown icon library \"", lib, "\""))
      map <<- libFunc(map)
    })
    icon$prefix <- icon$library
    icon$library <- NULL
  }
  if (!is.null(clusterOptions)) 
    map$dependencies <- c(map$dependencies, markerClusterDependencies())
  pts <- derivePoints(data, lng, lat, missing(lng), missing(lat), "addAwesomeMarkers")
  invokeMethod(map, data, "addAwesomeMarkers", pts$lat, pts$lng, icon, layerId, group, options, popup, popupOptions, clusterOptions, clusterId, safeLabel(label, data), labelOptions, getCrosstalkOptions(data)) %>% expandLimits(pts$lat, pts$lng)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addCircleMarkers
list(`package:leaflet` = function (map, lng = NULL, lat = NULL, radius = 10, layerId = NULL, group = NULL, stroke = TRUE, color = "#03F", weight = 5, opacity = 0.5, fill = TRUE, fillColor = color, fillOpacity = 0.2, dashArray = NULL, popup = NULL, popupOptions = NULL, label = NULL, labelOptions = NULL, options = pathOptions(), clusterOptions = NULL, clusterId = NULL, data = getMapData(map)) 
{
  if (missing(labelOptions)) 
    labelOptions <- labelOptions()
  options <- c(options, filterNULL(list(stroke = stroke, color = color, weight = weight, opacity = opacity, fill = fill, fillColor = fillColor, fillOpacity = fillOpacity, dashArray = dashArray)))
  if (!is.null(clusterOptions)) 
    map$dependencies <- c(map$dependencies, markerClusterDependencies())
  pts <- derivePoints(data, lng, lat, missing(lng), missing(lat), "addCircleMarkers")
  invokeMethod(map, data, "addCircleMarkers", pts$lat, pts$lng, radius, layerId, group, options, clusterOptions, clusterId, popup, popupOptions, safeLabel(label, data), labelOptions, getCrosstalkOptions(data)) %>% expandLimits(pts$lat, pts$lng)
}, function (map, lng = NULL, lat = NULL, radius = 10, layerId = NULL, group = NULL, stroke = TRUE, color = "#03F", weight = 5, opacity = 0.5, fill = TRUE, fillColor = color, fillOpacity = 0.2, dashArray = NULL, popup = NULL, popupOptions = NULL, label = NULL, labelOptions = NULL, options = pathOptions(), clusterOptions = NULL, clusterId = NULL, data = getMapData(map)) 
{
  if (missing(labelOptions)) 
    labelOptions <- labelOptions()
  options <- c(options, filterNULL(list(stroke = stroke, color = color, weight = weight, opacity = opacity, fill = fill, fillColor = fillColor, fillOpacity = fillOpacity, dashArray = dashArray)))
  if (!is.null(clusterOptions)) 
    map$dependencies <- c(map$dependencies, markerClusterDependencies())
  pts <- derivePoints(data, lng, lat, missing(lng), missing(lat), "addCircleMarkers")
  invokeMethod(map, data, "addCircleMarkers", pts$lat, pts$lng, radius, layerId, group, options, clusterOptions, clusterId, popup, popupOptions, safeLabel(label, data), labelOptions, getCrosstalkOptions(data)) %>% expandLimits(pts$lat, pts$lng)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addCircles
list(`package:leaflet` = function (map, lng = NULL, lat = NULL, radius = 10, layerId = NULL, group = NULL, stroke = TRUE, color = "#03F", weight = 5, opacity = 0.5, fill = TRUE, fillColor = color, fillOpacity = 0.2, dashArray = NULL, popup = NULL, popupOptions = NULL, label = NULL, labelOptions = NULL, options = pathOptions(), highlightOptions = NULL, data = getMapData(map)) 
{
  if (missing(labelOptions)) 
    labelOptions <- labelOptions()
  options <- c(options, filterNULL(list(stroke = stroke, color = color, weight = weight, opacity = opacity, fill = fill, fillColor = fillColor, fillOpacity = fillOpacity, dashArray = dashArray)))
  pts <- derivePoints(data, lng, lat, missing(lng), missing(lat), "addCircles")
  invokeMethod(map, data, "addCircles", pts$lat, pts$lng, radius, layerId, group, options, popup, popupOptions, safeLabel(label, data), labelOptions, highlightOptions, getCrosstalkOptions(data)) %>% expandLimits(pts$lat, pts$lng)
}, function (map, lng = NULL, lat = NULL, radius = 10, layerId = NULL, group = NULL, stroke = TRUE, color = "#03F", weight = 5, opacity = 0.5, fill = TRUE, fillColor = color, fillOpacity = 0.2, dashArray = NULL, popup = NULL, popupOptions = NULL, label = NULL, labelOptions = NULL, options = pathOptions(), highlightOptions = NULL, data = getMapData(map)) 
{
  if (missing(labelOptions)) 
    labelOptions <- labelOptions()
  options <- c(options, filterNULL(list(stroke = stroke, color = color, weight = weight, opacity = opacity, fill = fill, fillColor = fillColor, fillOpacity = fillOpacity, dashArray = dashArray)))
  pts <- derivePoints(data, lng, lat, missing(lng), missing(lat), "addCircles")
  invokeMethod(map, data, "addCircles", pts$lat, pts$lng, radius, layerId, group, options, popup, popupOptions, safeLabel(label, data), labelOptions, highlightOptions, getCrosstalkOptions(data)) %>% expandLimits(pts$lat, pts$lng)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addControl
list(`package:leaflet` = function (map, html, position = c("topleft", "topright", "bottomleft", "bottomright"), layerId = NULL, className = "info legend", data = getMapData(map)) 
{
  position <- match.arg(position)
  deps <- htmltools::resolveDependencies(htmltools::findDependencies(html))
  html <- as.character(html)
  map$dependencies <- c(map$dependencies, deps)
  invokeMethod(map, data, "addControl", html, position, layerId, className)
}, function (map, html, position = c("topleft", "topright", "bottomleft", "bottomright"), layerId = NULL, className = "info legend", data = getMapData(map)) 
{
  position <- match.arg(position)
  deps <- htmltools::resolveDependencies(htmltools::findDependencies(html))
  html <- as.character(html)
  map$dependencies <- c(map$dependencies, deps)
  invokeMethod(map, data, "addControl", html, position, layerId, className)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addEasyButton
list(`package:leaflet` = function (map, button) 
{
  if (!inherits(button, "leaflet_easybutton")) {
    stop("button should be created with easyButton()")
  }
  map$dependencies <- c(map$dependencies, leafletEasyButtonDependencies())
  if (is.null(button$states)) {
    if (grepl("fa-", button$icon)) 
      map$dependencies <- c(map$dependencies, leafletAmFontAwesomeDependencies())
    if (grepl("glyphicon-", button$icon)) 
      map$dependencies <- c(map$dependencies, leafletAmBootstrapDependencies())
    if (grepl("ion-", button$icon)) 
      map$dependencies <- c(map$dependencies, leafletAmIonIconDependencies())
  }
  else {
    if (any(sapply(button$states, function(x) grepl("fa-", x$icon)))) 
      map$dependencies <- c(map$dependencies, leafletAmFontAwesomeDependencies())
    if (any(sapply(button$states, function(x) grepl("glyphicon-", x$icon)))) 
      map$dependencies <- c(map$dependencies, leafletAmBootstrapDependencies())
    if (any(sapply(button$states, function(x) grepl("ion-", x$icon)))) 
      map$dependencies <- c(map$dependencies, leafletAmIonIconDependencies())
  }
  invokeMethod(map, getMapData(map), "addEasyButton", button)
}, function (map, button) 
{
  if (!inherits(button, "leaflet_easybutton")) {
    stop("button should be created with easyButton()")
  }
  map$dependencies <- c(map$dependencies, leafletEasyButtonDependencies())
  if (is.null(button$states)) {
    if (grepl("fa-", button$icon)) 
      map$dependencies <- c(map$dependencies, leafletAmFontAwesomeDependencies())
    if (grepl("glyphicon-", button$icon)) 
      map$dependencies <- c(map$dependencies, leafletAmBootstrapDependencies())
    if (grepl("ion-", button$icon)) 
      map$dependencies <- c(map$dependencies, leafletAmIonIconDependencies())
  }
  else {
    if (any(sapply(button$states, function(x) grepl("fa-", x$icon)))) 
      map$dependencies <- c(map$dependencies, leafletAmFontAwesomeDependencies())
    if (any(sapply(button$states, function(x) grepl("glyphicon-", x$icon)))) 
      map$dependencies <- c(map$dependencies, leafletAmBootstrapDependencies())
    if (any(sapply(button$states, function(x) grepl("ion-", x$icon)))) 
      map$dependencies <- c(map$dependencies, leafletAmIonIconDependencies())
  }
  invokeMethod(map, getMapData(map), "addEasyButton", button)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addEasyButtonBar
list(`package:leaflet` = function (map, ..., position = "topleft", id = NULL) 
{
  buttons <- list(...)
  if (!length(buttons) >= 1 || !all(sapply(buttons, function(x) inherits(x, "leaflet_easybutton")))) {
    stop("need buttons created with easyButton()")
  }
  map$dependencies <- c(map$dependencies, leafletEasyButtonDependencies())
  for (button in buttons) {
    if (is.null(button$states)) {
      if (grepl("fa-", button$icon)) 
        map$dependencies <- c(map$dependencies, leafletAmFontAwesomeDependencies())
      if (grepl("glyphicon-", button$icon)) 
        map$dependencies <- c(map$dependencies, leafletAmBootstrapDependencies())
      if (grepl("ion-", button$icon)) 
        map$dependencies <- c(map$dependencies, leafletAmIonIconDependencies())
    }
    else {
      if (any(sapply(button$states, function(x) grepl("fa-", x$icon)))) 
        map$dependencies <- c(map$dependencies, leafletAmFontAwesomeDependencies())
      if (any(sapply(button$states, function(x) grepl("glyphicon-", x$icon)))) 
        map$dependencies <- c(map$dependencies, leafletAmBootstrapDependencies())
      if (any(sapply(button$states, function(x) grepl("ion-", x$icon)))) 
        map$dependencies <- c(map$dependencies, leafletAmIonIconDependencies())
    }
  }
  invokeMethod(map, getMapData(map), "addEasyButtonBar", buttons, position, id)
}, function (map, ..., position = "topleft", id = NULL) 
{
  buttons <- list(...)
  if (!length(buttons) >= 1 || !all(sapply(buttons, function(x) inherits(x, "leaflet_easybutton")))) {
    stop("need buttons created with easyButton()")
  }
  map$dependencies <- c(map$dependencies, leafletEasyButtonDependencies())
  for (button in buttons) {
    if (is.null(button$states)) {
      if (grepl("fa-", button$icon)) 
        map$dependencies <- c(map$dependencies, leafletAmFontAwesomeDependencies())
      if (grepl("glyphicon-", button$icon)) 
        map$dependencies <- c(map$dependencies, leafletAmBootstrapDependencies())
      if (grepl("ion-", button$icon)) 
        map$dependencies <- c(map$dependencies, leafletAmIonIconDependencies())
    }
    else {
      if (any(sapply(button$states, function(x) grepl("fa-", x$icon)))) 
        map$dependencies <- c(map$dependencies, leafletAmFontAwesomeDependencies())
      if (any(sapply(button$states, function(x) grepl("glyphicon-", x$icon)))) 
        map$dependencies <- c(map$dependencies, leafletAmBootstrapDependencies())
      if (any(sapply(button$states, function(x) grepl("ion-", x$icon)))) 
        map$dependencies <- c(map$dependencies, leafletAmIonIconDependencies())
    }
  }
  invokeMethod(map, getMapData(map), "addEasyButtonBar", buttons, position, id)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addGeoJSON
list(`package:leaflet` = function (map, geojson, layerId = NULL, group = NULL, stroke = TRUE, color = "#03F", weight = 5, opacity = 0.5, fill = TRUE, fillColor = color, fillOpacity = 0.2, dashArray = NULL, smoothFactor = 1, noClip = FALSE, options = pathOptions(), data = getMapData(map)) 
{
  options <- c(options, filterNULL(list(stroke = stroke, color = color, weight = weight, opacity = opacity, fill = fill, fillColor = fillColor, fillOpacity = fillOpacity, dashArray = dashArray, smoothFactor = smoothFactor, noClip = noClip)))
  invokeMethod(map, data, "addGeoJSON", geojson, layerId, group, options)
}, function (map, geojson, layerId = NULL, group = NULL, stroke = TRUE, color = "#03F", weight = 5, opacity = 0.5, fill = TRUE, fillColor = color, fillOpacity = 0.2, dashArray = NULL, smoothFactor = 1, noClip = FALSE, options = pathOptions(), data = getMapData(map)) 
{
  options <- c(options, filterNULL(list(stroke = stroke, color = color, weight = weight, opacity = opacity, fill = fill, fillColor = fillColor, fillOpacity = fillOpacity, dashArray = dashArray, smoothFactor = smoothFactor, noClip = noClip)))
  invokeMethod(map, data, "addGeoJSON", geojson, layerId, group, options)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addGraticule
list(`package:leaflet` = function (map, interval = 20, sphere = FALSE, style = list(color = "#333", weight = 1), layerId = NULL, group = NULL, options = pathOptions(pointerEvents = "none", clickable = FALSE)) 
{
  map$dependencies <- c(map$dependencies, leafletGraticuleDependencies())
  invokeMethod(map, getMapData(map), "addGraticule", interval, sphere, style, layerId, group, options)
}, function (map, interval = 20, sphere = FALSE, style = list(color = "#333", weight = 1), layerId = NULL, group = NULL, options = pathOptions(pointerEvents = "none", clickable = FALSE)) 
{
  map$dependencies <- c(map$dependencies, leafletGraticuleDependencies())
  invokeMethod(map, getMapData(map), "addGraticule", interval, sphere, style, layerId, group, options)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addLabelOnlyMarkers
list(`package:leaflet` = function (map, lng = NULL, lat = NULL, layerId = NULL, group = NULL, icon = NULL, label = NULL, labelOptions = NULL, options = markerOptions(), clusterOptions = NULL, clusterId = NULL, data = getMapData(map)) 
{
  if (missing(labelOptions)) 
    labelOptions <- labelOptions()
  do.call(addMarkers, filterNULL(list(map = map, lng = lng, lat = lat, layerId = layerId, group = group, icon = makeIcon(iconUrl = system_file("htmlwidgets/lib/rstudio_leaflet/images/1px.png", package = "leaflet"), iconWidth = 1, iconHeight = 1), label = label, labelOptions = labelOptions, options = options, clusterOptions = clusterOptions, clusterId = clusterId, data = data)))
}, function (map, lng = NULL, lat = NULL, layerId = NULL, group = NULL, icon = NULL, label = NULL, labelOptions = NULL, options = markerOptions(), clusterOptions = NULL, clusterId = NULL, data = getMapData(map)) 
{
  if (missing(labelOptions)) 
    labelOptions <- labelOptions()
  do.call(addMarkers, filterNULL(list(map = map, lng = lng, lat = lat, layerId = layerId, group = group, icon = makeIcon(iconUrl = system_file("htmlwidgets/lib/rstudio_leaflet/images/1px.png", package = "leaflet"), iconWidth = 1, iconHeight = 1), label = label, labelOptions = labelOptions, options = options, clusterOptions = clusterOptions, clusterId = clusterId, data = data)))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addLayersControl
list(`package:leaflet` = function (map, baseGroups = character(0), overlayGroups = character(0), position = c("topright", "bottomright", "bottomleft", "topleft"), options = layersControlOptions(), data = getMapData(map)) 
{
  options <- c(options, list(position = match.arg(position)))
  invokeMethod(map, data, "addLayersControl", baseGroups, overlayGroups, options)
}, function (map, baseGroups = character(0), overlayGroups = character(0), position = c("topright", "bottomright", "bottomleft", "topleft"), options = layersControlOptions(), data = getMapData(map)) 
{
  options <- c(options, list(position = match.arg(position)))
  invokeMethod(map, data, "addLayersControl", baseGroups, overlayGroups, options)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addLegend
list(`package:leaflet` = function (map, position = c("topright", "bottomright", "bottomleft", "topleft"), pal, values, na.label = "NA", bins = 7, colors, opacity = 0.5, labels = NULL, labFormat = labelFormat(), title = NULL, className = "info legend", layerId = NULL, group = NULL, data = getMapData(map)) 
{
  position <- match.arg(position)
  type <- "unknown"
  na.color <- NULL
  extra <- NULL
  if (!missing(pal)) {
    if (!missing(colors)) 
      stop("You must provide either 'pal' or 'colors' (not both)")
    if (missing(title) && inherits(values, "formula")) 
      title <- deparse(values[[2]])
    values <- evalFormula(values, data)
    type <- attr(pal, "colorType", exact = TRUE)
    args <- attr(pal, "colorArgs", exact = TRUE)
    na.color <- args$na.color
    if (!is.null(na.color) && col2rgb(na.color, alpha = TRUE)[[4]] == 0) {
      na.color <- NULL
    }
    if (type != "numeric" && !missing(bins)) 
      warning("'bins' is ignored because the palette type is not numeric")
    if (type == "numeric") {
      cuts <- if (length(bins) == 1) 
        pretty(values, n = bins)
      else bins
      if (length(bins) > 2) 
        if (!all(abs(diff(bins, differences = 2)) <= sqrt(.Machine$double.eps))) 
          stop("The vector of breaks 'bins' must be equally spaced")
      n <- length(cuts)
      r <- range(values, na.rm = TRUE)
      cuts <- cuts[cuts >= r[1] & cuts <= r[2]]
      n <- length(cuts)
      p <- (cuts - r[1])/(r[2] - r[1])
      extra <- list(p_1 = p[1], p_n = p[n])
      p <- c("", paste0(100 * p, "%"), "")
      colors <- pal(c(r[1], cuts, r[2]))
      colors <- paste(colors, p, sep = " ", collapse = ", ")
      labels <- labFormat(type = "numeric", cuts)
    }
    else if (type == "bin") {
      cuts <- args$bins
      n <- length(cuts)
      mids <- (cuts[-1] + cuts[-n])/2
      colors <- pal(mids)
      labels <- labFormat(type = "bin", cuts)
    }
    else if (type == "quantile") {
      p <- args$probs
      n <- length(p)
      cuts <- quantile(values, probs = p, na.rm = TRUE)
      mids <- quantile(values, probs = (p[-1] + p[-n])/2, na.rm = TRUE)
      colors <- pal(mids)
      labels <- labFormat(type = "quantile", cuts, p)
    }
    else if (type == "factor") {
      v <- sort(unique(na.omit(values)))
      colors <- pal(v)
      labels <- labFormat(type = "factor", v)
    }
    else stop("Palette function not supported")
    if (!any(is.na(values))) 
      na.color <- NULL
  }
  else {
    if (length(colors) != length(labels)) 
      stop("'colors' and 'labels' must be of the same length")
  }
  legend <- list(colors = I(unname(colors)), labels = I(unname(labels)), na_color = na.color, na_label = na.label, opacity = opacity, position = position, type = type, title = title, extra = extra, layerId = layerId, className = className, group = group)
  invokeMethod(map, data, "addLegend", legend)
}, function (map, position = c("topright", "bottomright", "bottomleft", "topleft"), pal, values, na.label = "NA", bins = 7, colors, opacity = 0.5, labels = NULL, labFormat = labelFormat(), title = NULL, className = "info legend", layerId = NULL, group = NULL, data = getMapData(map)) 
{
  position <- match.arg(position)
  type <- "unknown"
  na.color <- NULL
  extra <- NULL
  if (!missing(pal)) {
    if (!missing(colors)) 
      stop("You must provide either 'pal' or 'colors' (not both)")
    if (missing(title) && inherits(values, "formula")) 
      title <- deparse(values[[2]])
    values <- evalFormula(values, data)
    type <- attr(pal, "colorType", exact = TRUE)
    args <- attr(pal, "colorArgs", exact = TRUE)
    na.color <- args$na.color
    if (!is.null(na.color) && col2rgb(na.color, alpha = TRUE)[[4]] == 0) {
      na.color <- NULL
    }
    if (type != "numeric" && !missing(bins)) 
      warning("'bins' is ignored because the palette type is not numeric")
    if (type == "numeric") {
      cuts <- if (length(bins) == 1) 
        pretty(values, n = bins)
      else bins
      if (length(bins) > 2) 
        if (!all(abs(diff(bins, differences = 2)) <= sqrt(.Machine$double.eps))) 
          stop("The vector of breaks 'bins' must be equally spaced")
      n <- length(cuts)
      r <- range(values, na.rm = TRUE)
      cuts <- cuts[cuts >= r[1] & cuts <= r[2]]
      n <- length(cuts)
      p <- (cuts - r[1])/(r[2] - r[1])
      extra <- list(p_1 = p[1], p_n = p[n])
      p <- c("", paste0(100 * p, "%"), "")
      colors <- pal(c(r[1], cuts, r[2]))
      colors <- paste(colors, p, sep = " ", collapse = ", ")
      labels <- labFormat(type = "numeric", cuts)
    }
    else if (type == "bin") {
      cuts <- args$bins
      n <- length(cuts)
      mids <- (cuts[-1] + cuts[-n])/2
      colors <- pal(mids)
      labels <- labFormat(type = "bin", cuts)
    }
    else if (type == "quantile") {
      p <- args$probs
      n <- length(p)
      cuts <- quantile(values, probs = p, na.rm = TRUE)
      mids <- quantile(values, probs = (p[-1] + p[-n])/2, na.rm = TRUE)
      colors <- pal(mids)
      labels <- labFormat(type = "quantile", cuts, p)
    }
    else if (type == "factor") {
      v <- sort(unique(na.omit(values)))
      colors <- pal(v)
      labels <- labFormat(type = "factor", v)
    }
    else stop("Palette function not supported")
    if (!any(is.na(values))) 
      na.color <- NULL
  }
  else {
    if (length(colors) != length(labels)) 
      stop("'colors' and 'labels' must be of the same length")
  }
  legend <- list(colors = I(unname(colors)), labels = I(unname(labels)), na_color = na.color, na_label = na.label, opacity = opacity, position = position, type = type, title = title, extra = extra, layerId = layerId, className = className, group = group)
  invokeMethod(map, data, "addLegend", legend)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addMapPane
list(`package:leaflet` = function (map, name, zIndex) 
{
  invokeMethod(map, getMapData(map), "createMapPane", name, zIndex)
}, function (map, name, zIndex) 
{
  invokeMethod(map, getMapData(map), "createMapPane", name, zIndex)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addMarkers
list(`package:leaflet` = function (map, lng = NULL, lat = NULL, layerId = NULL, group = NULL, icon = NULL, popup = NULL, popupOptions = NULL, label = NULL, labelOptions = NULL, options = markerOptions(), clusterOptions = NULL, clusterId = NULL, data = getMapData(map)) 
{
  if (missing(labelOptions)) 
    labelOptions <- labelOptions()
  if (!is.null(icon)) {
    icon <- evalFormula(list(icon), data)[[1]]
    if (inherits(icon, "leaflet_icon_set")) {
      icon <- iconSetToIcons(icon)
    }
    icon$iconUrl <- b64EncodePackedIcons(packStrings(icon$iconUrl))
    icon$iconRetinaUrl <- b64EncodePackedIcons(packStrings(icon$iconRetinaUrl))
    icon$shadowUrl <- b64EncodePackedIcons(packStrings(icon$shadowUrl))
    icon$shadowRetinaUrl <- b64EncodePackedIcons(packStrings(icon$shadowRetinaUrl))
    if (length(icon$iconSize) == 2) {
      if (is.numeric(icon$iconSize[[1]]) && is.numeric(icon$iconSize[[2]])) {
        icon$iconSize <- list(icon$iconSize)
      }
    }
    icon <- filterNULL(icon)
  }
  if (!is.null(clusterOptions)) 
    map$dependencies <- c(map$dependencies, markerClusterDependencies())
  pts <- derivePoints(data, lng, lat, missing(lng), missing(lat), "addMarkers")
  invokeMethod(map, data, "addMarkers", pts$lat, pts$lng, icon, layerId, group, options, popup, popupOptions, clusterOptions, clusterId, safeLabel(label, data), labelOptions, getCrosstalkOptions(data)) %>% expandLimits(pts$lat, pts$lng)
}, function (map, lng = NULL, lat = NULL, layerId = NULL, group = NULL, icon = NULL, popup = NULL, popupOptions = NULL, label = NULL, labelOptions = NULL, options = markerOptions(), clusterOptions = NULL, clusterId = NULL, data = getMapData(map)) 
{
  if (missing(labelOptions)) 
    labelOptions <- labelOptions()
  if (!is.null(icon)) {
    icon <- evalFormula(list(icon), data)[[1]]
    if (inherits(icon, "leaflet_icon_set")) {
      icon <- iconSetToIcons(icon)
    }
    icon$iconUrl <- b64EncodePackedIcons(packStrings(icon$iconUrl))
    icon$iconRetinaUrl <- b64EncodePackedIcons(packStrings(icon$iconRetinaUrl))
    icon$shadowUrl <- b64EncodePackedIcons(packStrings(icon$shadowUrl))
    icon$shadowRetinaUrl <- b64EncodePackedIcons(packStrings(icon$shadowRetinaUrl))
    if (length(icon$iconSize) == 2) {
      if (is.numeric(icon$iconSize[[1]]) && is.numeric(icon$iconSize[[2]])) {
        icon$iconSize <- list(icon$iconSize)
      }
    }
    icon <- filterNULL(icon)
  }
  if (!is.null(clusterOptions)) 
    map$dependencies <- c(map$dependencies, markerClusterDependencies())
  pts <- derivePoints(data, lng, lat, missing(lng), missing(lat), "addMarkers")
  invokeMethod(map, data, "addMarkers", pts$lat, pts$lng, icon, layerId, group, options, popup, popupOptions, clusterOptions, clusterId, safeLabel(label, data), labelOptions, getCrosstalkOptions(data)) %>% expandLimits(pts$lat, pts$lng)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addMeasure
list(`package:leaflet` = function (map, position = "topright", primaryLengthUnit = "feet", secondaryLengthUnit = NULL, primaryAreaUnit = "acres", secondaryAreaUnit = NULL, activeColor = "#ABE67E", completedColor = "#C8F2BE", popupOptions = list(className = "leaflet-measure-resultpopup", autoPanPadding = c(10, 10)), captureZIndex = 10000, localization = "en", decPoint = ".", thousandsSep = ",") 
{
  map$dependencies <- c(map$dependencies, leafletMeasureDependencies())
  invokeMethod(map, getMapData(map), "addMeasure", Filter(Negate(is.null), list(position = position, primaryLengthUnit = primaryLengthUnit, secondaryLengthUnit = secondaryLengthUnit, primaryAreaUnit = primaryAreaUnit, secondaryAreaUnit = secondaryAreaUnit, activeColor = activeColor, completedColor = completedColor, popupOptions = popupOptions, captureZIndex = captureZIndex, localization = localization, decPoint = decPoint, thousandsSep = thousandsSep)))
}, function (map, position = "topright", primaryLengthUnit = "feet", secondaryLengthUnit = NULL, primaryAreaUnit = "acres", secondaryAreaUnit = NULL, activeColor = "#ABE67E", completedColor = "#C8F2BE", popupOptions = list(className = "leaflet-measure-resultpopup", autoPanPadding = c(10, 10)), captureZIndex = 10000, localization = "en", decPoint = ".", thousandsSep = ",") 
{
  map$dependencies <- c(map$dependencies, leafletMeasureDependencies())
  invokeMethod(map, getMapData(map), "addMeasure", Filter(Negate(is.null), list(position = position, primaryLengthUnit = primaryLengthUnit, secondaryLengthUnit = secondaryLengthUnit, primaryAreaUnit = primaryAreaUnit, secondaryAreaUnit = secondaryAreaUnit, activeColor = activeColor, completedColor = completedColor, popupOptions = popupOptions, captureZIndex = captureZIndex, localization = localization, decPoint = decPoint, thousandsSep = thousandsSep)))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addMiniMap
list(`package:leaflet` = function (map, position = "bottomright", width = 150, height = 150, collapsedWidth = 19, collapsedHeight = 19, zoomLevelOffset = -5, zoomLevelFixed = FALSE, centerFixed = FALSE, zoomAnimation = FALSE, toggleDisplay = FALSE, autoToggleDisplay = FALSE, minimized = FALSE, aimingRectOptions = list(color = "#ff7800", weight = 1, clickable = FALSE), shadowRectOptions = list(color = "#000000", weight = 1, clickable = FALSE, opacity = 0, fillOpacity = 0), strings = list(hideText = "Hide MiniMap", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            showText = "Show MiniMap"), tiles = NULL, mapOptions = list()) 
{
  tilesURL <- NULL
  tilesProvider <- NULL
  if (!is.null(tiles)) {
    if (tiles %in% providers) {
      map$dependencies <- c(map$dependencies, leafletProviderDependencies())
      tilesProvider <- tiles
    }
    else {
      tilesURL <- tiles
    }
  }
  map$dependencies <- c(map$dependencies, leafletMiniMapDependencies())
  invokeMethod(map, getMapData(map), "addMiniMap", tilesURL, tilesProvider, position, width, height, collapsedWidth, collapsedHeight, zoomLevelOffset, zoomLevelFixed, centerFixed, zoomAnimation, toggleDisplay, autoToggleDisplay, minimized, aimingRectOptions, shadowRectOptions, strings, mapOptions)
}, function (map, position = "bottomright", width = 150, height = 150, collapsedWidth = 19, collapsedHeight = 19, zoomLevelOffset = -5, zoomLevelFixed = FALSE, centerFixed = FALSE, zoomAnimation = FALSE, toggleDisplay = FALSE, autoToggleDisplay = FALSE, minimized = FALSE, aimingRectOptions = list(color = "#ff7800", weight = 1, clickable = FALSE), shadowRectOptions = list(color = "#000000", weight = 1, clickable = FALSE, opacity = 0, fillOpacity = 0), strings = list(hideText = "Hide MiniMap", showText = "Show MiniMap"), 
             tiles = NULL, mapOptions = list()) 
{
  tilesURL <- NULL
  tilesProvider <- NULL
  if (!is.null(tiles)) {
    if (tiles %in% providers) {
      map$dependencies <- c(map$dependencies, leafletProviderDependencies())
      tilesProvider <- tiles
    }
    else {
      tilesURL <- tiles
    }
  }
  map$dependencies <- c(map$dependencies, leafletMiniMapDependencies())
  invokeMethod(map, getMapData(map), "addMiniMap", tilesURL, tilesProvider, position, width, height, collapsedWidth, collapsedHeight, zoomLevelOffset, zoomLevelFixed, centerFixed, zoomAnimation, toggleDisplay, autoToggleDisplay, minimized, aimingRectOptions, shadowRectOptions, strings, mapOptions)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addPolygons
list(`package:leaflet` = function (map, lng = NULL, lat = NULL, layerId = NULL, group = NULL, stroke = TRUE, color = "#03F", weight = 5, opacity = 0.5, fill = TRUE, fillColor = color, fillOpacity = 0.2, dashArray = NULL, smoothFactor = 1, noClip = FALSE, popup = NULL, popupOptions = NULL, label = NULL, labelOptions = NULL, options = pathOptions(), highlightOptions = NULL, data = getMapData(map)) 
{
  if (missing(labelOptions)) 
    labelOptions <- labelOptions()
  options <- c(options, filterNULL(list(stroke = stroke, color = color, weight = weight, opacity = opacity, fill = fill, fillColor = fillColor, fillOpacity = fillOpacity, dashArray = dashArray, smoothFactor = smoothFactor, noClip = noClip)))
  pgons <- derivePolygons(data, lng, lat, missing(lng), missing(lat), "addPolygons")
  invokeMethod(map, data, "addPolygons", pgons, layerId, group, options, popup, popupOptions, safeLabel(label, data), labelOptions, highlightOptions) %>% expandLimitsBbox(pgons)
}, function (map, lng = NULL, lat = NULL, layerId = NULL, group = NULL, stroke = TRUE, color = "#03F", weight = 5, opacity = 0.5, fill = TRUE, fillColor = color, fillOpacity = 0.2, dashArray = NULL, smoothFactor = 1, noClip = FALSE, popup = NULL, popupOptions = NULL, label = NULL, labelOptions = NULL, options = pathOptions(), highlightOptions = NULL, data = getMapData(map)) 
{
  if (missing(labelOptions)) 
    labelOptions <- labelOptions()
  options <- c(options, filterNULL(list(stroke = stroke, color = color, weight = weight, opacity = opacity, fill = fill, fillColor = fillColor, fillOpacity = fillOpacity, dashArray = dashArray, smoothFactor = smoothFactor, noClip = noClip)))
  pgons <- derivePolygons(data, lng, lat, missing(lng), missing(lat), "addPolygons")
  invokeMethod(map, data, "addPolygons", pgons, layerId, group, options, popup, popupOptions, safeLabel(label, data), labelOptions, highlightOptions) %>% expandLimitsBbox(pgons)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addPolylines
list(`package:leaflet` = function (map, lng = NULL, lat = NULL, layerId = NULL, group = NULL, stroke = TRUE, color = "#03F", weight = 5, opacity = 0.5, fill = FALSE, fillColor = color, fillOpacity = 0.2, dashArray = NULL, smoothFactor = 1, noClip = FALSE, popup = NULL, popupOptions = NULL, label = NULL, labelOptions = NULL, options = pathOptions(), highlightOptions = NULL, data = getMapData(map)) 
{
  if (missing(labelOptions)) 
    labelOptions <- labelOptions()
  options <- c(options, filterNULL(list(stroke = stroke, color = color, weight = weight, opacity = opacity, fill = fill, fillColor = fillColor, fillOpacity = fillOpacity, dashArray = dashArray, smoothFactor = smoothFactor, noClip = noClip)))
  pgons <- derivePolygons(data, lng, lat, missing(lng), missing(lat), "addPolylines")
  invokeMethod(map, data, "addPolylines", pgons, layerId, group, options, popup, popupOptions, safeLabel(label, data), labelOptions, highlightOptions) %>% expandLimitsBbox(pgons)
}, function (map, lng = NULL, lat = NULL, layerId = NULL, group = NULL, stroke = TRUE, color = "#03F", weight = 5, opacity = 0.5, fill = FALSE, fillColor = color, fillOpacity = 0.2, dashArray = NULL, smoothFactor = 1, noClip = FALSE, popup = NULL, popupOptions = NULL, label = NULL, labelOptions = NULL, options = pathOptions(), highlightOptions = NULL, data = getMapData(map)) 
{
  if (missing(labelOptions)) 
    labelOptions <- labelOptions()
  options <- c(options, filterNULL(list(stroke = stroke, color = color, weight = weight, opacity = opacity, fill = fill, fillColor = fillColor, fillOpacity = fillOpacity, dashArray = dashArray, smoothFactor = smoothFactor, noClip = noClip)))
  pgons <- derivePolygons(data, lng, lat, missing(lng), missing(lat), "addPolylines")
  invokeMethod(map, data, "addPolylines", pgons, layerId, group, options, popup, popupOptions, safeLabel(label, data), labelOptions, highlightOptions) %>% expandLimitsBbox(pgons)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addPopups
list(`package:leaflet` = function (map, lng = NULL, lat = NULL, popup, layerId = NULL, group = NULL, options = popupOptions(), data = getMapData(map)) 
{
  pts <- derivePoints(data, lng, lat, missing(lng), missing(lat), "addPopups")
  invokeMethod(map, data, "addPopups", pts$lat, pts$lng, popup, layerId, group, options) %>% expandLimits(pts$lat, pts$lng)
}, function (map, lng = NULL, lat = NULL, popup, layerId = NULL, group = NULL, options = popupOptions(), data = getMapData(map)) 
{
  pts <- derivePoints(data, lng, lat, missing(lng), missing(lat), "addPopups")
  invokeMethod(map, data, "addPopups", pts$lat, pts$lng, popup, layerId, group, options) %>% expandLimits(pts$lat, pts$lng)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addProviderTiles
list(`package:leaflet` = function (map, provider, layerId = NULL, group = NULL, options = providerTileOptions()) 
{
  map$dependencies <- c(map$dependencies, leafletProviderDependencies())
  invokeMethod(map, getMapData(map), "addProviderTiles", provider, layerId, group, options)
}, function (map, provider, layerId = NULL, group = NULL, options = providerTileOptions()) 
{
  map$dependencies <- c(map$dependencies, leafletProviderDependencies())
  invokeMethod(map, getMapData(map), "addProviderTiles", provider, layerId, group, options)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addRasterImage
list(`package:leaflet` = function (map, x, colors = if (raster::is.factor(x)) "Set1" else "Spectral", opacity = 1, attribution = NULL, layerId = NULL, group = NULL, project = TRUE, method = c("auto", "bilinear", "ngb"), maxBytes = 4 * 1024 * 1024, data = getMapData(map)) 
{
  stopifnot(inherits(x, "RasterLayer"))
  raster_is_factor <- raster::is.factor(x)
  method <- match.arg(method)
  if (method == "auto") {
    if (raster_is_factor) {
      method <- "ngb"
    }
    else {
      method <- "bilinear"
    }
  }
  if (project) {
    projected <- projectRasterForLeaflet(x, method)
    if (raster_is_factor) {
      projected <- raster::as.factor(projected)
    }
  }
  else {
    projected <- x
  }
  bounds <- raster::extent(raster::projectExtent(raster::projectExtent(x, crs = sp::CRS(epsg3857)), crs = sp::CRS(epsg4326)))
  if (!is.function(colors)) {
    if (method == "ngb") {
      colors <- colorFactor(colors, domain = NULL, na.color = "#00000000", alpha = TRUE)
    }
    else {
      colors <- colorNumeric(colors, domain = NULL, na.color = "#00000000", alpha = TRUE)
    }
  }
  tileData <- raster::values(projected) %>% colors() %>% col2rgb(alpha = TRUE) %>% as.raw()
  dim(tileData) <- c(4, ncol(projected), nrow(projected))
  pngData <- png::writePNG(tileData)
  if (length(pngData) > maxBytes) {
    stop("Raster image too large; ", length(pngData), " bytes is greater than maximum ", maxBytes, " bytes")
  }
  encoded <- base64enc::base64encode(pngData)
  uri <- paste0("data:image/png;base64,", encoded)
  latlng <- list(list(raster::ymax(bounds), raster::xmin(bounds)), list(raster::ymin(bounds), raster::xmax(bounds)))
  invokeMethod(map, data, "addRasterImage", uri, latlng, opacity, attribution, layerId, group) %>% expandLimits(c(raster::ymin(bounds), raster::ymax(bounds)), c(raster::xmin(bounds), raster::xmax(bounds)))
}, function (map, x, colors = if (raster::is.factor(x)) "Set1" else "Spectral", opacity = 1, attribution = NULL, layerId = NULL, group = NULL, project = TRUE, method = c("auto", "bilinear", "ngb"), maxBytes = 4 * 1024 * 1024, data = getMapData(map)) 
{
  stopifnot(inherits(x, "RasterLayer"))
  raster_is_factor <- raster::is.factor(x)
  method <- match.arg(method)
  if (method == "auto") {
    if (raster_is_factor) {
      method <- "ngb"
    }
    else {
      method <- "bilinear"
    }
  }
  if (project) {
    projected <- projectRasterForLeaflet(x, method)
    if (raster_is_factor) {
      projected <- raster::as.factor(projected)
    }
  }
  else {
    projected <- x
  }
  bounds <- raster::extent(raster::projectExtent(raster::projectExtent(x, crs = sp::CRS(epsg3857)), crs = sp::CRS(epsg4326)))
  if (!is.function(colors)) {
    if (method == "ngb") {
      colors <- colorFactor(colors, domain = NULL, na.color = "#00000000", alpha = TRUE)
    }
    else {
      colors <- colorNumeric(colors, domain = NULL, na.color = "#00000000", alpha = TRUE)
    }
  }
  tileData <- raster::values(projected) %>% colors() %>% col2rgb(alpha = TRUE) %>% as.raw()
  dim(tileData) <- c(4, ncol(projected), nrow(projected))
  pngData <- png::writePNG(tileData)
  if (length(pngData) > maxBytes) {
    stop("Raster image too large; ", length(pngData), " bytes is greater than maximum ", maxBytes, " bytes")
  }
  encoded <- base64enc::base64encode(pngData)
  uri <- paste0("data:image/png;base64,", encoded)
  latlng <- list(list(raster::ymax(bounds), raster::xmin(bounds)), list(raster::ymin(bounds), raster::xmax(bounds)))
  invokeMethod(map, data, "addRasterImage", uri, latlng, opacity, attribution, layerId, group) %>% expandLimits(c(raster::ymin(bounds), raster::ymax(bounds)), c(raster::xmin(bounds), raster::xmax(bounds)))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addRectangles
list(`package:leaflet` = function (map, lng1, lat1, lng2, lat2, layerId = NULL, group = NULL, stroke = TRUE, color = "#03F", weight = 5, opacity = 0.5, fill = TRUE, fillColor = color, fillOpacity = 0.2, dashArray = NULL, smoothFactor = 1, noClip = FALSE, popup = NULL, popupOptions = NULL, label = NULL, labelOptions = NULL, options = pathOptions(), highlightOptions = NULL, data = getMapData(map)) 
{
  if (missing(labelOptions)) 
    labelOptions <- labelOptions()
  options <- c(options, filterNULL(list(stroke = stroke, color = color, weight = weight, opacity = opacity, fill = fill, fillColor = fillColor, fillOpacity = fillOpacity, dashArray = dashArray, smoothFactor = smoothFactor, noClip = noClip)))
  lng1 <- resolveFormula(lng1, data)
  lat1 <- resolveFormula(lat1, data)
  lng2 <- resolveFormula(lng2, data)
  lat2 <- resolveFormula(lat2, data)
  df1 <- validateCoords(lng1, lat1, "addRectangles")
  df2 <- validateCoords(lng2, lat2, "addRectangles")
  invokeMethod(map, data, "addRectangles", df1$lat, df1$lng, df2$lat, df2$lng, layerId, group, options, popup, popupOptions, safeLabel(label, data), labelOptions, highlightOptions) %>% expandLimits(c(lat1, lat2), c(lng1, lng2))
}, function (map, lng1, lat1, lng2, lat2, layerId = NULL, group = NULL, stroke = TRUE, color = "#03F", weight = 5, opacity = 0.5, fill = TRUE, fillColor = color, fillOpacity = 0.2, dashArray = NULL, smoothFactor = 1, noClip = FALSE, popup = NULL, popupOptions = NULL, label = NULL, labelOptions = NULL, options = pathOptions(), highlightOptions = NULL, data = getMapData(map)) 
{
  if (missing(labelOptions)) 
    labelOptions <- labelOptions()
  options <- c(options, filterNULL(list(stroke = stroke, color = color, weight = weight, opacity = opacity, fill = fill, fillColor = fillColor, fillOpacity = fillOpacity, dashArray = dashArray, smoothFactor = smoothFactor, noClip = noClip)))
  lng1 <- resolveFormula(lng1, data)
  lat1 <- resolveFormula(lat1, data)
  lng2 <- resolveFormula(lng2, data)
  lat2 <- resolveFormula(lat2, data)
  df1 <- validateCoords(lng1, lat1, "addRectangles")
  df2 <- validateCoords(lng2, lat2, "addRectangles")
  invokeMethod(map, data, "addRectangles", df1$lat, df1$lng, df2$lat, df2$lng, layerId, group, options, popup, popupOptions, safeLabel(label, data), labelOptions, highlightOptions) %>% expandLimits(c(lat1, lat2), c(lng1, lng2))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addScaleBar
list(`package:leaflet` = function (map, position = c("topright", "bottomright", "bottomleft", "topleft"), options = scaleBarOptions()) 
{
  options <- c(options, list(position = match.arg(position)))
  invokeMethod(map, getMapData(map), "addScaleBar", options)
}, function (map, position = c("topright", "bottomright", "bottomleft", "topleft"), options = scaleBarOptions()) 
{
  options <- c(options, list(position = match.arg(position)))
  invokeMethod(map, getMapData(map), "addScaleBar", options)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addSimpleGraticule
list(`package:leaflet` = function (map, interval = 20, showOriginLabel = TRUE, redraw = "move", hidden = FALSE, zoomIntervals = list(), layerId = NULL, group = NULL) 
{
  map$dependencies <- c(map$dependencies, leafletSimpleGraticuleDependencies())
  invokeMethod(map, getMapData(map), "addSimpleGraticule", interval, showOriginLabel, redraw, hidden, zoomIntervals, layerId, group)
}, function (map, interval = 20, showOriginLabel = TRUE, redraw = "move", hidden = FALSE, zoomIntervals = list(), layerId = NULL, group = NULL) 
{
  map$dependencies <- c(map$dependencies, leafletSimpleGraticuleDependencies())
  invokeMethod(map, getMapData(map), "addSimpleGraticule", interval, showOriginLabel, redraw, hidden, zoomIntervals, layerId, group)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addTerminator
list(`package:leaflet` = function (map, resolution = 2, time = NULL, layerId = NULL, group = NULL, options = pathOptions(pointerEvents = "none", clickable = FALSE)) 
{
  map$dependencies <- c(map$dependencies, leafletTerminatorDependencies())
  invokeMethod(map, getMapData(map), "addTerminator", resolution, time, layerId, group, options)
}, function (map, resolution = 2, time = NULL, layerId = NULL, group = NULL, options = pathOptions(pointerEvents = "none", clickable = FALSE)) 
{
  map$dependencies <- c(map$dependencies, leafletTerminatorDependencies())
  invokeMethod(map, getMapData(map), "addTerminator", resolution, time, layerId, group, options)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addTiles
list(`package:leaflet` = function (map, urlTemplate = "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", attribution = NULL, layerId = NULL, group = NULL, options = tileOptions(), data = getMapData(map)) 
{
  options$attribution <- attribution
  if (missing(urlTemplate) && is.null(options$attribution)) 
    options$attribution <- paste("&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap</a>", "contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>")
  invokeMethod(map, data, "addTiles", urlTemplate, layerId, group, options)
}, function (map, urlTemplate = "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", attribution = NULL, layerId = NULL, group = NULL, options = tileOptions(), data = getMapData(map)) 
{
  options$attribution <- attribution
  if (missing(urlTemplate) && is.null(options$attribution)) 
    options$attribution <- paste("&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap</a>", "contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>")
  invokeMethod(map, data, "addTiles", urlTemplate, layerId, group, options)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addTopoJSON
list(`package:leaflet` = function (map, topojson, layerId = NULL, group = NULL, stroke = TRUE, color = "#03F", weight = 5, opacity = 0.5, fill = TRUE, fillColor = color, fillOpacity = 0.2, dashArray = NULL, smoothFactor = 1, noClip = FALSE, options = pathOptions()) 
{
  map$dependencies <- c(map$dependencies, leafletOmnivoreDependencies())
  options <- c(options, list(stroke = stroke, color = color, weight = weight, opacity = opacity, fill = fill, fillColor = fillColor, fillOpacity = fillOpacity, dashArray = dashArray, smoothFactor = smoothFactor, noClip = noClip))
  invokeMethod(map, getMapData(map), "addTopoJSON", topojson, layerId, group, options)
}, function (map, topojson, layerId = NULL, group = NULL, stroke = TRUE, color = "#03F", weight = 5, opacity = 0.5, fill = TRUE, fillColor = color, fillOpacity = 0.2, dashArray = NULL, smoothFactor = 1, noClip = FALSE, options = pathOptions()) 
{
  map$dependencies <- c(map$dependencies, leafletOmnivoreDependencies())
  options <- c(options, list(stroke = stroke, color = color, weight = weight, opacity = opacity, fill = fill, fillColor = fillColor, fillOpacity = fillOpacity, dashArray = dashArray, smoothFactor = smoothFactor, noClip = noClip))
  invokeMethod(map, getMapData(map), "addTopoJSON", topojson, layerId, group, options)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
addWMSTiles
list(`package:leaflet` = function (map, baseUrl, layerId = NULL, group = NULL, options = WMSTileOptions(), attribution = NULL, layers = "", data = getMapData(map)) 
{
  if (identical(layers, "")) {
    stop("layers is a required argument with comma-separated list of WMS layers to show")
  }
  options$attribution <- attribution
  options$layers <- layers
  invokeMethod(map, data, "addWMSTiles", baseUrl, layerId, group, options)
}, function (map, baseUrl, layerId = NULL, group = NULL, options = WMSTileOptions(), attribution = NULL, layers = "", data = getMapData(map)) 
{
  if (identical(layers, "")) {
    stop("layers is a required argument with comma-separated list of WMS layers to show")
  }
  options$attribution <- attribution
  options$layers <- layers
  invokeMethod(map, data, "addWMSTiles", baseUrl, layerId, group, options)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
atlStorms2005
list(`package:leaflet` = new("SpatialLinesDataFrame", data = list(Name = 1:24, MaxWind = c(45, 60, 35, 65, 60, 130, 140, 75, 60, 45, 40, 55, 90, 50, 150, 35, 100, 80, 75, 70, 155, 30, 40, 160), MinPress = c(998, 989, 1002, 991, 980, 930, 929, 981, 997, 1002, 1005, 994, 970, 998, 902, 1006, 962, 979, 976, 985, 895, 1008, 1005, 882)), lines = list(new("Lines", Lines = list(new("Line", coords = c(-67.5, -68.5, -69.6, -70.5, -71.3, -72.2, -72.7, -72.9, -73, -72.4, -70.8, 15.8, 16.5, 17.3, 17.8, 18.3, 
                                                                                                                                                                                                                                                                                                                                                                                                             18.6, 19.8, 21.6, 23.5, 25.1, 27.9))), ID = "1"), new("Lines", Lines = list(new("Line", coords = c(-84, -83.9, -83.9, -84, -84.1, -84.2, -84.4, -84.5, -84.7, -85.1, -85.6, -85.6, -86.8, -87.2, -87.5, -87.5, -87.6, -87.7, -88, -87.8, -87.5, -86, -85, -84, -81.1, -77.6, 16.9, 17.4, 18.2, 19, 19.7, 20.4, 21.2, 21.8, 23, 24.9, 26.5, 26.5, 27.7, 28.9, 30.1, 30.3, 31.4, 32.7, 35, 37, 38.5, 40.5, 42, 43, 43.7, 44.8))), ID = "2"), new("Lines", Lines = list(new("Line", coords = c(-95.4, -95.7, -95.8, -96.4, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         -97.3, -98.1, -98.5, 19.7, 19.9, 20, 20.4, 20.8, 21.4, 22))), ID = "3"), new("Lines", Lines = list(new("Line", coords = c(-86.7, -87.2, -87.6, -87.9, -88.5, -89, -89.7, -90.2, -90.4, -90.5, -90.3, -90.1, -90, -89.5, -88.9, -88.1, -87.2, -86.2, -84.1, -81.8, -80, -78.3, -76.7, -74.8, -72, -70.7, -69.8, -69.6, -69.8, -70, -67.6, -66.4, -64.5, -62.5, 18.3, 18.6, 19, 19.3, 20.9, 22.3, 23.9, 25.1, 26.4, 27.6, 28.5, 29.2, 29.6, 30.2, 30.8, 31.6, 32.4, 33.2, 34.6, 35.6, 37.1, 37.8, 38.4, 39.1, 39.5, 40.8, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   41.6, 43.5, 44.9, 45.5, 46.5, 48, 48.5, 48.5))), ID = "4"), new("Lines", Lines = list(new("Line", coords = c(-48, -47.5, -46.7, -45.9, -44.8, -43.5, -42.2, -41.1, -40.1, -39.6, -40.1, -39.9, -39.8, -40.5, -40.9, -41.3, -41.2, -40.8, -40.2, -39.6, -39, -38.9, -39, -39.3, -39.6, -39.8, -39.8, -39.4, -38.4, -37.3, -35.8, -34, -31.9, -29.9, -27.5, -24.8, -21.6, -18.2, -14.6, -10.9, -6.6, -1, 27, 26.7, 26.7, 27.2, 27.7, 28, 28.3, 29, 29.9, 30.9, 31.5, 31.4, 31.2, 30.7, 29.9, 28.8, 27.4, 26.4, 25.5, 25, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                24.8, 24.6, 24.1, 23.8, 23.3, 22.8, 22.3, 21.8, 22, 22.6, 23.5, 24.8, 26.7, 28.3, 29.1, 29.9, 30.2, 30.2, 30.2, 30.7, 32.6, 35.3))), ID = "5"), new("Lines", Lines = list(new("Line", coords = c(-60.8, -61.6, -62.5, -64.2, -65.9, -67.3, -68.5, -69.7, -70.9, -71.9, -73, -74.1, -74.9, -76.1, -77.1, -77.6, -78.4, -79.5, -80.6, -80.7, -81.6, -82.5, -83.4, -84.2, -85, -85.8, -86.3, -86.9, -87.1, -87.7, -88.5, -88.8, -89.1, -89.2, -89, -88.7, -88.3, -87.8, -87.2, -86.5, -85.8, -85.7, -85.6, -85.6, -85.6, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 -85.8, -86.2, -86.4, -86.6, -86.8, -86.5, -86.2, -85.2, -84.1, -83.2, -82.3, -81.4, -80.5, -79.8, 12, 12.1, 12.2, 12.5, 13, 13.6, 14.3, 14.7, 15.1, 15.6, 16.2, 16.7, 17.6, 18.5, 19.4, 19.9, 20.3, 20.9, 22, 22.1, 22.7, 23.4, 24.3, 25.2, 26.1, 27.2, 28.5, 29.9, 30.4, 31.5, 32.6, 33.9, 35.3, 36.4, 37.1, 37.7, 38.1, 38.5, 38.9, 39.2, 39.2, 39.2, 39, 38.7, 38.4, 38.1, 37.9, 38.1, 38.4, 38.6, 39.4, 40.2, 40.8, 41.3, 42.2, 43.1, 43.9, 44.6, 45.8))), ID = "6"), new("Lines", Lines = list(new("Line", coords = c(-42.4, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            -43.4, -44.4, -45.4, -46.8, -48.5, -50.2, -52, -53.7, -55.4, -57.2, -58.9, -60.2, -61.5, -61.8, -63.2, -64.9, -66.7, -68.4, -70.1, -71.8, -73.4, -75, -76.5, -78, -79.5, -81.2, -82.8, -84.3, -85.8, -87.3, -87.4, -88.9, -90.3, -91.5, -92.8, -94, -95.1, -96.1, -96.9, -97.6, -98.7, -99.7, -100.5, -101.1, 10.7, 10.8, 10.9, 11, 11, 11, 11, 11, 11, 11.1, 11.2, 11.4, 11.6, 11.9, 12, 12.4, 12.9, 13.3, 13.7, 14.1, 14.5, 14.9, 15.4, 15.9, 16.4, 17.1, 17.7, 18.3, 18.9, 19.5, 20.3, 20.3, 21.3, 22, 22.6, 23.2, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            23.7, 24.1, 24.4, 24.6, 24.8, 25, 25, 25, 25))), ID = "7"), new("Lines", Lines = list(new("Line", coords = c(-49.2, -50, -50.8, -51.5, -52.5, -53.5, -54.2, -53.8, -52.7, -51.9, -51.3, -50.6, -49.8, -48.9, -47.9, -47.1, -46.2, -45, -43.7, -42.3, -41.1, -39.8, -38.8, -37.8, -36.7, -35.5, -34.6, -33.8, -33.7, -33.7, -34.2, -34.9, -36, -37.1, -38.1, -38.8, -39.3, -40, -40.5, -40.6, -40.4, -40.1, -39.2, 31.5, 31.6, 31.4, 31.4, 31.1, 30.8, 30.1, 29.7, 30, 30.8, 31.4, 31.9, 32.5, 33.2, 33.9, 34.3, 34.5, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         34.5, 34.5, 34.3, 34.4, 34.3, 34.3, 34.2, 34, 33.8, 33.7, 33.4, 33.1, 32.3, 31.6, 30.8, 30.1, 29.4, 28.7, 28.2, 27.4, 26.5, 25.9, 25.5, 25.1, 24.7, 24.7))), ID = "8"), new("Lines", Lines = list(new("Line", coords = c(-75, -75.9, -76.4, -76.8, -76.7, -76.6, -76.1, -75.4, -74.7, -73.5, -72.6, -71.9, -71.2, -71.2, -70.5, -69.8, -69.6, -68.6, -68.2, -68.1, -68.3, -68.5, -68.8, -69.1, -69.3, -69.4, -69.3, -69.1, -68, -66.6, -64.8, -62.8, -60.2, -57.5, -54.6, -51.7, -48.8, -46, 25, 25.7, 26.2, 26.6, 27.4, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  28.1, 28.7, 29.2, 29.7, 30.1, 30.3, 30.7, 31.1, 31.1, 31, 30.9, 30.9, 30.9, 31.2, 31.7, 32.2, 32.4, 32.8, 33.2, 33.6, 34.2, 35, 36, 37.1, 38.4, 39.6, 40.8, 42.2, 43.5, 44.7, 45.8, 46.4, 47.5))), ID = "9"), new("Lines", Lines = list(new("Line", coords = c(-62.1, -62.8, -63.4, -64.2, -65, -66, -67.1, -68.4, -69.9, -71.5, -73.1, -75.4, -77.6, -79.7, -81.7, -83.1, -84.1, -84.8, -85.5, -85.6, -85.6, -85.6, -85.4, -85.2, -85, -85, -85.2, -85.5, -85.5, -85.2, -84.8, -84.3, -83.5, 13.2, 13.6, 13.8, 14.1, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 14.2, 14.3, 14.4, 14.7, 14.8, 14.8, 14.7, 14.8, 15, 15.3, 15.6, 15.8, 15.8, 15.7, 15.5, 15.7, 16, 16.1, 16.1, 16.2, 16.4, 16.6, 16.7, 16.9, 17.1, 17, 16.7, 16.4, 15.4))), ID = "10"), new("Lines", Lines = list(new("Line", coords = c(-92.9, -93.8, -95, -95.8, -96.6, -97.6, -98.6, -100, -101.4, 19.3, 19.8, 20.8, 21, 21.4, 21.8, 22.3, 22.5, 22.5))), ID = "11"), new("Lines", Lines = list(new("Line", coords = c(-68.8, -68.7, -68.6, -68.3, -67.7, -66.4, -65, -63.6, -62.1, -60.5, -59.4, -58.5, -57.7, -57.1, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          -56.8, -56.7, -56.7, -55.5, -54.9, -54, -52.9, -51.9, -50.7, -48.6, -46.9, -45, -43, -41.1, -39, -37.1, -35.2, -34.1, -33.1, -32.2, -31.5, -31, -30.7, -30.5, -30.8, -31.4, -31.5, -31.5, -31.5, -31.5, -32, -32.5, 28.2, 28.9, 29.5, 30.3, 30.9, 31.3, 31.6, 31.9, 32, 32.1, 32.4, 32.5, 32.5, 32.6, 33, 33.5, 33.5, 34.1, 35.1, 36, 36.8, 37.6, 38.6, 39.6, 40.4, 41.2, 41.8, 42.3, 43, 44, 44.5, 44.5, 44.4, 44.2, 43.9, 43.5, 43.3, 43, 42.5, 42, 41.3, 40.7, 40.5, 40.5, 41.2, 42))), ID = "12"), new("Lines", Lines = list(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            new("Line", coords = c(-33.5, -34.5, -35.5, -36.8, -38.4, -39.8, -40.5, -41.6, -42.8, -43.5, -44.2, -45, -46, -47.2, -48.3, -49.9, -50.9, -52, -52.9, -53.7, -54.8, -55.7, -56.5, -57.2, -58.1, -59.3, -60.4, -61.7, -62.9, -63.8, -65.1, -66.3, -67.1, -67.7, -68.2, -69, -69.4, -69.9, -70.2, -70.1, -70, -69.5, -68.7, -67.7, -66.5, -65.1, -64, -63, -62, -61.3, -60.6, -59.1, -57.3, -55, -52.3, -48.9, 12.9, 13.6, 14.6, 15.6, 16.6, 17.2, 17.7, 18.2, 18.8, 19.3, 19.7, 20.2, 20.8, 21.3, 21.8, 22.2, 22.4, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   22.5, 22.4, 22.4, 22.4, 22.4, 22.3, 22.4, 22.8, 23.3, 23.9, 24.7, 25.4, 26.3, 27.2, 27.9, 28.4, 28.9, 29.6, 30, 30.8, 31.6, 32.1, 33.1, 34, 34.9, 35.7, 36.3, 36.5, 36.6, 36.6, 36.6, 36.5, 36.5, 36.5, 36.9, 37.6, 38.6, 40.3, 43.3))), ID = "13"), new("Lines", Lines = list(new("Line", coords = c(-94.5, -95, -95.7, -96.4, -96.7, -97.7, 19.4, 19.6, 19.7, 19.7, 19.7, 19.7))), ID = "14"), new("Lines", Lines = list(new("Line", coords = c(-75.1, -75.7, -76.2, -76.5, -76.9, -77.7, -78.4, -79, -79.6, -80.1, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     -80.3, -81.3, -82, -82.6, -83.3, -84, -84.7, -85.3, -85.9, -86.7, -87.7, -88.6, -89.2, -89.6, -89.6, -89.6, -89.6, -89.6, -89.1, -88.6, -88, -87, -85.3, -82.9, 23.1, 23.4, 23.8, 24.5, 25.4, 26, 26.1, 26.2, 26.2, 26, 25.9, 25.4, 25.1, 24.9, 24.6, 24.4, 24.4, 24.5, 24.8, 25.2, 25.7, 26.3, 27.2, 28.2, 29.3, 29.5, 30.2, 31.1, 32.6, 34.1, 35.6, 37, 38.6, 40.1))), ID = "15"), new("Lines", Lines = list(new("Line", coords = c(-45.1, -46.4, -47.6, -48.9, -50.6, -52.5, -53.2, -53.6, -54.2, -53.6, -52.7, -51.6, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           -50.4, -50.1, -50.3, -51.2, -51.4, -51.5, -52, -52.3, -52.3, -52.7, -53.2, -53.9, -54.2, -53.9, 14, 14.9, 15.7, 17, 17.7, 18.5, 20.5, 22.1, 24.2, 25.5, 26.9, 28, 29, 30.1, 31.1, 31.9, 31.9, 32.3, 32.4, 32.6, 33.2, 33.9, 34.7, 35.5, 36.6, 37.4))), ID = "16"), new("Lines", Lines = list(new("Line", coords = c(-45.5, -46.2, -47.2, -48.3, -49.4, -50.2, -51, -52, -53.1, -54, -54.6, -55.1, -55.5, -56, -56.5, -56.8, -56.8, -56.7, -56.6, -56.5, -56, -55.4, -54.6, -53.3, -51.8, -50.8, -49.9, -49, -48, -47.2, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               -46.4, -44.9, -43.4, -42.1, -40.6, -39.2, -37.7, -36.3, -35, -34, -32.9, -32, -31, -29, -26, -23, -21, -19, -16, -10, 0, 18.8, 19.3, 19.9, 20.5, 21.1, 21.5, 22, 23, 24.4, 25.5, 26.5, 27.5, 28.6, 29.6, 30.2, 30.9, 31.5, 32.1, 32.6, 33, 33.5, 33.9, 34.4, 34.8, 35.6, 36.5, 37.2, 37.9, 38.7, 39.1, 39.4, 39.8, 40.4, 41.1, 41.9, 42.9, 44.5, 46, 48, 50, 52, 54, 55.5, 57, 58.5, 61, 62, 62.9, 63.5, 63, 63))), ID = "17"), new("Lines", Lines = list(new("Line", coords = c(-67, -66.6, -66.5, -66.5, -66.4, -66.3, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                -66.3, -66.2, -66, -65.7, -65, -63.8, -62.7, -61.1, -59.1, -55.8, -53.4, -50.8, -49, -45.9, -44.1, -42.1, -40.6, -38.3, -35.6, -33.3, -32, -28.1, -25, 28.4, 28.4, 28.5, 28.5, 28.6, 28.7, 28.7, 28.9, 29.3, 29.6, 30, 30.5, 31.4, 32.6, 33.4, 34, 34.5, 34.7, 34.6, 34.5, 34.9, 35.2, 36, 37.4, 39.2, 41.6, 43.5, 44, 46))), ID = "18"), new("Lines", Lines = list(new("Line", coords = c(-78.6, -78.3, -78.3, -78.3, -78.5, -78.8, -79.2, -79.3, -79.3, -79.6, -79.6, -79.5, -79.3, -79.3, -79.1, -78.5, -77.5, -76.9, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           -76.6, -76.2, -75.9, -75.9, -75.7, -75.9, -76.2, -76.6, -76.9, -77.3, -77.7, -77.9, -78, -78.1, -78.1, -78, -77.7, -77.5, -76.9, -76.3, -75.8, -75.6, -75.1, -74.8, -74.4, -73.6, -72.7, -71.4, -69.7, -67.3, -64.9, -62.6, -59.9, -56.2, -52.3, -48.8, -45.7, -42.1, -38.5, -34.7, -30.5, -26.5, -22, -17.7, -14.6, -11.9, -8.4, -4.5, -1, 1.9, 6.6, 25.8, 26.3, 26.6, 26.8, 27.4, 27.9, 28.7, 28.8, 28.8, 28.7, 28.6, 28.6, 28.6, 28.9, 29.3, 29.8, 30.2, 30.9, 31.5, 31.7, 31.8, 31.7, 31.6, 31.4, 31.2, 31.2, 31.5, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           31.7, 31.8, 31.9, 32.1, 32.3, 32.6, 32.9, 33.4, 33.9, 34.2, 34.5, 34.7, 34.7, 34.6, 34.7, 35.4, 36.4, 37.3, 38.7, 40, 41.6, 43.2, 44.8, 46.2, 47.4, 48.4, 49, 49.5, 50, 50.9, 51.5, 52.2, 52.8, 53.8, 55.3, 57.6, 59.8, 61.7, 63.6, 65.6, 67.5, 68.8))), ID = "19"), new("Lines", Lines = list(new("Line", coords = c(-54.5, -54.9, -55.1, -55.3, -55.5, -55.7, -55.8, -55.9, -56.2, -56.4, -56.6, -56.8, -57, -57.2, -57.2, -57.1, -57, -56.9, -56.7, -56.8, -57.2, -57.6, -58.2, -60.1, -62.2, -63.7, -63.8, -62.8, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 13.3, 13.5, 13.9, 14.4, 14.9, 15.6, 16.2, 16.7, 17.2, 17.5, 17.7, 17.9, 18.1, 18.5, 18.9, 19.4, 19.9, 20.8, 22.4, 23.8, 25.2, 26.7, 28.3, 30.2, 30.5, 30.2, 29.2, 28.6))), ID = "20"), new("Lines", Lines = list(new("Line", coords = c(-69.9, -70.7, -71.5, -72.3, -73, -73.8, -74.7, -75.9, -77.2, -78.8, -80.3, -81.6, -82.7, -84, -85.2, -86.2, -86.9, -87.3, -87.6, -88.3, -89.1, -89.9, -90.7, -91.5, -92.3, -93, -93.6, -93.7, -94.1, -94.1, -94, -93.6, -92.5, -91.4, -90.1, -88, 21.3, 21.6, 21.9, 22.2, 22.4, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         22.6, 22.8, 23.1, 23.3, 23.5, 23.7, 23.9, 24.1, 24.2, 24.2, 24.3, 24.5, 24.7, 24.8, 25.2, 25.6, 26, 26.5, 27.1, 27.8, 28.6, 29.4, 29.7, 30.5, 31.6, 32.7, 33.7, 34.7, 35.8, 37, 39.5))), ID = "21"), new("Lines", Lines = list(new("Line", coords = c(-43.6, -44.7, -45.7, -46, -46.4, -46.7, -47.4, -48.4, -49.3, -49.9, -50.4, -51.1, -52, -53.2, -54.1, -54.9, -55.6, -56.6, -57.7, -58.9, -60.1, 13.3, 13.8, 13.8, 13.4, 13.5, 13.9, 14.4, 14.5, 14.6, 14.8, 15.1, 15.5, 16, 16.1, 16.1, 16.1, 16.7, 17.1, 17.3, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               17.6, 18))), ID = "22"), new("Lines", Lines = list(new("Line", coords = c(-57.4, -58.5, -60.1, -62, -63.3, -64.5, -65.2, -66, -67.5, -68.9, -70, -71, -71.7, -71.8, -71.7, -71.9, -72.4, -73, -73.5, -73.5, -73.5, -73, -73, -73.4, -73.8, -73.8, -73.8, 26.1, 27.7, 28.8, 29.3, 29.3, 29.5, 30, 30.7, 31.6, 32.5, 33.5, 34.3, 35.5, 36.7, 37.8, 38.5, 38.8, 38.9, 38.7, 38.3, 37.7, 37.2, 37.8, 38, 37.6, 38.6, 39.6))), ID = "23"), new("Lines", Lines = list(new("Line", coords = c(-78.5, -78.8, -79, -79.2, -79.4, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      -79.6, -79.6, -79.7, -79.8, -79.9, -79.9, -80.3, -81.1, -81.8, -82.2, -82.8, -83.4, -84, -84.7, -85.2, -85.5, -85.8, -86.1, -86.4, -86.7, -86.8, -86.8, -86.9, -87, -87.1, -87.1, -87, -86.8, -86.1, -85.4, -84.3, -83.1, -81.7, -81, -78.8, -76, -72, -67.9, -63.5, -60, -57.5, -55, -52, 17.6, 17.6, 17.5, 17.5, 17.5, 17.4, 16.9, 16.3, 16, 15.8, 15.7, 16.2, 16.6, 16.6, 17, 17.3, 17.4, 17.9, 18.1, 18.3, 18.6, 19.1, 19.5, 20.1, 20.3, 20.6, 20.6, 20.8, 20.8, 21, 21.3, 21.6, 21.8, 22.4, 23.1, 24, 25, 25.9, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      26.2, 28, 30.1, 33.3, 36.8, 40.5, 42.5, 44, 45, 45.5))), ID = "24")), bbox = c(-101.4, 10.7, 6.6, 68.8), proj4string = new("CRS", projargs = "+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs")))
package:leaflet
TRUE
FALSE
awesomeIconList
list(`package:leaflet` = function (...) 
{
  res <- structure(list(...), class = "leaflet_awesome_icon_set")
  cls <- unlist(lapply(res, inherits, "leaflet_awesome_icon"))
  if (any(!cls)) 
    stop("Arguments passed to awesomeIconList() must be icon objects returned from makeAwesomeIcon()")
  res
}, function (...) 
{
  res <- structure(list(...), class = "leaflet_awesome_icon_set")
  cls <- unlist(lapply(res, inherits, "leaflet_awesome_icon"))
  if (any(!cls)) 
    stop("Arguments passed to awesomeIconList() must be icon objects returned from makeAwesomeIcon()")
  res
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
awesomeIcons
list(`package:leaflet` = function (icon = "home", library = "glyphicon", markerColor = "blue", iconColor = "white", spin = FALSE, extraClasses = NULL, squareMarker = FALSE, iconRotate = 0, fontFamily = "monospace", text = NULL) 
{
  if (!inherits(library, "formula")) {
    verifyIconLibrary(library)
  }
  filterNULL(list(icon = icon, library = library, markerColor = markerColor, iconColor = iconColor, spin = spin, extraClasses = extraClasses, squareMarker = squareMarker, iconRotate = iconRotate, font = fontFamily, text = text))
}, function (icon = "home", library = "glyphicon", markerColor = "blue", iconColor = "white", spin = FALSE, extraClasses = NULL, squareMarker = FALSE, iconRotate = 0, fontFamily = "monospace", text = NULL) 
{
  if (!inherits(library, "formula")) {
    verifyIconLibrary(library)
  }
  filterNULL(list(icon = icon, library = library, markerColor = markerColor, iconColor = iconColor, spin = spin, extraClasses = extraClasses, squareMarker = squareMarker, iconRotate = iconRotate, font = fontFamily, text = text))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
breweries91
list(`package:leaflet` = new("SpatialPointsDataFrame", data = list(brewery = c("Brauerei Rittmayer", "Aufsesser Brauerei", "Brauhaus Doebler", "Brauerei Gundel GmbH", "Krug-Braeu", "Brauerei-Gasthof Herold", "Brauerei Alt Dietzhof", "Brauerei Hauf KG", "Weib's Brauhaus Dinkelsbuehl", "Schwanenbraeu", "Fuerst Carl Schlossbrauerei Ellingen", "Brauerei Enzensteiner", "Kitzmann-Braeu GmbH & Co. Kg", "Steinbach Braeu", "Brauerei Greif", "Brauerei Hebendanz GmbH", "Brauerei Friedmann", "Lindenbraeu", "Brauerei Windsheimer GmbH", 
                                                                               "Buergerbraeu Hersbruck, Deinlein & Co.", "Hochholzer Brauhaus Poeverlein GbR", "Brauhaus Hoechstadt", "Brauerei und Gasthof Reichold GmbH", "Brauerei Hofmann/Nentwig GbR", "Leinburger Bier", "Brauerei Gasthof Drummer", "Hauff Braeu Lichtnerau GmbH & Co. KG", "Brauerei Wiethaler", "Brauerei Gasthof Ott", "Brauerei Penning-Zeissler", "Brauerei Meister", "Brauerei Nikl"), address = c("Aischer Hauptstrasse 5", "Im Tal 70b", "Kornmarkt 6", "Noerdlinger Strasse 15", "Breitenlesau 1b", "Marktstrasse 29", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                "Dietzhof 42", "Heiningerstrasse 28", "Untere Schmiedgasse 13", "Am Marktplatz 2", "Schloss-Strasse 10", "Enzenreuth 8", "Suedliche Stadtmauerstrasse 25", "Vierzigmannstrasse 4", "Serlbacher Strasse 10", "Sattlertorstrasse 14", "Jaegersberg 16", "Am Bach 3", "Hauptstrasse 13", "Lohweg 38", "Hochholz 4a", "Kellerstrasse 11", "Hochstahl 24", "Hohenschwaerz 16", "Marktplatz 14", "Dorfstrasse 10", "Marktplatz 1", "Welserplatz 6-7", "Oberleinleiter 6", "Hetzelsdorf 9", "Unterzaunsbach 8", "Egloffsteiner Strasse 19"
                                                                               ), zipcode = c(91325, 91347, 91438, 91126, 91344, 91257, 91359, 91550, 91550, 91320, 91792, 91220, 91054, 91054, 91301, 91301, 91322, 91322, 91468, 91217, 91807, 91315, 91347, 91322, 91227, 91359, 91586, 91207, 91332, 91362, 91362, 91363), village = c("Adelsdorf", "Aufsess", "Bad Windsheim", "Barthelmesaurach", "Waischenfeld", "Buechenbach", "Leutenbach", "Dinkelsbuehl", "Dinkelsbuehl", "Ebermannstadt", "Ellingen", "Schnaittach", "Erlangen", "Erlangen", "Forchheim", "Forchheim", "Graefenberg", "Graefenberg", 
                                                                                                                                                                                                                                                                                                                                           "Gutenstetten", "Hersbruck", "Solnhofen", "Hoechstadt", "Aufsess", "Graefenberg", "Leinburg", "Lautenbach", "Lichtenau", "Neunhof bei Lauf a.d. Pegnitz", "Heiligenstadt i. Ofr.", "Pretzfeld", "Pretzfeld", "Pretzfeld"), state = c("Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", "Bayern", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                "Bayern", "Bayern", "Bayern", "Bayern"), web = c("<a href='http://www.rittmayer-aisch.de' target=\"_blank\">www.rittmayer-aisch.de</a>", "<a href='http://www.aufsesser.de' target=\"_blank\">www.aufsesser.de</a>", "<a href='http://www.brauhaus-doebler.de' target=\"_blank\">www.brauhaus-doebler.de</a>", "<a href='http://www.brauerei-gundel.de' target=\"_blank\">www.brauerei-gundel.de</a>", "<a href='http://www.krug-braeu.de' target=\"_blank\">www.krug-braeu.de</a>", "<a href='http://www.beckn-bier.de' target=\"_blank\">www.beckn-bier.de</a>", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 "<a href='http://www.brauerei-alt.de' target=\"_blank\">www.brauerei-alt.de</a>", "<a href='http://www.hauf-bier.de' target=\"_blank\">www.hauf-bier.de</a>", "<a href='http://www.weibsbrauhaus.de' target=\"_blank\">www.weibsbrauhaus.de</a>", "<a href='http://www.schwanenbraeu.de' target=\"_blank\">www.schwanenbraeu.de</a>", "<a href='http://www.fuerst-carl.de' target=\"_blank\">www.fuerst-carl.de</a>", "<a href='http://www.enzensteiner.de' target=\"_blank\">www.enzensteiner.de</a>", "<a href='http://www.kitzmann.de' target=\"_blank\">www.kitzmann.de</a>", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 "<a href='http://www.steinbach-braeu.de' target=\"_blank\">www.steinbach-braeu.de</a>", "<a href='http://www.brauerei-greif.de' target=\"_blank\">www.brauerei-greif.de</a>", "<a href='http://www.brauerei-hebendanz.de' target=\"_blank\">www.brauerei-hebendanz.de</a>", "<a href='http://www.brauerei-friedmann.de' target=\"_blank\">www.brauerei-friedmann.de</a>", "<a href='http://www.lindenbraeu.de' target=\"_blank\">www.lindenbraeu.de</a>", "<a href='http://www.brauerei-windsheimer.de' target=\"_blank\">www.brauerei-windsheimer.de</a>", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 "<a href='http://www.hersbrucker-bier.de' target=\"_blank\">www.hersbrucker-bier.de</a>", "<a href='http://www.hochholzer-brauhaus.de' target=\"_blank\">www.hochholzer-brauhaus.de</a>", "<a href='http://www.brauhaus-hoechstadt.de' target=\"_blank\">www.brauhaus-hoechstadt.de</a>", "<a href='http://www.brauerei-reichold.de' target=\"_blank\">www.brauerei-reichold.de</a>", "<a href='http://www.brauerei-hofmann.de' target=\"_blank\">www.brauerei-hofmann.de</a>", "<a href='http://www.leinburgerbier.de' target=\"_blank\">www.leinburgerbier.de</a>", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 "<a href='http://www.brauerei-gasthof-drummer.de' target=\"_blank\">www.brauerei-gasthof-drummer.de</a>", "<a href='http://www.hauff-braeu.com' target=\"_blank\">www.hauff-braeu.com</a>", "<a href='http://www.brauerei-wiethaler.de' target=\"_blank\">www.brauerei-wiethaler.de</a>", "<a href='http://www.brauerei-ott.de' target=\"_blank\">www.brauerei-ott.de</a>", NA, "<a href='http://www.xn--meisterbru-y5a.de/mod/main.php' target=\"_blank\">www.meisterbr%C3%A4u.de</a>", "<a href='http://www.brauerei-nikl.de/' target=\"_blank\">www.brauerei-nikl.de</a>"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ), founded = c(1422, 1886, 1867, 1887, 1834, 1568, 1886, 1901, 1999, NA, 1690, 1998, 1712, 1861, 1848, 1579, 1875, 1932, 1767, 1920, 2005, 1926, 1906, 1897, 1617, 1738, NA, 1498, 1678, 1623, 1865, 2008)), coords.nrs = numeric(0), coords = c(10.889217, 11.228988, 10.416021, 10.928096, 11.291932, 11.509409, 11.163238, 10.34418, 10.316987, 11.186931, 10.965571, 11.368508, 11.009011, 11.005049, 11.059662, 11.056749, 11.252699, 11.248618, 10.630027, 11.428338, 11.029479, 10.806113, 11.267583, 11.252911, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 11.308721, 11.172792, 10.685605, 11.22997, 11.129541, 11.202701, 11.223148, 11.175664, 49.71979, 49.884051, 49.502098, 49.274716, 49.861905, 49.794334, 49.701477, 49.067436, 49.070292, 49.77994, 49.060542, 49.561804, 49.595108, 49.602554, 49.72581, 49.7202, 49.644533, 49.645651, 49.615866, 49.50683, 48.900742, 49.707329, 49.884229, 49.677827, 49.450083, 49.710838, 49.276265, 49.554706, 49.882777, 49.727998, 49.737703, 49.755953), bbox = c(10.316987, 48.900742, 11.509409, 49.884229), proj4string = new("CRS", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           projargs = "+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs")))
package:leaflet
TRUE
FALSE
clearBounds
list(`package:leaflet` = function (map) 
{
  dispatch(map, "clearBounds", leaflet = {
    changeView(map)
  })
}, function (map) 
{
  dispatch(map, "clearBounds", leaflet = {
    changeView(map)
  })
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
clearControls
list(`package:leaflet` = function (map) 
{
  invokeMethod(map, NULL, "clearControls")
}, function (map) 
{
  invokeMethod(map, NULL, "clearControls")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
clearGeoJSON
list(`package:leaflet` = function (map) 
{
  invokeMethod(map, NULL, "clearGeoJSON")
}, function (map) 
{
  invokeMethod(map, NULL, "clearGeoJSON")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
clearGroup
list(`package:leaflet` = function (map, group) 
{
  invokeMethod(map, getMapData(map), "clearGroup", group)
}, function (map, group) 
{
  invokeMethod(map, getMapData(map), "clearGroup", group)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
clearImages
list(`package:leaflet` = function (map) 
{
  invokeMethod(map, NULL, "clearImages")
}, function (map) 
{
  invokeMethod(map, NULL, "clearImages")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
clearMarkerClusters
list(`package:leaflet` = function (map) 
{
  invokeMethod(map, NULL, "clearMarkerClusters")
}, function (map) 
{
  invokeMethod(map, NULL, "clearMarkerClusters")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
clearMarkers
list(`package:leaflet` = function (map) 
{
  invokeMethod(map, NULL, "clearMarkers")
}, function (map) 
{
  invokeMethod(map, NULL, "clearMarkers")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
clearPopups
list(`package:leaflet` = function (map) 
{
  invokeMethod(map, NULL, "clearPopups")
}, function (map) 
{
  invokeMethod(map, NULL, "clearPopups")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
clearShapes
list(`package:leaflet` = function (map) 
{
  invokeMethod(map, NULL, "clearShapes")
}, function (map) 
{
  invokeMethod(map, NULL, "clearShapes")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
clearTiles
list(`package:leaflet` = function (map) 
{
  invokeMethod(map, NULL, "clearTiles")
}, function (map) 
{
  invokeMethod(map, NULL, "clearTiles")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
clearTopoJSON
list(`package:leaflet` = function (map) 
{
  invokeMethod(map, NULL, "clearTopoJSON")
}, function (map) 
{
  invokeMethod(map, NULL, "clearTopoJSON")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
colorBin
list(`package:leaflet` = function (palette, domain, bins = 7, pretty = TRUE, na.color = "#808080", alpha = FALSE, reverse = FALSE, right = FALSE) 
{
  if (missing(domain) && length(bins) > 1) {
    domain <- NULL
  }
  autobin <- is.null(domain) && length(bins) == 1
  if (!is.null(domain)) 
    bins <- getBins(domain, NULL, bins, pretty)
  numColors <- if (length(bins) == 1) 
    bins
  else length(bins) - 1
  colorFunc <- colorFactor(palette, domain = if (!autobin) 
    1:numColors, na.color = na.color, alpha = alpha, reverse = reverse)
  pf <- safePaletteFunc(palette, na.color, alpha)
  withColorAttr("bin", list(bins = bins, na.color = na.color), function(x) {
    if (length(x) == 0 || all(is.na(x))) {
      return(pf(x))
    }
    binsToUse <- getBins(domain, x, bins, pretty)
    ints <- cut(x, binsToUse, labels = FALSE, include.lowest = TRUE, right = right)
    if (any(is.na(x) != is.na(ints))) 
      warning("Some values were outside the color scale and will be treated as NA")
    colorFunc(ints)
  })
}, function (palette, domain, bins = 7, pretty = TRUE, na.color = "#808080", alpha = FALSE, reverse = FALSE, right = FALSE) 
{
  if (missing(domain) && length(bins) > 1) {
    domain <- NULL
  }
  autobin <- is.null(domain) && length(bins) == 1
  if (!is.null(domain)) 
    bins <- getBins(domain, NULL, bins, pretty)
  numColors <- if (length(bins) == 1) 
    bins
  else length(bins) - 1
  colorFunc <- colorFactor(palette, domain = if (!autobin) 
    1:numColors, na.color = na.color, alpha = alpha, reverse = reverse)
  pf <- safePaletteFunc(palette, na.color, alpha)
  withColorAttr("bin", list(bins = bins, na.color = na.color), function(x) {
    if (length(x) == 0 || all(is.na(x))) {
      return(pf(x))
    }
    binsToUse <- getBins(domain, x, bins, pretty)
    ints <- cut(x, binsToUse, labels = FALSE, include.lowest = TRUE, right = right)
    if (any(is.na(x) != is.na(ints))) 
      warning("Some values were outside the color scale and will be treated as NA")
    colorFunc(ints)
  })
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
colorFactor
list(`package:leaflet` = function (palette, domain, levels = NULL, ordered = FALSE, na.color = "#808080", alpha = FALSE, reverse = FALSE) 
{
  if (missing(domain) && !is.null(levels)) {
    domain <- NULL
  }
  if (!is.null(levels) && anyDuplicated(levels)) {
    warning("Duplicate levels detected")
    levels <- unique(levels)
  }
  lvls <- getLevels(domain, NULL, levels, ordered)
  force(palette)
  withColorAttr("factor", list(na.color = na.color), function(x) {
    if (length(x) == 0 || all(is.na(x))) {
      return(rep.int(na.color, length(x)))
    }
    lvls <- getLevels(domain, x, lvls, ordered)
    pf <- safePaletteFunc(palette, na.color, alpha, nlevels = length(lvls) * ifelse(reverse, -1, 1))
    origNa <- is.na(x)
    x <- match(as.character(x), lvls)
    if (any(is.na(x) != origNa)) {
      warning("Some values were outside the color scale and will be treated as NA")
    }
    scaled <- scales::rescale(as.integer(x), from = c(1, length(lvls)))
    if (any(scaled < 0 | scaled > 1, na.rm = TRUE)) {
      warning("Some values were outside the color scale and will be treated as NA")
    }
    if (reverse) {
      scaled <- 1 - scaled
    }
    pf(scaled)
  })
}, function (palette, domain, levels = NULL, ordered = FALSE, na.color = "#808080", alpha = FALSE, reverse = FALSE) 
{
  if (missing(domain) && !is.null(levels)) {
    domain <- NULL
  }
  if (!is.null(levels) && anyDuplicated(levels)) {
    warning("Duplicate levels detected")
    levels <- unique(levels)
  }
  lvls <- getLevels(domain, NULL, levels, ordered)
  force(palette)
  withColorAttr("factor", list(na.color = na.color), function(x) {
    if (length(x) == 0 || all(is.na(x))) {
      return(rep.int(na.color, length(x)))
    }
    lvls <- getLevels(domain, x, lvls, ordered)
    pf <- safePaletteFunc(palette, na.color, alpha, nlevels = length(lvls) * ifelse(reverse, -1, 1))
    origNa <- is.na(x)
    x <- match(as.character(x), lvls)
    if (any(is.na(x) != origNa)) {
      warning("Some values were outside the color scale and will be treated as NA")
    }
    scaled <- scales::rescale(as.integer(x), from = c(1, length(lvls)))
    if (any(scaled < 0 | scaled > 1, na.rm = TRUE)) {
      warning("Some values were outside the color scale and will be treated as NA")
    }
    if (reverse) {
      scaled <- 1 - scaled
    }
    pf(scaled)
  })
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
colorNumeric
list(`package:leaflet` = function (palette, domain, na.color = "#808080", alpha = FALSE, reverse = FALSE) 
{
  rng <- NULL
  if (length(domain) > 0) {
    rng <- range(domain, na.rm = TRUE)
    if (!all(is.finite(rng))) {
      stop("Wasn't able to determine range of domain")
    }
  }
  pf <- safePaletteFunc(palette, na.color, alpha)
  withColorAttr("numeric", list(na.color = na.color), function(x) {
    if (length(x) == 0 || all(is.na(x))) {
      return(pf(x))
    }
    if (is.null(rng)) 
      rng <- range(x, na.rm = TRUE)
    rescaled <- scales::rescale(x, from = rng)
    if (any(rescaled < 0 | rescaled > 1, na.rm = TRUE)) 
      warning("Some values were outside the color scale and will be treated as NA")
    if (reverse) {
      rescaled <- 1 - rescaled
    }
    pf(rescaled)
  })
}, function (palette, domain, na.color = "#808080", alpha = FALSE, reverse = FALSE) 
{
  rng <- NULL
  if (length(domain) > 0) {
    rng <- range(domain, na.rm = TRUE)
    if (!all(is.finite(rng))) {
      stop("Wasn't able to determine range of domain")
    }
  }
  pf <- safePaletteFunc(palette, na.color, alpha)
  withColorAttr("numeric", list(na.color = na.color), function(x) {
    if (length(x) == 0 || all(is.na(x))) {
      return(pf(x))
    }
    if (is.null(rng)) 
      rng <- range(x, na.rm = TRUE)
    rescaled <- scales::rescale(x, from = rng)
    if (any(rescaled < 0 | rescaled > 1, na.rm = TRUE)) 
      warning("Some values were outside the color scale and will be treated as NA")
    if (reverse) {
      rescaled <- 1 - rescaled
    }
    pf(rescaled)
  })
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
colorQuantile
list(`package:leaflet` = function (palette, domain, n = 4, probs = seq(0, 1, length.out = n + 1), na.color = "#808080", alpha = FALSE, reverse = FALSE, right = FALSE) 
{
  if (!is.null(domain)) {
    bins <- quantile(domain, probs, na.rm = TRUE, names = FALSE)
    return(withColorAttr("quantile", list(probs = probs, na.color = na.color), colorBin(palette, domain = NULL, bins = bins, na.color = na.color, alpha = alpha, reverse = reverse)))
  }
  colorFunc <- colorFactor(palette, domain = 1:(length(probs) - 1), na.color = na.color, alpha = alpha, reverse = reverse)
  withColorAttr("quantile", list(probs = probs, na.color = na.color), function(x) {
    binsToUse <- quantile(x, probs, na.rm = TRUE, names = FALSE)
    ints <- cut(x, binsToUse, labels = FALSE, include.lowest = TRUE, right = right)
    if (any(is.na(x) != is.na(ints))) 
      warning("Some values were outside the color scale and will be treated as NA")
    colorFunc(ints)
  })
}, function (palette, domain, n = 4, probs = seq(0, 1, length.out = n + 1), na.color = "#808080", alpha = FALSE, reverse = FALSE, right = FALSE) 
{
  if (!is.null(domain)) {
    bins <- quantile(domain, probs, na.rm = TRUE, names = FALSE)
    return(withColorAttr("quantile", list(probs = probs, na.color = na.color), colorBin(palette, domain = NULL, bins = bins, na.color = na.color, alpha = alpha, reverse = reverse)))
  }
  colorFunc <- colorFactor(palette, domain = 1:(length(probs) - 1), na.color = na.color, alpha = alpha, reverse = reverse)
  withColorAttr("quantile", list(probs = probs, na.color = na.color), function(x) {
    binsToUse <- quantile(x, probs, na.rm = TRUE, names = FALSE)
    ints <- cut(x, binsToUse, labels = FALSE, include.lowest = TRUE, right = right)
    if (any(is.na(x) != is.na(ints))) 
      warning("Some values were outside the color scale and will be treated as NA")
    colorFunc(ints)
  })
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
createLeafletMap
list(`package:leaflet` = function (session, outputId) 
{
  session$output[[outputId]] <- shiny::renderText("")
  send <- function(method, func, msg) {
    msg <- msg[names(formals(func))]
    names(msg) <- NULL
    opts <- options(digits = 22)
    on.exit(options(opts))
    session$sendCustomMessage("leaflet", list(mapId = outputId, method = method, args = msg))
  }
  stub <- function(p) {
    name <- as.character(p[[1]])
    txt <- paste(deparse(p), collapse = "\n")
    txt <- sub(name, "function", txt, fixed = TRUE)
    txt <- paste0(txt, "NULL")
    func <- eval(parse(text = txt))
    body(func) <- substituteDirect(quote(send(name, sys.function(), as.list(environment()))), list(name = name))
    environment(func) <- environment(send)
    structure(list(func), names = name)
  }
  obj <- lapply(expression(setView(lat, lng, zoom, forceReset = FALSE), addMarker(lat, lng, layerId = NULL, options = list(), eachOptions = list()), addCircleMarker(lat, lng, radius, layerId = NULL, options = list(), eachOptions = list()), clearMarkers(), fitBounds(lat1, lng1, lat2, lng2), addCircle(lat, lng, radius, layerId = NULL, options = list(), eachOptions = list()), addRectangle(lat1, lng1, lat2, lng2, layerId = NULL, options = list(), eachOptions = list()), addPolygon(lat, lng, layerId, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 options, defaultOptions), addGeoJSON(data, layerId), clearGeoJSON(), showPopup(lat, lng, content, layerId = NULL, options = list()), removePopup(layerId), clearPopups(), removeShape(layerId), clearShapes(), removeMarker(layerId), clearMarkers()), stub)
  unlist(obj, recursive = FALSE)
}, function (session, outputId) 
{
  session$output[[outputId]] <- shiny::renderText("")
  send <- function(method, func, msg) {
    msg <- msg[names(formals(func))]
    names(msg) <- NULL
    opts <- options(digits = 22)
    on.exit(options(opts))
    session$sendCustomMessage("leaflet", list(mapId = outputId, method = method, args = msg))
  }
  stub <- function(p) {
    name <- as.character(p[[1]])
    txt <- paste(deparse(p), collapse = "\n")
    txt <- sub(name, "function", txt, fixed = TRUE)
    txt <- paste0(txt, "NULL")
    func <- eval(parse(text = txt))
    body(func) <- substituteDirect(quote(send(name, sys.function(), as.list(environment()))), list(name = name))
    environment(func) <- environment(send)
    structure(list(func), names = name)
  }
  obj <- lapply(expression(setView(lat, lng, zoom, forceReset = FALSE), addMarker(lat, lng, layerId = NULL, options = list(), eachOptions = list()), addCircleMarker(lat, lng, radius, layerId = NULL, options = list(), eachOptions = list()), clearMarkers(), fitBounds(lat1, lng1, lat2, lng2), addCircle(lat, lng, radius, layerId = NULL, options = list(), eachOptions = list()), addRectangle(lat1, lng1, lat2, lng2, layerId = NULL, options = list(), eachOptions = list()), addPolygon(lat, lng, layerId, 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 options, defaultOptions), addGeoJSON(data, layerId), clearGeoJSON(), showPopup(lat, lng, content, layerId = NULL, options = list()), removePopup(layerId), clearPopups(), removeShape(layerId), clearShapes(), removeMarker(layerId), clearMarkers()), stub)
  unlist(obj, recursive = FALSE)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
derivePoints
list(`package:leaflet` = function (data, lng = NULL, lat = NULL, missingLng = missing(lng), missingLat = missing(lat), funcName = "f") 
{
  if (missingLng || missingLat) {
    if (is.null(data)) {
      stop("Point data not found; please provide ", funcName, " with data and/or lng/lat arguments")
    }
    pts <- pointData(data)
    if (is.null(lng)) 
      lng <- pts$lng
    if (is.null(lat)) 
      lat <- pts$lat
  }
  lng <- resolveFormula(lng, data)
  lat <- resolveFormula(lat, data)
  validateCoords(lng, lat, funcName)
}, function (data, lng = NULL, lat = NULL, missingLng = missing(lng), missingLat = missing(lat), funcName = "f") 
{
  if (missingLng || missingLat) {
    if (is.null(data)) {
      stop("Point data not found; please provide ", funcName, " with data and/or lng/lat arguments")
    }
    pts <- pointData(data)
    if (is.null(lng)) 
      lng <- pts$lng
    if (is.null(lat)) 
      lat <- pts$lat
  }
  lng <- resolveFormula(lng, data)
  lat <- resolveFormula(lat, data)
  validateCoords(lng, lat, funcName)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
derivePolygons
list(`package:leaflet` = function (data, lng = NULL, lat = NULL, missingLng = missing(lng), missingLat = missing(lat), funcName = "f") 
{
  if (missingLng != missingLat) {
    stop(funcName, " must be called with both lng and lat, or with neither.")
  }
  if (missingLng) {
    if (is.null(data)) {
      stop("Polygon data not found; please provide ", funcName, " with data and/or lng/lat arguments")
    }
    return(polygonData(data))
  }
  lng <- resolveFormula(lng, data)
  lat <- resolveFormula(lat, data)
  df <- validateCoords(lng, lat, funcName, mode = "polygon")
  polygonData(cbind(df$lng, df$lat))
}, function (data, lng = NULL, lat = NULL, missingLng = missing(lng), missingLat = missing(lat), funcName = "f") 
{
  if (missingLng != missingLat) {
    stop(funcName, " must be called with both lng and lat, or with neither.")
  }
  if (missingLng) {
    if (is.null(data)) {
      stop("Polygon data not found; please provide ", funcName, " with data and/or lng/lat arguments")
    }
    return(polygonData(data))
  }
  lng <- resolveFormula(lng, data)
  lat <- resolveFormula(lat, data)
  df <- validateCoords(lng, lat, funcName, mode = "polygon")
  polygonData(cbind(df$lng, df$lat))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
dispatch
list(`package:leaflet` = function (map, funcName, leaflet = stop(paste(funcName, "requires a map proxy object")), leaflet_proxy = stop(paste(funcName, "does not support map proxy objects"))) 
{
  if (inherits(map, "leaflet")) 
    return(leaflet)
  else if (inherits(map, "leaflet_proxy")) 
    return(leaflet_proxy)
  else stop("Invalid map parameter")
}, function (map, funcName, leaflet = stop(paste(funcName, "requires a map proxy object")), leaflet_proxy = stop(paste(funcName, "does not support map proxy objects"))) 
{
  if (inherits(map, "leaflet")) 
    return(leaflet)
  else if (inherits(map, "leaflet_proxy")) 
    return(leaflet_proxy)
  else stop("Invalid map parameter")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
easyButton
list(`package:leaflet` = function (icon = NULL, title = NULL, onClick = NULL, position = "topleft", id = NULL, states = NULL) 
{
  if (!missing(onClick) && !inherits(onClick, "JS_EVAL")) {
    stop("onClick needs to be a returned value from a JS() call")
  }
  if (!is.null(states) && !(inherits(states, "list") && all(sapply(states, function(x) inherits(x, "leaflet_easybutton_state"))))) {
    stop("states needs to be a list() of easyButton instances")
  }
  structure(filterNULL(list(icon = as.character(icon), title = as.character(title), onClick = onClick, position = position, id = id, states = states)), class = "leaflet_easybutton")
}, function (icon = NULL, title = NULL, onClick = NULL, position = "topleft", id = NULL, states = NULL) 
{
  if (!missing(onClick) && !inherits(onClick, "JS_EVAL")) {
    stop("onClick needs to be a returned value from a JS() call")
  }
  if (!is.null(states) && !(inherits(states, "list") && all(sapply(states, function(x) inherits(x, "leaflet_easybutton_state"))))) {
    stop("states needs to be a list() of easyButton instances")
  }
  structure(filterNULL(list(icon = as.character(icon), title = as.character(title), onClick = onClick, position = position, id = id, states = states)), class = "leaflet_easybutton")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
easyButtonState
list(`package:leaflet` = function (stateName, icon, title, onClick) 
{
  if (!inherits(onClick, "JS_EVAL")) {
    stop("onClick needs to be a returned value from a JS() call")
  }
  structure(list(stateName = as.character(stateName), icon = as.character(icon), title = as.character(title), onClick = onClick), class = "leaflet_easybutton_state")
}, function (stateName, icon, title, onClick) 
{
  if (!inherits(onClick, "JS_EVAL")) {
    stop("onClick needs to be a returned value from a JS() call")
  }
  structure(list(stateName = as.character(stateName), icon = as.character(icon), title = as.character(title), onClick = onClick), class = "leaflet_easybutton_state")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
evalFormula
list(`package:leaflet` = function (list, data) 
{
  evalAll <- function(x) {
    if (is.list(x)) {
      x[] <- lapply(x, evalAll)
      x
    }
    else {
      resolveFormula(x, data)
    }
  }
  evalAll(list)
}, function (list, data) 
{
  evalAll <- function(x) {
    if (is.list(x)) {
      x[] <- lapply(x, evalAll)
      x
    }
    else {
      resolveFormula(x, data)
    }
  }
  evalAll(list)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
expandLimits
list(`package:leaflet` = function (map, lat, lng) 
{
  if (is.null(map$x$limits)) 
    map$x$limits <- list()
  lat <- lat[is.finite(lat)]
  lng <- lng[is.finite(lng)]
  if (length(lat) > 0) 
    map$x$limits$lat <- range(map$x$limits$lat, lat)
  if (length(lng) > 0) 
    map$x$limits$lng <- range(map$x$limits$lng, lng)
  map
}, function (map, lat, lng) 
{
  if (is.null(map$x$limits)) 
    map$x$limits <- list()
  lat <- lat[is.finite(lat)]
  lng <- lng[is.finite(lng)]
  if (length(lat) > 0) 
    map$x$limits$lat <- range(map$x$limits$lat, lat)
  if (length(lng) > 0) 
    map$x$limits$lng <- range(map$x$limits$lng, lng)
  map
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
expandLimitsBbox
list(`package:leaflet` = function (map, poly) 
{
  bbox <- attr(poly, "bbox", exact = TRUE)
  if (is.null(bbox)) 
    stop("Polygon data had no bbox")
  expandLimits(map, bbox[2, ], bbox[1, ])
}, function (map, poly) 
{
  bbox <- attr(poly, "bbox", exact = TRUE)
  if (is.null(bbox)) 
    stop("Polygon data had no bbox")
  expandLimits(map, bbox[2, ], bbox[1, ])
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
filterNULL
list(`package:leaflet` = function (x) 
{
  if (length(x) == 0 || !is.list(x)) 
    return(x)
  x[!unlist(lapply(x, is.null))]
}, function (x) 
{
  if (length(x) == 0 || !is.list(x)) 
    return(x)
  x[!unlist(lapply(x, is.null))]
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
fitBounds
list(`package:leaflet` = function (map, lng1, lat1, lng2, lat2, options = list()) 
{
  bounds <- evalFormula(list(lat1, lng1, lat2, lng2, options), getMapData(map))
  dispatch(map, "fitBounds", leaflet = {
    changeView(map, fitBounds = bounds)
  }, leaflet_proxy = {
    invokeRemote(map, "fitBounds", bounds)
    map
  })
}, function (map, lng1, lat1, lng2, lat2, options = list()) 
{
  bounds <- evalFormula(list(lat1, lng1, lat2, lng2, options), getMapData(map))
  dispatch(map, "fitBounds", leaflet = {
    changeView(map, fitBounds = bounds)
  }, leaflet_proxy = {
    invokeRemote(map, "fitBounds", bounds)
    map
  })
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
flyTo
list(`package:leaflet` = function (map, lng, lat, zoom, options = list()) 
{
  view <- evalFormula(list(c(lat, lng), zoom, options))
  dispatch(map, "flyTo", leaflet = {
    changeView(map, flyTo = view)
  }, leaflet_proxy = {
    invokeRemote(map, "flyTo", view)
    map
  })
}, function (map, lng, lat, zoom, options = list()) 
{
  view <- evalFormula(list(c(lat, lng), zoom, options))
  dispatch(map, "flyTo", leaflet = {
    changeView(map, flyTo = view)
  }, leaflet_proxy = {
    invokeRemote(map, "flyTo", view)
    map
  })
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
flyToBounds
list(`package:leaflet` = function (map, lng1, lat1, lng2, lat2, options = list()) 
{
  bounds <- evalFormula(list(lat1, lng1, lat2, lng2, options), getMapData(map))
  dispatch(map, "flyToBounds", leaflet = {
    changeView(map, flyToBounds = bounds)
  }, leaflet_proxy = {
    invokeRemote(map, "flyToBounds", bounds)
    map
  })
}, function (map, lng1, lat1, lng2, lat2, options = list()) 
{
  bounds <- evalFormula(list(lat1, lng1, lat2, lng2, options), getMapData(map))
  dispatch(map, "flyToBounds", leaflet = {
    changeView(map, flyToBounds = bounds)
  }, leaflet_proxy = {
    invokeRemote(map, "flyToBounds", bounds)
    map
  })
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
61)
getMapData
list(`package:leaflet` = function (map) 
{
  attr(map$x, "leafletData", exact = TRUE)
}, function (map) 
{
  attr(map$x, "leafletData", exact = TRUE)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
groupOptions
list(`package:leaflet` = function (map, group, zoomLevels = NULL) 
{
  if (is.null(zoomLevels)) 
    zoomLevels <- TRUE
  invokeMethod(map, getMapData(map), "setGroupOptions", group, list(zoomLevels = zoomLevels))
}, function (map, group, zoomLevels = NULL) 
{
  if (is.null(zoomLevels)) 
    zoomLevels <- TRUE
  invokeMethod(map, getMapData(map), "setGroupOptions", group, list(zoomLevels = zoomLevels))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
hideGroup
list(`package:leaflet` = function (map, group) 
{
  invokeMethod(map, getMapData(map), "hideGroup", group)
}, function (map, group) 
{
  invokeMethod(map, getMapData(map), "hideGroup", group)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
highlightOptions
list(`package:leaflet` = function (stroke = NULL, color = NULL, weight = NULL, opacity = NULL, fill = NULL, fillColor = NULL, fillOpacity = NULL, dashArray = NULL, bringToFront = NULL, sendToBack = NULL) 
{
  filterNULL(list(stroke = stroke, color = color, weight = weight, opacity = opacity, fill = fill, fillColor = fillColor, fillOpacity = fillOpacity, dashArray = dashArray, bringToFront = bringToFront, sendToBack = sendToBack))
}, function (stroke = NULL, color = NULL, weight = NULL, opacity = NULL, fill = NULL, fillColor = NULL, fillOpacity = NULL, dashArray = NULL, bringToFront = NULL, sendToBack = NULL) 
{
  filterNULL(list(stroke = stroke, color = color, weight = weight, opacity = opacity, fill = fill, fillColor = fillColor, fillOpacity = fillOpacity, dashArray = dashArray, bringToFront = bringToFront, sendToBack = sendToBack))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
iconList
list(`package:leaflet` = function (...) 
{
  res <- structure(list(...), class = "leaflet_icon_set")
  cls <- unlist(lapply(res, inherits, "leaflet_icon"))
  if (any(!cls)) 
    stop("Arguments passed to iconList() must be icon objects returned from makeIcon()")
  res
}, function (...) 
{
  res <- structure(list(...), class = "leaflet_icon_set")
  cls <- unlist(lapply(res, inherits, "leaflet_icon"))
  if (any(!cls)) 
    stop("Arguments passed to iconList() must be icon objects returned from makeIcon()")
  res
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
icons
list(`package:leaflet` = function (iconUrl = NULL, iconRetinaUrl = NULL, iconWidth = NULL, iconHeight = NULL, iconAnchorX = NULL, iconAnchorY = NULL, shadowUrl = NULL, shadowRetinaUrl = NULL, shadowWidth = NULL, shadowHeight = NULL, shadowAnchorX = NULL, shadowAnchorY = NULL, popupAnchorX = NULL, popupAnchorY = NULL, className = NULL) 
{
  filterNULL(list(iconUrl = iconUrl, iconRetinaUrl = iconRetinaUrl, iconWidth = iconWidth, iconHeight = iconHeight, iconAnchorX = iconAnchorX, iconAnchorY = iconAnchorY, shadowUrl = shadowUrl, shadowRetinaUrl = shadowRetinaUrl, shadowWidth = shadowWidth, shadowHeight = shadowHeight, shadowAnchorX = shadowAnchorX, shadowAnchorY = shadowAnchorY, popupAnchorX = popupAnchorX, popupAnchorY = popupAnchorY, className = className))
}, function (iconUrl = NULL, iconRetinaUrl = NULL, iconWidth = NULL, iconHeight = NULL, iconAnchorX = NULL, iconAnchorY = NULL, shadowUrl = NULL, shadowRetinaUrl = NULL, shadowWidth = NULL, shadowHeight = NULL, shadowAnchorX = NULL, shadowAnchorY = NULL, popupAnchorX = NULL, popupAnchorY = NULL, className = NULL) 
{
  filterNULL(list(iconUrl = iconUrl, iconRetinaUrl = iconRetinaUrl, iconWidth = iconWidth, iconHeight = iconHeight, iconAnchorX = iconAnchorX, iconAnchorY = iconAnchorY, shadowUrl = shadowUrl, shadowRetinaUrl = shadowRetinaUrl, shadowWidth = shadowWidth, shadowHeight = shadowHeight, shadowAnchorX = shadowAnchorX, shadowAnchorY = shadowAnchorY, popupAnchorX = popupAnchorX, popupAnchorY = popupAnchorY, className = className))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
invokeMethod
list(`package:leaflet` = function (map, data, method, ...) 
{
  if (crosstalk::is.SharedData(data)) {
    map$dependencies <- c(map$dependencies, crosstalk::crosstalkLibs())
    data <- data$data()
  }
  else {
    NULL
  }
  args <- evalFormula(list(...), data)
  dispatch(map, method, leaflet = {
    x <- map$x$calls
    if (is.null(x)) 
      x <- list()
    n <- length(x)
    x[[n + 1]] <- list(method = method, args = args)
    map$x$calls <- x
    map
  }, leaflet_proxy = {
    invokeRemote(map, method, args)
    map
  })
}, function (map, data, method, ...) 
{
  if (crosstalk::is.SharedData(data)) {
    map$dependencies <- c(map$dependencies, crosstalk::crosstalkLibs())
    data <- data$data()
  }
  else {
    NULL
  }
  args <- evalFormula(list(...), data)
  dispatch(map, method, leaflet = {
    x <- map$x$calls
    if (is.null(x)) 
      x <- list()
    n <- length(x)
    x[[n + 1]] <- list(method = method, args = args)
    map$x$calls <- x
    map
  }, leaflet_proxy = {
    invokeRemote(map, method, args)
    map
  })
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
JS
list(`package:leaflet` = function (...) 
{
  x <- c(...)
  if (is.null(x)) 
    return()
  if (!is.character(x)) 
    stop("The arguments for JS() must be a character vector")
  x <- paste(x, collapse = "\n")
  structure(x, class = unique(c("JS_EVAL", oldClass(x))))
}, `package:htmlwidgets` = function (...) 
{
  x <- c(...)
  if (is.null(x)) 
    return()
  if (!is.character(x)) 
    stop("The arguments for JS() must be a character vector")
  x <- paste(x, collapse = "\n")
  structure(x, class = unique(c("JS_EVAL", oldClass(x))))
}, function (...) 
{
  x <- c(...)
  if (is.null(x)) 
    return()
  if (!is.character(x)) 
    stop("The arguments for JS() must be a character vector")
  x <- paste(x, collapse = "\n")
  structure(x, class = unique(c("JS_EVAL", oldClass(x))))
})
c("package:leaflet", "package:htmlwidgets", "namespace:htmlwidgets")
c(TRUE, TRUE, FALSE)
c(FALSE, TRUE, TRUE)
labelFormat
list(`package:leaflet` = function (prefix = "", suffix = "", between = " &ndash; ", digits = 3, big.mark = ",", transform = identity) 
{
  formatNum <- function(x) {
    format(round(transform(x), digits), trim = TRUE, scientific = FALSE, big.mark = big.mark)
  }
  function(type, ...) {
    switch(type, numeric = (function(cuts) {
      paste0(prefix, formatNum(cuts), suffix)
    })(...), bin = (function(cuts) {
      n <- length(cuts)
      paste0(prefix, formatNum(cuts[-n]), between, formatNum(cuts[-1]), suffix)
    })(...), quantile = (function(cuts, p) {
      n <- length(cuts)
      p <- paste0(round(p * 100), "%")
      cuts <- paste0(formatNum(cuts[-n]), between, formatNum(cuts[-1]))
      paste0("<span title=\"", cuts, "\">", prefix, p[-n], between, p[-1], suffix, "</span>")
    })(...), factor = (function(cuts) {
      paste0(prefix, as.character(transform(cuts)), suffix)
    })(...))
  }
}, function (prefix = "", suffix = "", between = " &ndash; ", digits = 3, big.mark = ",", transform = identity) 
{
  formatNum <- function(x) {
    format(round(transform(x), digits), trim = TRUE, scientific = FALSE, big.mark = big.mark)
  }
  function(type, ...) {
    switch(type, numeric = (function(cuts) {
      paste0(prefix, formatNum(cuts), suffix)
    })(...), bin = (function(cuts) {
      n <- length(cuts)
      paste0(prefix, formatNum(cuts[-n]), between, formatNum(cuts[-1]), suffix)
    })(...), quantile = (function(cuts, p) {
      n <- length(cuts)
      p <- paste0(round(p * 100), "%")
      cuts <- paste0(formatNum(cuts[-n]), between, formatNum(cuts[-1]))
      paste0("<span title=\"", cuts, "\">", prefix, p[-n], between, p[-1], suffix, "</span>")
    })(...), factor = (function(cuts) {
      paste0(prefix, as.character(transform(cuts)), suffix)
    })(...))
  }
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
labelOptions
list(`package:leaflet` = function (interactive = FALSE, clickable = NULL, noHide = NULL, permanent = FALSE, className = "", direction = "auto", offset = c(0, 0), opacity = 1, textsize = "10px", textOnly = FALSE, style = NULL, zoomAnimation = NULL, sticky = TRUE, ...) 
{
  if (!is.null(clickable) && interactive != clickable) 
    interactive <- clickable
  if (!is.null(noHide) && permanent != noHide) 
    permanent <- noHide
  if (!missing(zoomAnimation)) {
    zoomAnimationWarning()
  }
  filterNULL(list(interactive = interactive, permanent = permanent, direction = direction, opacity = opacity, offset = offset, textsize = textsize, textOnly = textOnly, style = style, className = className, sticky = sticky, ...))
}, function (interactive = FALSE, clickable = NULL, noHide = NULL, permanent = FALSE, className = "", direction = "auto", offset = c(0, 0), opacity = 1, textsize = "10px", textOnly = FALSE, style = NULL, zoomAnimation = NULL, sticky = TRUE, ...) 
{
  if (!is.null(clickable) && interactive != clickable) 
    interactive <- clickable
  if (!is.null(noHide) && permanent != noHide) 
    permanent <- noHide
  if (!missing(zoomAnimation)) {
    zoomAnimationWarning()
  }
  filterNULL(list(interactive = interactive, permanent = permanent, direction = direction, opacity = opacity, offset = offset, textsize = textsize, textOnly = textOnly, style = style, className = className, sticky = sticky, ...))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
layersControlOptions
list(`package:leaflet` = function (collapsed = TRUE, autoZIndex = TRUE, ...) 
{
  filterNULL(list(collapsed = collapsed, autoZIndex = autoZIndex, ...))
}, function (collapsed = TRUE, autoZIndex = TRUE, ...) 
{
  filterNULL(list(collapsed = collapsed, autoZIndex = autoZIndex, ...))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
leaflet
list(`package:leaflet` = function (data = NULL, width = NULL, height = NULL, padding = 0, options = leafletOptions(), elementId = NULL, sizingPolicy = leafletSizingPolicy(padding = padding)) 
{
  if (!is.null(options[["crs"]]) && !inherits(options[["crs"]], "leaflet_crs")) {
    stop("CRS in mapOptions should be a return value of leafletCRS() function")
  }
  map <- htmlwidgets::createWidget("leaflet", structure(list(options = options), leafletData = data), width = width, height = height, sizingPolicy = sizingPolicy, preRenderHook = function(widget) {
    if (!is.null(widget$jsHooks$render)) {
      widget$jsHooks$render <- lapply(widget$jsHooks$render, function(hook) {
        if (is.list(hook)) {
          hook$code <- sprintf(hookWrapperTemplate, paste(hook$code, collapse = "\n"))
        }
        else if (is.character(hook)) {
          hook <- sprintf(hookWrapperTemplate, paste(hook, collapse = "\n"))
        }
        else {
          stop("Unknown hook class ", class(hook))
        }
        hook
      })
    }
    widget
  }, elementId = elementId)
  if (crosstalk::is.SharedData(data)) {
    map <- addSelect(map)
  }
  map
}, function (data = NULL, width = NULL, height = NULL, padding = 0, options = leafletOptions(), elementId = NULL, sizingPolicy = leafletSizingPolicy(padding = padding)) 
{
  if (!is.null(options[["crs"]]) && !inherits(options[["crs"]], "leaflet_crs")) {
    stop("CRS in mapOptions should be a return value of leafletCRS() function")
  }
  map <- htmlwidgets::createWidget("leaflet", structure(list(options = options), leafletData = data), width = width, height = height, sizingPolicy = sizingPolicy, preRenderHook = function(widget) {
    if (!is.null(widget$jsHooks$render)) {
      widget$jsHooks$render <- lapply(widget$jsHooks$render, function(hook) {
        if (is.list(hook)) {
          hook$code <- sprintf(hookWrapperTemplate, paste(hook$code, collapse = "\n"))
        }
        else if (is.character(hook)) {
          hook <- sprintf(hookWrapperTemplate, paste(hook, collapse = "\n"))
        }
        else {
          stop("Unknown hook class ", class(hook))
        }
        hook
      })
    }
    widget
  }, elementId = elementId)
  if (crosstalk::is.SharedData(data)) {
    map <- addSelect(map)
  }
  map
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
leafletCRS
list(`package:leaflet` = function (crsClass = "L.CRS.EPSG3857", code = NULL, proj4def = NULL, projectedBounds = NULL, origin = NULL, transformation = NULL, scales = NULL, resolutions = NULL, bounds = NULL, tileSize = NULL) 
{
  if (!missing(projectedBounds)) {
    warning("projectedBounds argument is deprecated and has no effect, use the bounds argument.")
  }
  if (!missing(tileSize)) {
    warning("tileSize argument is deprecated and has no effect, use the tileOptions() function to pass the tileSize argument to the addTiles() function")
  }
  if (crsClass == "L.Proj.CRS.TMS") {
    warning("L.Proj.CRS.TMS is deprecated and will behave exactly like L.Proj.CRS.")
  }
  if (!crsClass %in% crsClasses) {
    stop(sprintf("crsClass argument must be one of %s", paste0(crsClasses, collapse = ", ")))
  }
  if (crsClass %in% c("L.Proj.CRS", "L.Proj.CRS.TMS") && !is.null(scales) && !is.null(resolutions)) {
    stop(sprintf("Either specify scales or resolutions"))
  }
  if (crsClass %in% c("L.Proj.CRS", "L.Proj.CRS.TMS") && is.null(scales) && is.null(resolutions)) {
    stop(sprintf("Specify either scales or resolutions, not both"))
  }
  structure(list(crsClass = crsClass, code = code, proj4def = proj4def, projectedBounds = projectedBounds, options = filterNULL(list(origin = origin, transformation = transformation, scales = scales, resolutions = resolutions, bounds = bounds, tileSize = tileSize))), class = "leaflet_crs")
}, function (crsClass = "L.CRS.EPSG3857", code = NULL, proj4def = NULL, projectedBounds = NULL, origin = NULL, transformation = NULL, scales = NULL, resolutions = NULL, bounds = NULL, tileSize = NULL) 
{
  if (!missing(projectedBounds)) {
    warning("projectedBounds argument is deprecated and has no effect, use the bounds argument.")
  }
  if (!missing(tileSize)) {
    warning("tileSize argument is deprecated and has no effect, use the tileOptions() function to pass the tileSize argument to the addTiles() function")
  }
  if (crsClass == "L.Proj.CRS.TMS") {
    warning("L.Proj.CRS.TMS is deprecated and will behave exactly like L.Proj.CRS.")
  }
  if (!crsClass %in% crsClasses) {
    stop(sprintf("crsClass argument must be one of %s", paste0(crsClasses, collapse = ", ")))
  }
  if (crsClass %in% c("L.Proj.CRS", "L.Proj.CRS.TMS") && !is.null(scales) && !is.null(resolutions)) {
    stop(sprintf("Either specify scales or resolutions"))
  }
  if (crsClass %in% c("L.Proj.CRS", "L.Proj.CRS.TMS") && is.null(scales) && is.null(resolutions)) {
    stop(sprintf("Specify either scales or resolutions, not both"))
  }
  structure(list(crsClass = crsClass, code = code, proj4def = proj4def, projectedBounds = projectedBounds, options = filterNULL(list(origin = origin, transformation = transformation, scales = scales, resolutions = resolutions, bounds = bounds, tileSize = tileSize))), class = "leaflet_crs")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
leafletDependencies
list(`package:leaflet` = list(markerCluster = function () 
{
  markerClusterDependencies()
}, awesomeMarkers = function () 
{
  leafletAwesomeMarkersDependencies()
}, bootstrap = function () 
{
  leafletAmBootstrapDependencies()
}, fontawesome = function () 
{
  leafletAmFontAwesomeDependencies()
}, ionicon = function () 
{
  leafletAmIonIconDependencies()
}, omnivore = function () 
{
  leafletOmnivoreDependencies()
}, graticule = function () 
{
  leafletGraticuleDependencies()
}, simpleGraticule = function () 
{
  leafletSimpleGraticuleDependencies()
}, easyButton = function () 
{
  leafletEasyButtonDependencies()
}, measure = function () 
{
  leafletMeasureDependencies()
}, terminator = function () 
{
  leafletTerminatorDependencies()
}, minimap = function () 
{
  leafletMiniMapDependencies()
}, providers = function () 
{
  leafletProviderDependencies()
}), list(markerCluster = function () 
{
  markerClusterDependencies()
}, awesomeMarkers = function () 
{
  leafletAwesomeMarkersDependencies()
}, bootstrap = function () 
{
  leafletAmBootstrapDependencies()
}, fontawesome = function () 
{
  leafletAmFontAwesomeDependencies()
}, ionicon = function () 
{
  leafletAmIonIconDependencies()
}, omnivore = function () 
{
  leafletOmnivoreDependencies()
}, graticule = function () 
{
  leafletGraticuleDependencies()
}, simpleGraticule = function () 
{
  leafletSimpleGraticuleDependencies()
}, easyButton = function () 
{
  leafletEasyButtonDependencies()
}, measure = function () 
{
  leafletMeasureDependencies()
}, terminator = function () 
{
  leafletTerminatorDependencies()
}, minimap = function () 
{
  leafletMiniMapDependencies()
}, providers = function () 
{
  leafletProviderDependencies()
}))
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
leafletMap
list(`package:leaflet` = function (outputId, width, height, initialTileLayer = "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", initialTileLayerAttribution = NULL, options = NULL) 
{
  if (missing(initialTileLayer) && is.null(initialTileLayerAttribution)) 
    initialTileLayerAttribution <- paste("&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap</a>", "contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>")
  shiny::addResourcePath("leaflet-legacy", system_file("legacy/www", package = "leaflet"))
  if (is.numeric(width)) 
    width <- sprintf("%dpx", width)
  if (is.numeric(height)) 
    height <- sprintf("%dpx", height)
  htmltools::tagList(htmltools::singleton(htmltools::tags$head(htmltools::tags$link(rel = "stylesheet", type = "text/css", href = "leaflet-legacy/leaflet.css"), htmltools::tags$script(src = "leaflet-legacy/leaflet.js"), htmltools::tags$script(src = "leaflet-legacy/binding.js"))), htmltools::tags$div(id = outputId, class = "leaflet-map-output", style = sprintf("width: %s; height: %s", width, height), `data-initial-tile-layer` = initialTileLayer, `data-initial-tile-layer-attrib` = initialTileLayerAttribution, 
                                                                                                                                                                                                                                                                                                             htmltools::tags$script(type = "application/json", class = "leaflet-options", ifelse(is.null(options), "{}", RJSONIO::toJSON(options)))))
}, function (outputId, width, height, initialTileLayer = "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", initialTileLayerAttribution = NULL, options = NULL) 
{
  if (missing(initialTileLayer) && is.null(initialTileLayerAttribution)) 
    initialTileLayerAttribution <- paste("&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap</a>", "contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>")
  shiny::addResourcePath("leaflet-legacy", system_file("legacy/www", package = "leaflet"))
  if (is.numeric(width)) 
    width <- sprintf("%dpx", width)
  if (is.numeric(height)) 
    height <- sprintf("%dpx", height)
  htmltools::tagList(htmltools::singleton(htmltools::tags$head(htmltools::tags$link(rel = "stylesheet", type = "text/css", href = "leaflet-legacy/leaflet.css"), htmltools::tags$script(src = "leaflet-legacy/leaflet.js"), htmltools::tags$script(src = "leaflet-legacy/binding.js"))), htmltools::tags$div(id = outputId, class = "leaflet-map-output", style = sprintf("width: %s; height: %s", width, height), `data-initial-tile-layer` = initialTileLayer, `data-initial-tile-layer-attrib` = initialTileLayerAttribution, 
                                                                                                                                                                                                                                                                                                             htmltools::tags$script(type = "application/json", class = "leaflet-options", ifelse(is.null(options), "{}", RJSONIO::toJSON(options)))))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
leafletOptions
list(`package:leaflet` = function (minZoom = NULL, maxZoom = NULL, crs = leafletCRS(), worldCopyJump = NULL, preferCanvas = NULL, ...) 
{
  filterNULL(list(minZoom = minZoom, maxZoom = maxZoom, crs = crs, worldCopyJump = worldCopyJump, preferCanvas = preferCanvas, ...))
}, function (minZoom = NULL, maxZoom = NULL, crs = leafletCRS(), worldCopyJump = NULL, preferCanvas = NULL, ...) 
{
  filterNULL(list(minZoom = minZoom, maxZoom = maxZoom, crs = crs, worldCopyJump = worldCopyJump, preferCanvas = preferCanvas, ...))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
leafletOutput
list(`package:leaflet` = function (outputId, width = "100%", height = 400) 
{
  htmlwidgets::shinyWidgetOutput(outputId, "leaflet", width, height, "leaflet")
}, function (outputId, width = "100%", height = 400) 
{
  htmlwidgets::shinyWidgetOutput(outputId, "leaflet", width, height, "leaflet")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
leafletProxy
list(`package:leaflet` = function (mapId, session = shiny::getDefaultReactiveDomain(), data = NULL, deferUntilFlush = TRUE) 
{
  if (is.null(session)) {
    stop("leafletProxy must be called from the server function of a Shiny app")
  }
  if (!is.null(session$ns) && nzchar(session$ns(NULL)) && substring(mapId, 1, nchar(session$ns(""))) != session$ns("")) {
    mapId <- session$ns(mapId)
  }
  structure(list(session = session, id = mapId, x = structure(list(), leafletData = data), deferUntilFlush = deferUntilFlush, dependencies = NULL), class = "leaflet_proxy")
}, function (mapId, session = shiny::getDefaultReactiveDomain(), data = NULL, deferUntilFlush = TRUE) 
{
  if (is.null(session)) {
    stop("leafletProxy must be called from the server function of a Shiny app")
  }
  if (!is.null(session$ns) && nzchar(session$ns(NULL)) && substring(mapId, 1, nchar(session$ns(""))) != session$ns("")) {
    mapId <- session$ns(mapId)
  }
  structure(list(session = session, id = mapId, x = structure(list(), leafletData = data), deferUntilFlush = deferUntilFlush, dependencies = NULL), class = "leaflet_proxy")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
leafletSizingPolicy
list(`package:leaflet` = function (defaultWidth = "100%", defaultHeight = 400, padding = 0, browser.fill = TRUE, ...) 
{
  htmlwidgets::sizingPolicy(defaultWidth = defaultWidth, defaultHeight = defaultHeight, padding = padding, browser.fill = browser.fill, ...)
}, function (defaultWidth = "100%", defaultHeight = 400, padding = 0, browser.fill = TRUE, ...) 
{
  htmlwidgets::sizingPolicy(defaultWidth = defaultWidth, defaultHeight = defaultHeight, padding = padding, browser.fill = browser.fill, ...)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
makeAwesomeIcon
list(`package:leaflet` = function (icon = "home", library = "glyphicon", markerColor = "blue", iconColor = "white", spin = FALSE, extraClasses = NULL, squareMarker = FALSE, iconRotate = 0, fontFamily = "monospace", text = NULL) 
{
  if (!inherits(library, "formula")) {
    verifyIconLibrary(library)
  }
  icon <- filterNULL(list(icon = icon, library = library, markerColor = markerColor, iconColor = iconColor, spin = spin, extraClasses = extraClasses, squareMarker = squareMarker, iconRotate = iconRotate, font = fontFamily, text = text))
  structure(icon, class = "leaflet_awesome_icon")
}, function (icon = "home", library = "glyphicon", markerColor = "blue", iconColor = "white", spin = FALSE, extraClasses = NULL, squareMarker = FALSE, iconRotate = 0, fontFamily = "monospace", text = NULL) 
{
  if (!inherits(library, "formula")) {
    verifyIconLibrary(library)
  }
  icon <- filterNULL(list(icon = icon, library = library, markerColor = markerColor, iconColor = iconColor, spin = spin, extraClasses = extraClasses, squareMarker = squareMarker, iconRotate = iconRotate, font = fontFamily, text = text))
  structure(icon, class = "leaflet_awesome_icon")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
makeIcon
list(`package:leaflet` = function (iconUrl = NULL, iconRetinaUrl = NULL, iconWidth = NULL, iconHeight = NULL, iconAnchorX = NULL, iconAnchorY = NULL, shadowUrl = NULL, shadowRetinaUrl = NULL, shadowWidth = NULL, shadowHeight = NULL, shadowAnchorX = NULL, shadowAnchorY = NULL, popupAnchorX = NULL, popupAnchorY = NULL, className = NULL) 
{
  icon <- filterNULL(list(iconUrl = iconUrl, iconRetinaUrl = iconRetinaUrl, iconWidth = iconWidth, iconHeight = iconHeight, iconAnchorX = iconAnchorX, iconAnchorY = iconAnchorY, shadowUrl = shadowUrl, shadowRetinaUrl = shadowRetinaUrl, shadowWidth = shadowWidth, shadowHeight = shadowHeight, shadowAnchorX = shadowAnchorX, shadowAnchorY = shadowAnchorY, popupAnchorX = popupAnchorX, popupAnchorY = popupAnchorY, className = className))
  structure(icon, class = "leaflet_icon")
}, function (iconUrl = NULL, iconRetinaUrl = NULL, iconWidth = NULL, iconHeight = NULL, iconAnchorX = NULL, iconAnchorY = NULL, shadowUrl = NULL, shadowRetinaUrl = NULL, shadowWidth = NULL, shadowHeight = NULL, shadowAnchorX = NULL, shadowAnchorY = NULL, popupAnchorX = NULL, popupAnchorY = NULL, className = NULL) 
{
  icon <- filterNULL(list(iconUrl = iconUrl, iconRetinaUrl = iconRetinaUrl, iconWidth = iconWidth, iconHeight = iconHeight, iconAnchorX = iconAnchorX, iconAnchorY = iconAnchorY, shadowUrl = shadowUrl, shadowRetinaUrl = shadowRetinaUrl, shadowWidth = shadowWidth, shadowHeight = shadowHeight, shadowAnchorX = shadowAnchorX, shadowAnchorY = shadowAnchorY, popupAnchorX = popupAnchorX, popupAnchorY = popupAnchorY, className = className))
  structure(icon, class = "leaflet_icon")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
mapOptions
list(`package:leaflet` = function (map, zoomToLimits = c("always", "first", "never")) 
{
  if (is.null(map$x$options)) 
    map$x$options <- list()
  zoomToLimits <- match.arg(zoomToLimits)
  map$x$options$zoomToLimits <- zoomToLimits
  map
}, function (map, zoomToLimits = c("always", "first", "never")) 
{
  if (is.null(map$x$options)) 
    map$x$options <- list()
  zoomToLimits <- match.arg(zoomToLimits)
  map$x$options$zoomToLimits <- zoomToLimits
  map
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
markerClusterOptions
list(`package:leaflet` = function (showCoverageOnHover = TRUE, zoomToBoundsOnClick = TRUE, spiderfyOnMaxZoom = TRUE, removeOutsideVisibleBounds = TRUE, spiderLegPolylineOptions = list(weight = 1.5, color = "#222", opacity = 0.5), freezeAtZoom = FALSE, ...) 
{
  filterNULL(list(showCoverageOnHover = showCoverageOnHover, zoomToBoundsOnClick = zoomToBoundsOnClick, spiderfyOnMaxZoom = spiderfyOnMaxZoom, removeOutsideVisibleBounds = removeOutsideVisibleBounds, spiderLegPolylineOptions = spiderLegPolylineOptions, freezeAtZoom = freezeAtZoom, ...))
}, function (showCoverageOnHover = TRUE, zoomToBoundsOnClick = TRUE, spiderfyOnMaxZoom = TRUE, removeOutsideVisibleBounds = TRUE, spiderLegPolylineOptions = list(weight = 1.5, color = "#222", opacity = 0.5), freezeAtZoom = FALSE, ...) 
{
  filterNULL(list(showCoverageOnHover = showCoverageOnHover, zoomToBoundsOnClick = zoomToBoundsOnClick, spiderfyOnMaxZoom = spiderfyOnMaxZoom, removeOutsideVisibleBounds = removeOutsideVisibleBounds, spiderLegPolylineOptions = spiderLegPolylineOptions, freezeAtZoom = freezeAtZoom, ...))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
markerOptions
list(`package:leaflet` = function (interactive = TRUE, clickable = NULL, draggable = FALSE, keyboard = TRUE, title = "", alt = "", zIndexOffset = 0, opacity = 1, riseOnHover = FALSE, riseOffset = 250, ...) 
{
  if (!is.null(clickable) && interactive != clickable) 
    interactive <- clickable
  filterNULL(list(interactive = interactive, draggable = draggable, keyboard = keyboard, title = title, alt = alt, zIndexOffset = zIndexOffset, opacity = opacity, riseOnHover = riseOnHover, riseOffset = riseOffset, ...))
}, function (interactive = TRUE, clickable = NULL, draggable = FALSE, keyboard = TRUE, title = "", alt = "", zIndexOffset = 0, opacity = 1, riseOnHover = FALSE, riseOffset = 250, ...) 
{
  if (!is.null(clickable) && interactive != clickable) 
    interactive <- clickable
  filterNULL(list(interactive = interactive, draggable = draggable, keyboard = keyboard, title = title, alt = alt, zIndexOffset = zIndexOffset, opacity = opacity, riseOnHover = riseOnHover, riseOffset = riseOffset, ...))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
pathOptions
list(`package:leaflet` = function (lineCap = NULL, lineJoin = NULL, clickable = NULL, interactive = TRUE, pointerEvents = NULL, className = "", ...) 
{
  if (!is.null(clickable) && interactive != clickable) 
    interactive <- clickable
  filterNULL(list(lineCap = lineCap, lineJoin = lineJoin, interactive = interactive, pointerEvents = pointerEvents, className = className, ...))
}, function (lineCap = NULL, lineJoin = NULL, clickable = NULL, interactive = TRUE, pointerEvents = NULL, className = "", ...) 
{
  if (!is.null(clickable) && interactive != clickable) 
    interactive <- clickable
  filterNULL(list(lineCap = lineCap, lineJoin = lineJoin, interactive = interactive, pointerEvents = pointerEvents, className = className, ...))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
popupOptions
list(`package:leaflet` = function (maxWidth = 300, minWidth = 50, maxHeight = NULL, autoPan = TRUE, keepInView = FALSE, closeButton = TRUE, zoomAnimation = NULL, closeOnClick = NULL, className = "", ...) 
{
  if (!missing(zoomAnimation)) {
    zoomAnimationWarning()
  }
  filterNULL(list(maxWidth = maxWidth, minWidth = minWidth, maxHeight = maxHeight, autoPan = autoPan, keepInView = keepInView, closeButton = closeButton, closeOnClick = closeOnClick, className = className, ...))
}, function (maxWidth = 300, minWidth = 50, maxHeight = NULL, autoPan = TRUE, keepInView = FALSE, closeButton = TRUE, zoomAnimation = NULL, closeOnClick = NULL, className = "", ...) 
{
  if (!missing(zoomAnimation)) {
    zoomAnimationWarning()
  }
  filterNULL(list(maxWidth = maxWidth, minWidth = minWidth, maxHeight = maxHeight, autoPan = autoPan, keepInView = keepInView, closeButton = closeButton, closeOnClick = closeOnClick, className = className, ...))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
previewColors
list(`package:leaflet` = function (pal, values) 
{
  heading <- htmltools::tags$code(deparse(substitute(pal)))
  subheading <- htmltools::tags$code(deparse(substitute(values)))
  htmltools::browsable(with(htmltools::tags, htmltools::tagList(head(style(type = "text/css", "table { border-spacing: 1px; }", "body { font-family: Helvetica; font-size: 13px; color: #444; }", ".swatch { width: 24px; height: 18px; }", ".value { padding-left: 6px; }", "h3 code { font-weight: normal; }")), h3("Colors:", heading, br(), "Values:", class = "subhead", subheading), table(mapply(pal(values), values, FUN = function(color, x) {
    htmltools::tagList(tr(td(class = "swatch", style = paste0("background-color:", color)), td(class = "value", format(x, digits = 5))))
  })))))
}, function (pal, values) 
{
  heading <- htmltools::tags$code(deparse(substitute(pal)))
  subheading <- htmltools::tags$code(deparse(substitute(values)))
  htmltools::browsable(with(htmltools::tags, htmltools::tagList(head(style(type = "text/css", "table { border-spacing: 1px; }", "body { font-family: Helvetica; font-size: 13px; color: #444; }", ".swatch { width: 24px; height: 18px; }", ".value { padding-left: 6px; }", "h3 code { font-weight: normal; }")), h3("Colors:", heading, br(), "Values:", class = "subhead", subheading), table(mapply(pal(values), values, FUN = function(color, x) {
    htmltools::tagList(tr(td(class = "swatch", style = paste0("background-color:", color)), td(class = "value", format(x, digits = 5))))
  })))))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
projectRasterForLeaflet
list(`package:leaflet` = function (x, method) 
{
  raster::projectRaster(x, raster::projectExtent(x, crs = sp::CRS(epsg3857)), method = method)
}, function (x, method) 
{
  raster::projectRaster(x, raster::projectExtent(x, crs = sp::CRS(epsg3857)), method = method)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
providers
list(`package:leaflet` = list(OpenStreetMap = "OpenStreetMap", OpenStreetMap.Mapnik = "OpenStreetMap.Mapnik", OpenStreetMap.DE = "OpenStreetMap.DE", OpenStreetMap.CH = "OpenStreetMap.CH", OpenStreetMap.France = "OpenStreetMap.France", OpenStreetMap.HOT = "OpenStreetMap.HOT", OpenStreetMap.BZH = "OpenStreetMap.BZH", OpenSeaMap = "OpenSeaMap", OpenPtMap = "OpenPtMap", OpenTopoMap = "OpenTopoMap", OpenRailwayMap = "OpenRailwayMap", OpenFireMap = "OpenFireMap", SafeCast = "SafeCast", Thunderforest = "Thunderforest", 
                              Thunderforest.OpenCycleMap = "Thunderforest.OpenCycleMap", Thunderforest.Transport = "Thunderforest.Transport", Thunderforest.TransportDark = "Thunderforest.TransportDark", Thunderforest.SpinalMap = "Thunderforest.SpinalMap", Thunderforest.Landscape = "Thunderforest.Landscape", Thunderforest.Outdoors = "Thunderforest.Outdoors", Thunderforest.Pioneer = "Thunderforest.Pioneer", Thunderforest.MobileAtlas = "Thunderforest.MobileAtlas", Thunderforest.Neighbourhood = "Thunderforest.Neighbourhood", 
                              OpenMapSurfer = "OpenMapSurfer", OpenMapSurfer.Roads = "OpenMapSurfer.Roads", OpenMapSurfer.Hybrid = "OpenMapSurfer.Hybrid", OpenMapSurfer.AdminBounds = "OpenMapSurfer.AdminBounds", OpenMapSurfer.ContourLines = "OpenMapSurfer.ContourLines", OpenMapSurfer.Hillshade = "OpenMapSurfer.Hillshade", OpenMapSurfer.ElementsAtRisk = "OpenMapSurfer.ElementsAtRisk", Hydda = "Hydda", Hydda.Full = "Hydda.Full", Hydda.Base = "Hydda.Base", Hydda.RoadsAndLabels = "Hydda.RoadsAndLabels", MapBox = "MapBox", Stamen = "Stamen", 
                              Stamen.Toner = "Stamen.Toner", Stamen.TonerBackground = "Stamen.TonerBackground", Stamen.TonerHybrid = "Stamen.TonerHybrid", Stamen.TonerLines = "Stamen.TonerLines", Stamen.TonerLabels = "Stamen.TonerLabels", Stamen.TonerLite = "Stamen.TonerLite", Stamen.Watercolor = "Stamen.Watercolor", Stamen.Terrain = "Stamen.Terrain", Stamen.TerrainBackground = "Stamen.TerrainBackground", Stamen.TerrainLabels = "Stamen.TerrainLabels", Stamen.TopOSMRelief = "Stamen.TopOSMRelief", Stamen.TopOSMFeatures = "Stamen.TopOSMFeatures", 
                              TomTom = "TomTom", TomTom.Basic = "TomTom.Basic", TomTom.Hybrid = "TomTom.Hybrid", TomTom.Labels = "TomTom.Labels", Esri = "Esri", Esri.WorldStreetMap = "Esri.WorldStreetMap", Esri.DeLorme = "Esri.DeLorme", Esri.WorldTopoMap = "Esri.WorldTopoMap", Esri.WorldImagery = "Esri.WorldImagery", Esri.WorldTerrain = "Esri.WorldTerrain", Esri.WorldShadedRelief = "Esri.WorldShadedRelief", Esri.WorldPhysical = "Esri.WorldPhysical", Esri.OceanBasemap = "Esri.OceanBasemap", Esri.NatGeoWorldMap = "Esri.NatGeoWorldMap", 
                              Esri.WorldGrayCanvas = "Esri.WorldGrayCanvas", OpenWeatherMap = "OpenWeatherMap", OpenWeatherMap.Clouds = "OpenWeatherMap.Clouds", OpenWeatherMap.CloudsClassic = "OpenWeatherMap.CloudsClassic", OpenWeatherMap.Precipitation = "OpenWeatherMap.Precipitation", OpenWeatherMap.PrecipitationClassic = "OpenWeatherMap.PrecipitationClassic", OpenWeatherMap.Rain = "OpenWeatherMap.Rain", OpenWeatherMap.RainClassic = "OpenWeatherMap.RainClassic", OpenWeatherMap.Pressure = "OpenWeatherMap.Pressure", OpenWeatherMap.PressureContour = "OpenWeatherMap.PressureContour", 
                              OpenWeatherMap.Wind = "OpenWeatherMap.Wind", OpenWeatherMap.Temperature = "OpenWeatherMap.Temperature", OpenWeatherMap.Snow = "OpenWeatherMap.Snow", HERE = "HERE", HERE.normalDay = "HERE.normalDay", HERE.normalDayCustom = "HERE.normalDayCustom", HERE.normalDayGrey = "HERE.normalDayGrey", HERE.normalDayMobile = "HERE.normalDayMobile", HERE.normalDayGreyMobile = "HERE.normalDayGreyMobile", HERE.normalDayTransit = "HERE.normalDayTransit", HERE.normalDayTransitMobile = "HERE.normalDayTransitMobile", 
                              HERE.normalDayTraffic = "HERE.normalDayTraffic", HERE.normalNight = "HERE.normalNight", HERE.normalNightMobile = "HERE.normalNightMobile", HERE.normalNightGrey = "HERE.normalNightGrey", HERE.normalNightGreyMobile = "HERE.normalNightGreyMobile", HERE.normalNightTransit = "HERE.normalNightTransit", HERE.normalNightTransitMobile = "HERE.normalNightTransitMobile", HERE.reducedDay = "HERE.reducedDay", HERE.reducedNight = "HERE.reducedNight", HERE.basicMap = "HERE.basicMap", HERE.mapLabels = "HERE.mapLabels", 
                              HERE.trafficFlow = "HERE.trafficFlow", HERE.carnavDayGrey = "HERE.carnavDayGrey", HERE.hybridDay = "HERE.hybridDay", HERE.hybridDayMobile = "HERE.hybridDayMobile", HERE.hybridDayTransit = "HERE.hybridDayTransit", HERE.hybridDayGrey = "HERE.hybridDayGrey", HERE.hybridDayTraffic = "HERE.hybridDayTraffic", HERE.pedestrianDay = "HERE.pedestrianDay", HERE.pedestrianNight = "HERE.pedestrianNight", HERE.satelliteDay = "HERE.satelliteDay", HERE.terrainDay = "HERE.terrainDay", HERE.terrainDayMobile = "HERE.terrainDayMobile", 
                              FreeMapSK = "FreeMapSK", MtbMap = "MtbMap", CartoDB = "CartoDB", CartoDB.Positron = "CartoDB.Positron", CartoDB.PositronNoLabels = "CartoDB.PositronNoLabels", CartoDB.PositronOnlyLabels = "CartoDB.PositronOnlyLabels", CartoDB.DarkMatter = "CartoDB.DarkMatter", CartoDB.DarkMatterNoLabels = "CartoDB.DarkMatterNoLabels", CartoDB.DarkMatterOnlyLabels = "CartoDB.DarkMatterOnlyLabels", CartoDB.Voyager = "CartoDB.Voyager", CartoDB.VoyagerNoLabels = "CartoDB.VoyagerNoLabels", CartoDB.VoyagerOnlyLabels = "CartoDB.VoyagerOnlyLabels", 
                              CartoDB.VoyagerLabelsUnder = "CartoDB.VoyagerLabelsUnder", HikeBike = "HikeBike", HikeBike.HikeBike = "HikeBike.HikeBike", HikeBike.HillShading = "HikeBike.HillShading", BasemapAT = "BasemapAT", BasemapAT.basemap = "BasemapAT.basemap", BasemapAT.grau = "BasemapAT.grau", BasemapAT.overlay = "BasemapAT.overlay", BasemapAT.highdpi = "BasemapAT.highdpi", BasemapAT.orthofoto = "BasemapAT.orthofoto", nlmaps = "nlmaps", nlmaps.standaard = "nlmaps.standaard", nlmaps.pastel = "nlmaps.pastel", nlmaps.grijs = "nlmaps.grijs", 
                              nlmaps.luchtfoto = "nlmaps.luchtfoto", NASAGIBS = "NASAGIBS", NASAGIBS.ModisTerraTrueColorCR = "NASAGIBS.ModisTerraTrueColorCR", NASAGIBS.ModisTerraBands367CR = "NASAGIBS.ModisTerraBands367CR", NASAGIBS.ViirsEarthAtNight2012 = "NASAGIBS.ViirsEarthAtNight2012", NASAGIBS.ModisTerraLSTDay = "NASAGIBS.ModisTerraLSTDay", NASAGIBS.ModisTerraSnowCover = "NASAGIBS.ModisTerraSnowCover", NASAGIBS.ModisTerraAOD = "NASAGIBS.ModisTerraAOD", NASAGIBS.ModisTerraChlorophyll = "NASAGIBS.ModisTerraChlorophyll", 
                              NLS = "NLS", JusticeMap = "JusticeMap", JusticeMap.income = "JusticeMap.income", JusticeMap.americanIndian = "JusticeMap.americanIndian", JusticeMap.asian = "JusticeMap.asian", JusticeMap.black = "JusticeMap.black", JusticeMap.hispanic = "JusticeMap.hispanic", JusticeMap.multi = "JusticeMap.multi", JusticeMap.nonWhite = "JusticeMap.nonWhite", JusticeMap.white = "JusticeMap.white", JusticeMap.plurality = "JusticeMap.plurality", Wikimedia = "Wikimedia", GeoportailFrance = "GeoportailFrance", GeoportailFrance.parcels = "GeoportailFrance.parcels", 
                              GeoportailFrance.ignMaps = "GeoportailFrance.ignMaps", GeoportailFrance.maps = "GeoportailFrance.maps", GeoportailFrance.orthos = "GeoportailFrance.orthos", OneMapSG = "OneMapSG", OneMapSG.Default = "OneMapSG.Default", OneMapSG.Night = "OneMapSG.Night", OneMapSG.Original = "OneMapSG.Original", OneMapSG.Grey = "OneMapSG.Grey", OneMapSG.LandLot = "OneMapSG.LandLot"), list(OpenStreetMap = "OpenStreetMap", OpenStreetMap.Mapnik = "OpenStreetMap.Mapnik", OpenStreetMap.DE = "OpenStreetMap.DE", OpenStreetMap.CH = "OpenStreetMap.CH", 
                                                                                                                                                                                                                                                                                                                                                                                                                   OpenStreetMap.France = "OpenStreetMap.France", OpenStreetMap.HOT = "OpenStreetMap.HOT", OpenStreetMap.BZH = "OpenStreetMap.BZH", OpenSeaMap = "OpenSeaMap", OpenPtMap = "OpenPtMap", OpenTopoMap = "OpenTopoMap", OpenRailwayMap = "OpenRailwayMap", OpenFireMap = "OpenFireMap", SafeCast = "SafeCast", Thunderforest = "Thunderforest", Thunderforest.OpenCycleMap = "Thunderforest.OpenCycleMap", Thunderforest.Transport = "Thunderforest.Transport", Thunderforest.TransportDark = "Thunderforest.TransportDark", 
                                                                                                                                                                                                                                                                                                                                                                                                                   Thunderforest.SpinalMap = "Thunderforest.SpinalMap", Thunderforest.Landscape = "Thunderforest.Landscape", Thunderforest.Outdoors = "Thunderforest.Outdoors", Thunderforest.Pioneer = "Thunderforest.Pioneer", Thunderforest.MobileAtlas = "Thunderforest.MobileAtlas", Thunderforest.Neighbourhood = "Thunderforest.Neighbourhood", OpenMapSurfer = "OpenMapSurfer", OpenMapSurfer.Roads = "OpenMapSurfer.Roads", OpenMapSurfer.Hybrid = "OpenMapSurfer.Hybrid", OpenMapSurfer.AdminBounds = "OpenMapSurfer.AdminBounds", 
                                                                                                                                                                                                                                                                                                                                                                                                                   OpenMapSurfer.ContourLines = "OpenMapSurfer.ContourLines", OpenMapSurfer.Hillshade = "OpenMapSurfer.Hillshade", OpenMapSurfer.ElementsAtRisk = "OpenMapSurfer.ElementsAtRisk", Hydda = "Hydda", Hydda.Full = "Hydda.Full", Hydda.Base = "Hydda.Base", Hydda.RoadsAndLabels = "Hydda.RoadsAndLabels", MapBox = "MapBox", Stamen = "Stamen", Stamen.Toner = "Stamen.Toner", Stamen.TonerBackground = "Stamen.TonerBackground", Stamen.TonerHybrid = "Stamen.TonerHybrid", Stamen.TonerLines = "Stamen.TonerLines", 
                                                                                                                                                                                                                                                                                                                                                                                                                   Stamen.TonerLabels = "Stamen.TonerLabels", Stamen.TonerLite = "Stamen.TonerLite", Stamen.Watercolor = "Stamen.Watercolor", Stamen.Terrain = "Stamen.Terrain", Stamen.TerrainBackground = "Stamen.TerrainBackground", Stamen.TerrainLabels = "Stamen.TerrainLabels", Stamen.TopOSMRelief = "Stamen.TopOSMRelief", Stamen.TopOSMFeatures = "Stamen.TopOSMFeatures", TomTom = "TomTom", TomTom.Basic = "TomTom.Basic", TomTom.Hybrid = "TomTom.Hybrid", TomTom.Labels = "TomTom.Labels", Esri = "Esri", Esri.WorldStreetMap = "Esri.WorldStreetMap", 
                                                                                                                                                                                                                                                                                                                                                                                                                   Esri.DeLorme = "Esri.DeLorme", Esri.WorldTopoMap = "Esri.WorldTopoMap", Esri.WorldImagery = "Esri.WorldImagery", Esri.WorldTerrain = "Esri.WorldTerrain", Esri.WorldShadedRelief = "Esri.WorldShadedRelief", Esri.WorldPhysical = "Esri.WorldPhysical", Esri.OceanBasemap = "Esri.OceanBasemap", Esri.NatGeoWorldMap = "Esri.NatGeoWorldMap", Esri.WorldGrayCanvas = "Esri.WorldGrayCanvas", OpenWeatherMap = "OpenWeatherMap", OpenWeatherMap.Clouds = "OpenWeatherMap.Clouds", OpenWeatherMap.CloudsClassic = "OpenWeatherMap.CloudsClassic", 
                                                                                                                                                                                                                                                                                                                                                                                                                   OpenWeatherMap.Precipitation = "OpenWeatherMap.Precipitation", OpenWeatherMap.PrecipitationClassic = "OpenWeatherMap.PrecipitationClassic", OpenWeatherMap.Rain = "OpenWeatherMap.Rain", OpenWeatherMap.RainClassic = "OpenWeatherMap.RainClassic", OpenWeatherMap.Pressure = "OpenWeatherMap.Pressure", OpenWeatherMap.PressureContour = "OpenWeatherMap.PressureContour", OpenWeatherMap.Wind = "OpenWeatherMap.Wind", OpenWeatherMap.Temperature = "OpenWeatherMap.Temperature", OpenWeatherMap.Snow = "OpenWeatherMap.Snow", 
                                                                                                                                                                                                                                                                                                                                                                                                                   HERE = "HERE", HERE.normalDay = "HERE.normalDay", HERE.normalDayCustom = "HERE.normalDayCustom", HERE.normalDayGrey = "HERE.normalDayGrey", HERE.normalDayMobile = "HERE.normalDayMobile", HERE.normalDayGreyMobile = "HERE.normalDayGreyMobile", HERE.normalDayTransit = "HERE.normalDayTransit", HERE.normalDayTransitMobile = "HERE.normalDayTransitMobile", HERE.normalDayTraffic = "HERE.normalDayTraffic", HERE.normalNight = "HERE.normalNight", HERE.normalNightMobile = "HERE.normalNightMobile", HERE.normalNightGrey = "HERE.normalNightGrey", 
                                                                                                                                                                                                                                                                                                                                                                                                                   HERE.normalNightGreyMobile = "HERE.normalNightGreyMobile", HERE.normalNightTransit = "HERE.normalNightTransit", HERE.normalNightTransitMobile = "HERE.normalNightTransitMobile", HERE.reducedDay = "HERE.reducedDay", HERE.reducedNight = "HERE.reducedNight", HERE.basicMap = "HERE.basicMap", HERE.mapLabels = "HERE.mapLabels", HERE.trafficFlow = "HERE.trafficFlow", HERE.carnavDayGrey = "HERE.carnavDayGrey", HERE.hybridDay = "HERE.hybridDay", HERE.hybridDayMobile = "HERE.hybridDayMobile", HERE.hybridDayTransit = "HERE.hybridDayTransit", 
                                                                                                                                                                                                                                                                                                                                                                                                                   HERE.hybridDayGrey = "HERE.hybridDayGrey", HERE.hybridDayTraffic = "HERE.hybridDayTraffic", HERE.pedestrianDay = "HERE.pedestrianDay", HERE.pedestrianNight = "HERE.pedestrianNight", HERE.satelliteDay = "HERE.satelliteDay", HERE.terrainDay = "HERE.terrainDay", HERE.terrainDayMobile = "HERE.terrainDayMobile", FreeMapSK = "FreeMapSK", MtbMap = "MtbMap", CartoDB = "CartoDB", CartoDB.Positron = "CartoDB.Positron", CartoDB.PositronNoLabels = "CartoDB.PositronNoLabels", CartoDB.PositronOnlyLabels = "CartoDB.PositronOnlyLabels", 
                                                                                                                                                                                                                                                                                                                                                                                                                   CartoDB.DarkMatter = "CartoDB.DarkMatter", CartoDB.DarkMatterNoLabels = "CartoDB.DarkMatterNoLabels", CartoDB.DarkMatterOnlyLabels = "CartoDB.DarkMatterOnlyLabels", CartoDB.Voyager = "CartoDB.Voyager", CartoDB.VoyagerNoLabels = "CartoDB.VoyagerNoLabels", CartoDB.VoyagerOnlyLabels = "CartoDB.VoyagerOnlyLabels", CartoDB.VoyagerLabelsUnder = "CartoDB.VoyagerLabelsUnder", HikeBike = "HikeBike", HikeBike.HikeBike = "HikeBike.HikeBike", HikeBike.HillShading = "HikeBike.HillShading", BasemapAT = "BasemapAT", 
                                                                                                                                                                                                                                                                                                                                                                                                                   BasemapAT.basemap = "BasemapAT.basemap", BasemapAT.grau = "BasemapAT.grau", BasemapAT.overlay = "BasemapAT.overlay", BasemapAT.highdpi = "BasemapAT.highdpi", BasemapAT.orthofoto = "BasemapAT.orthofoto", nlmaps = "nlmaps", nlmaps.standaard = "nlmaps.standaard", nlmaps.pastel = "nlmaps.pastel", nlmaps.grijs = "nlmaps.grijs", nlmaps.luchtfoto = "nlmaps.luchtfoto", NASAGIBS = "NASAGIBS", NASAGIBS.ModisTerraTrueColorCR = "NASAGIBS.ModisTerraTrueColorCR", NASAGIBS.ModisTerraBands367CR = "NASAGIBS.ModisTerraBands367CR", 
                                                                                                                                                                                                                                                                                                                                                                                                                   NASAGIBS.ViirsEarthAtNight2012 = "NASAGIBS.ViirsEarthAtNight2012", NASAGIBS.ModisTerraLSTDay = "NASAGIBS.ModisTerraLSTDay", NASAGIBS.ModisTerraSnowCover = "NASAGIBS.ModisTerraSnowCover", NASAGIBS.ModisTerraAOD = "NASAGIBS.ModisTerraAOD", NASAGIBS.ModisTerraChlorophyll = "NASAGIBS.ModisTerraChlorophyll", NLS = "NLS", JusticeMap = "JusticeMap", JusticeMap.income = "JusticeMap.income", JusticeMap.americanIndian = "JusticeMap.americanIndian", JusticeMap.asian = "JusticeMap.asian", JusticeMap.black = "JusticeMap.black", 
                                                                                                                                                                                                                                                                                                                                                                                                                   JusticeMap.hispanic = "JusticeMap.hispanic", JusticeMap.multi = "JusticeMap.multi", JusticeMap.nonWhite = "JusticeMap.nonWhite", JusticeMap.white = "JusticeMap.white", JusticeMap.plurality = "JusticeMap.plurality", Wikimedia = "Wikimedia", GeoportailFrance = "GeoportailFrance", GeoportailFrance.parcels = "GeoportailFrance.parcels", GeoportailFrance.ignMaps = "GeoportailFrance.ignMaps", GeoportailFrance.maps = "GeoportailFrance.maps", GeoportailFrance.orthos = "GeoportailFrance.orthos", OneMapSG = "OneMapSG", 
                                                                                                                                                                                                                                                                                                                                                                                                                   OneMapSG.Default = "OneMapSG.Default", OneMapSG.Night = "OneMapSG.Night", OneMapSG.Original = "OneMapSG.Original", OneMapSG.Grey = "OneMapSG.Grey", OneMapSG.LandLot = "OneMapSG.LandLot"))
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
providers.details
list(`package:leaflet` = list(OpenStreetMap = list(url = "//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", options = list(maxZoom = 19, attribution = "&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors"), variants = list(Mapnik = list(), DE = list(url = "//{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png", options = list(maxZoom = 18)), CH = list(url = "//tile.osm.ch/switzerland/{z}/{x}/{y}.png", options = list(maxZoom = 18, bounds = c(45, 48, 5, 11))), France = list(
  url = "//{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png", options = list(maxZoom = 20, attribution = "&copy; Openstreetmap France | {attribution.OpenStreetMap}")), HOT = list(url = "//{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png", options = list(attribution = "{attribution.OpenStreetMap}, Tiles style by <a href=\"https://www.hotosm.org/\" target=\"_blank\">Humanitarian OpenStreetMap Team</a> hosted by <a href=\"https://openstreetmap.fr/\" target=\"_blank\">OpenStreetMap France</a>")), BZH = list(
    url = "//tile.openstreetmap.bzh/br/{z}/{x}/{y}.png", options = list(attribution = "{attribution.OpenStreetMap}, Tiles courtesy of <a href=\"http://www.openstreetmap.bzh/\" target=\"_blank\">Breton OpenStreetMap Team</a>", bounds = c(46.2, 50, -5.5, 0.7))))), OpenSeaMap = list(url = "//tiles.openseamap.org/seamark/{z}/{x}/{y}.png", options = list(attribution = "Map data: &copy; <a href=\"http://www.openseamap.org\">OpenSeaMap</a> contributors")), OpenPtMap = list(url = "http://openptmap.org/tiles/{z}/{x}/{y}.png", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       options = list(maxZoom = 17, attribution = "Map data: &copy; <a href=\"http://www.openptmap.org\">OpenPtMap</a> contributors")), OpenTopoMap = list(url = "https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png", options = list(maxZoom = 17, attribution = "Map data: {attribution.OpenStreetMap}, <a href=\"http://viewfinderpanoramas.org\">SRTM</a> | Map style: &copy; <a href=\"https://opentopomap.org\">OpenTopoMap</a> (<a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">CC-BY-SA</a>)")), OpenRailwayMap = list(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         url = "https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png", options = list(maxZoom = 19, attribution = "Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href=\"https://www.OpenRailwayMap.org\">OpenRailwayMap</a> (<a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">CC-BY-SA</a>)")), OpenFireMap = list(url = "http://openfiremap.org/hytiles/{z}/{x}/{y}.png", options = list(maxZoom = 19, attribution = "Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href=\"http://www.openfiremap.org\">OpenFireMap</a> (<a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">CC-BY-SA</a>)")), 
  SafeCast = list(url = "//s3.amazonaws.com/te512.safecast.org/{z}/{x}/{y}.png", options = list(maxZoom = 16, attribution = "Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href=\"https://blog.safecast.org/about/\">SafeCast</a> (<a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">CC-BY-SA</a>)")), Thunderforest = list(url = "https://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}", options = list(attribution = "&copy; <a href=\"http://www.thunderforest.com/\">Thunderforest</a>, {attribution.OpenStreetMap}", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                          variant = "cycle", apikey = "<insert your api key here>", maxZoom = 22), variants = list(OpenCycleMap = "cycle", Transport = list(options = list(variant = "transport")), TransportDark = list(options = list(variant = "transport-dark")), SpinalMap = list(options = list(variant = "spinal-map")), Landscape = "landscape", Outdoors = "outdoors", Pioneer = "pioneer", MobileAtlas = "mobile-atlas", Neighbourhood = "neighbourhood")), OpenMapSurfer = list(url = "https://maps.heigit.org/openmapsurfer/tiles/{variant}/webmercator/{z}/{x}/{y}.png", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           options = list(maxZoom = 19, variant = "roads", attribution = "Imagery from <a href=\"http://giscience.uni-hd.de/\">GIScience Research Group @ University of Heidelberg</a> | Map data "), variants = list(Roads = list(options = list(variant = "roads", attribution = "{attribution.OpenMapSurfer}{attribution.OpenStreetMap}")), Hybrid = list(options = list(variant = "hybrid", attribution = "{attribution.OpenMapSurfer}{attribution.OpenStreetMap}")), AdminBounds = list(options = list(variant = "adminb", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            maxZoom = 18, attribution = "{attribution.OpenMapSurfer}{attribution.OpenStreetMap}")), ContourLines = list(options = list(variant = "asterc", maxZoom = 18, minZoom = 13, attribution = "{attribution.OpenMapSurfer} <a href=\"https://lpdaac.usgs.gov/products/aster_policies\">ASTER GDEM</a>")), Hillshade = list(options = list(variant = "asterh", maxZoom = 18, attribution = "{attribution.OpenMapSurfer} <a href=\"https://lpdaac.usgs.gov/products/aster_policies\">ASTER GDEM</a>, <a href=\"http://srtm.csi.cgiar.org/\">SRTM</a>")), 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ElementsAtRisk = list(options = list(variant = "elements_at_risk", attribution = "{attribution.OpenMapSurfer}{attribution.OpenStreetMap}")))), Hydda = list(url = "//{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png", options = list(maxZoom = 18, variant = "full", attribution = "Tiles courtesy of <a href=\"http://openstreetmap.se/\" target=\"_blank\">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}"), variants = list(Full = "full", Base = "base", RoadsAndLabels = "roads_and_labels")), 
  MapBox = list(url = "https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}{r}.png?access_token={accessToken}", options = list(attribution = "<a href=\"https://www.mapbox.com/about/maps/\" target=\"_blank\">&copy; Mapbox</a> {attribution.OpenStreetMap} <a href=\"https://www.mapbox.com/map-feedback/\" target=\"_blank\">Improve this map</a>", subdomains = "abcd", id = "mapbox.streets", accessToken = "<insert your access token here>")), Stamen = list(url = "//stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                options = list(attribution = "Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}", subdomains = "abcd", minZoom = 0, maxZoom = 20, variant = "toner", ext = "png"), variants = list(Toner = "toner", TonerBackground = "toner-background", TonerHybrid = "toner-hybrid", TonerLines = "toner-lines", TonerLabels = "toner-labels", TonerLite = "toner-lite", Watercolor = list(url = "//stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            options = list(variant = "watercolor", ext = "jpg", minZoom = 1, maxZoom = 16)), Terrain = list(options = list(variant = "terrain", minZoom = 0, maxZoom = 18)), TerrainBackground = list(options = list(variant = "terrain-background", minZoom = 0, maxZoom = 18)), TerrainLabels = list(options = list(variant = "terrain-labels", minZoom = 0, maxZoom = 18)), TopOSMRelief = list(url = "//stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}", options = list(variant = "toposm-color-relief", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           ext = "jpg", bounds = c(22, 51, -132, -56))), TopOSMFeatures = list(options = list(variant = "toposm-features", bounds = c(22, 51, -132, -56), opacity = 0.9)))), TomTom = list(url = "https://{s}.api.tomtom.com/map/1/tile/{variant}/{style}/{z}/{x}/{y}.{ext}?key={apikey}", options = list(variant = "basic", maxZoom = 22, attribution = "<a href=\"https://tomtom.com\" target=\"_blank\">&copy;  1992 - 2019 TomTom.</a> ", subdomains = "abcd", style = "main", ext = "png", apikey = "<insert your API key here>"), 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           variants = list(Basic = "basic", Hybrid = "hybrid", Labels = "labels")), Esri = list(url = "//server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}", options = list(variant = "World_Street_Map", attribution = "Tiles &copy; Esri"), variants = list(WorldStreetMap = list(options = list(attribution = "{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012")), DeLorme = list(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             options = list(variant = "Specialty/DeLorme_World_Base_Map", minZoom = 1, maxZoom = 11, attribution = "{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme")), WorldTopoMap = list(options = list(variant = "World_Topo_Map", attribution = "{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community")), WorldImagery = list(options = list(variant = "World_Imagery", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  attribution = "{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community")), WorldTerrain = list(options = list(variant = "World_Terrain_Base", maxZoom = 13, attribution = "{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS")), WorldShadedRelief = list(options = list(variant = "World_Shaded_Relief", maxZoom = 13, attribution = "{attribution.Esri} &mdash; Source: Esri")), WorldPhysical = list(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    options = list(variant = "World_Physical_Map", maxZoom = 8, attribution = "{attribution.Esri} &mdash; Source: US National Park Service")), OceanBasemap = list(options = list(variant = "Ocean_Basemap", maxZoom = 13, attribution = "{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri")), NatGeoWorldMap = list(options = list(variant = "NatGeo_World_Map", maxZoom = 16, attribution = "{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC")), 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             WorldGrayCanvas = list(options = list(variant = "Canvas/World_Light_Gray_Base", maxZoom = 16, attribution = "{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ")))), OpenWeatherMap = list(url = "http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}", options = list(maxZoom = 19, attribution = "Map data &copy; <a href=\"http://openweathermap.org\">OpenWeatherMap</a>", apiKey = "<insert your api key here>", opacity = 0.5), variants = list(Clouds = "clouds", CloudsClassic = "clouds_cls", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Precipitation = "precipitation", PrecipitationClassic = "precipitation_cls", Rain = "rain", RainClassic = "rain_cls", Pressure = "pressure", PressureContour = "pressure_cntr", Wind = "wind", Temperature = "temp", Snow = "snow")), HERE = list(url = "https://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}", options = list(attribution = "Map &copy; 1987-2019 <a href=\"http://developer.here.com\">HERE</a>", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                subdomains = "1234", mapID = "newest", app_id = "<insert your app_id here>", app_code = "<insert your app_code here>", base = "base", variant = "normal.day", maxZoom = 20, type = "maptile", language = "eng", format = "png8", size = "256"), variants = list(normalDay = "normal.day", normalDayCustom = "normal.day.custom", normalDayGrey = "normal.day.grey", normalDayMobile = "normal.day.mobile", normalDayGreyMobile = "normal.day.grey.mobile", normalDayTransit = "normal.day.transit", normalDayTransitMobile = "normal.day.transit.mobile", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                normalDayTraffic = list(options = list(variant = "normal.traffic.day", base = "traffic", type = "traffictile")), normalNight = "normal.night", normalNightMobile = "normal.night.mobile", normalNightGrey = "normal.night.grey", normalNightGreyMobile = "normal.night.grey.mobile", normalNightTransit = "normal.night.transit", normalNightTransitMobile = "normal.night.transit.mobile", reducedDay = "reduced.day", reducedNight = "reduced.night", basicMap = list(options = list(type = "basetile")), mapLabels = list(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  options = list(type = "labeltile", format = "png")), trafficFlow = list(options = list(base = "traffic", type = "flowtile")), carnavDayGrey = "carnav.day.grey", hybridDay = list(options = list(base = "aerial", variant = "hybrid.day")), hybridDayMobile = list(options = list(base = "aerial", variant = "hybrid.day.mobile")), hybridDayTransit = list(options = list(base = "aerial", variant = "hybrid.day.transit")), hybridDayGrey = list(options = list(base = "aerial", variant = "hybrid.grey.day")), 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                hybridDayTraffic = list(options = list(variant = "hybrid.traffic.day", base = "traffic", type = "traffictile")), pedestrianDay = "pedestrian.day", pedestrianNight = "pedestrian.night", satelliteDay = list(options = list(base = "aerial", variant = "satellite.day")), terrainDay = list(options = list(base = "aerial", variant = "terrain.day")), terrainDayMobile = list(options = list(base = "aerial", variant = "terrain.day.mobile")))), FreeMapSK = list(url = "http://t{s}.freemap.sk/T/{z}/{x}/{y}.jpeg", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    options = list(minZoom = 8, maxZoom = 16, subdomains = "1234", bounds = c(47.204642, 49.830896, 15.996093, 22.576904), attribution = "{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href=\"http://freemap.sk\">Freemap.sk</a>")), MtbMap = list(url = "http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png", options = list(attribution = "{attribution.OpenStreetMap} &amp; USGS")), CartoDB = list(url = "https://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}{r}.png", options = list(attribution = "{attribution.OpenStreetMap} &copy; <a href=\"https://carto.com/attributions\">CARTO</a>", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            subdomains = "abcd", maxZoom = 19, variant = "light_all"), variants = list(Positron = "light_all", PositronNoLabels = "light_nolabels", PositronOnlyLabels = "light_only_labels", DarkMatter = "dark_all", DarkMatterNoLabels = "dark_nolabels", DarkMatterOnlyLabels = "dark_only_labels", Voyager = "rastertiles/voyager", VoyagerNoLabels = "rastertiles/voyager_nolabels", VoyagerOnlyLabels = "rastertiles/voyager_only_labels", VoyagerLabelsUnder = "rastertiles/voyager_labels_under")), HikeBike = list(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              url = "https://tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png", options = list(maxZoom = 19, attribution = "{attribution.OpenStreetMap}", variant = "hikebike"), variants = list(HikeBike = list(), HillShading = list(options = list(maxZoom = 15, variant = "hillshading")))), BasemapAT = list(url = "//maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}", options = list(maxZoom = 19, attribution = "Datenquelle: <a href=\"https://www.basemap.at\">basemap.at</a>", subdomains = c("", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                "1", "2", "3", "4"), format = "png", bounds = c(46.35877, 49.037872, 8.782379, 17.189532), variant = "geolandbasemap"), variants = list(basemap = list(options = list(maxZoom = 20, variant = "geolandbasemap")), grau = "bmapgrau", overlay = "bmapoverlay", highdpi = list(options = list(variant = "bmaphidpi", format = "jpeg")), orthofoto = list(options = list(maxZoom = 20, variant = "bmaporthofoto30cm", format = "jpeg")))), nlmaps = list(url = "//geodata.nationaalgeoregister.nl/tiles/service/wmts/{variant}/EPSG:3857/{z}/{x}/{y}.png", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      options = list(minZoom = 6, maxZoom = 19, bounds = c(50.5, 54, 3.25, 7.6), attribution = "Kaartgegevens &copy; <a href=\"kadaster.nl\">Kadaster</a>"), variants = list(standaard = "brtachtergrondkaart", pastel = "brtachtergrondkaartpastel", grijs = "brtachtergrondkaartgrijs", luchtfoto = list(url = "//geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts/1.0.0/2016_ortho25/EPSG:3857/{z}/{x}/{y}.png"))), NASAGIBS = list(url = "https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{maxZoom}/{z}/{y}/{x}.{format}", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         options = list(attribution = "Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href=\"https://earthdata.nasa.gov\">ESDIS</a>) with funding provided by NASA/HQ.", bounds = c(-85.0511287776, 85.0511287776, -179.999999975, 179.999999975), minZoom = 1, maxZoom = 9, format = "jpg", time = "", tilematrixset = "GoogleMapsCompatible_Level"), variants = list(ModisTerraTrueColorCR = "MODIS_Terra_CorrectedReflectance_TrueColor", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             ModisTerraBands367CR = "MODIS_Terra_CorrectedReflectance_Bands367", ViirsEarthAtNight2012 = list(options = list(variant = "VIIRS_CityLights_2012", maxZoom = 8)), ModisTerraLSTDay = list(options = list(variant = "MODIS_Terra_Land_Surface_Temp_Day", format = "png", maxZoom = 7, opacity = 0.75)), ModisTerraSnowCover = list(options = list(variant = "MODIS_Terra_Snow_Cover", format = "png", maxZoom = 8, opacity = 0.75)), ModisTerraAOD = list(options = list(variant = "MODIS_Terra_Aerosol", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     format = "png", maxZoom = 6, opacity = 0.75)), ModisTerraChlorophyll = list(options = list(variant = "MODIS_Terra_Chlorophyll_A", format = "png", maxZoom = 7, opacity = 0.75)))), NLS = list(url = "//nls-{s}.tileserver.com/nls/{z}/{x}/{y}.jpg", options = list(attribution = "<a href=\"http://geo.nls.uk/maps/\">National Library of Scotland Historic Maps</a>", bounds = c(49.6, 61.7, -12, 3), minZoom = 1, maxZoom = 18, subdomains = "0123")), JusticeMap = list(url = "http://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.png", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                options = list(attribution = "<a href=\"http://www.justicemap.org/terms.php\">Justice Map</a>", size = "county", bounds = c(14, 72, -180, -56)), variants = list(income = "income", americanIndian = "indian", asian = "asian", black = "black", hispanic = "hispanic", multi = "multi", nonWhite = "nonwhite", white = "white", plurality = "plural")), Wikimedia = list(url = "https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}{r}.png", options = list(attribution = "<a href=\"https://wikimediafoundation.org/wiki/Maps_Terms_of_Use\">Wikimedia</a>", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         minZoom = 1, maxZoom = 19)), GeoportailFrance = list(url = "https://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET=PM&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}", options = list(attribution = "<a target=\"_blank\" href=\"https://www.geoportail.gouv.fr/\">Geoportail France</a>", bounds = c(-75, 81, -180, 180), minZoom = 2, maxZoom = 18, apikey = "choisirgeoportail", format = "image/jpeg", style = "normal", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   variant = "GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-EXPRESS.STANDARD"), variants = list(parcels = list(options = list(variant = "CADASTRALPARCELS.PARCELS", maxZoom = 20, style = "bdparcellaire", format = "image/png")), ignMaps = "GEOGRAPHICALGRIDSYSTEMS.MAPS", maps = "GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-EXPRESS.STANDARD", orthos = list(options = list(maxZoom = 19, variant = "ORTHOIMAGERY.ORTHOPHOTOS")))), OneMapSG = list(url = "//maps-{s}.onemap.sg/v3/{variant}/{z}/{x}/{y}.png", options = list(variant = "Default", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             minZoom = 11, maxZoom = 18, bounds = c(1.56073, 1.16, 104.11475, 103.502), attribution = "<img src=\"https://docs.onemap.sg/maps/images/oneMap64-01.png\" style=\"height:20px;width:20px;\"/> New OneMap | Map data &copy; contributors, <a href=\"http://SLA.gov.sg\">Singapore Land Authority</a>"), variants = list(Default = "Default", Night = "Night", Original = "Original", Grey = "Grey", LandLot = "LandLot"))), list(OpenStreetMap = list(url = "//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", options = list(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               maxZoom = 19, attribution = "&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors"), variants = list(Mapnik = list(), DE = list(url = "//{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png", options = list(maxZoom = 18)), CH = list(url = "//tile.osm.ch/switzerland/{z}/{x}/{y}.png", options = list(maxZoom = 18, bounds = c(45, 48, 5, 11))), France = list(url = "//{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png", options = list(maxZoom = 20, attribution = "&copy; Openstreetmap France | {attribution.OpenStreetMap}")), 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         HOT = list(url = "//{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png", options = list(attribution = "{attribution.OpenStreetMap}, Tiles style by <a href=\"https://www.hotosm.org/\" target=\"_blank\">Humanitarian OpenStreetMap Team</a> hosted by <a href=\"https://openstreetmap.fr/\" target=\"_blank\">OpenStreetMap France</a>")), BZH = list(url = "//tile.openstreetmap.bzh/br/{z}/{x}/{y}.png", options = list(attribution = "{attribution.OpenStreetMap}, Tiles courtesy of <a href=\"http://www.openstreetmap.bzh/\" target=\"_blank\">Breton OpenStreetMap Team</a>", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               bounds = c(46.2, 50, -5.5, 0.7))))), OpenSeaMap = list(url = "//tiles.openseamap.org/seamark/{z}/{x}/{y}.png", options = list(attribution = "Map data: &copy; <a href=\"http://www.openseamap.org\">OpenSeaMap</a> contributors")), OpenPtMap = list(url = "http://openptmap.org/tiles/{z}/{x}/{y}.png", options = list(maxZoom = 17, attribution = "Map data: &copy; <a href=\"http://www.openptmap.org\">OpenPtMap</a> contributors")), OpenTopoMap = list(url = "https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            options = list(maxZoom = 17, attribution = "Map data: {attribution.OpenStreetMap}, <a href=\"http://viewfinderpanoramas.org\">SRTM</a> | Map style: &copy; <a href=\"https://opentopomap.org\">OpenTopoMap</a> (<a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">CC-BY-SA</a>)")), OpenRailwayMap = list(url = "https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png", options = list(maxZoom = 19, attribution = "Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href=\"https://www.OpenRailwayMap.org\">OpenRailwayMap</a> (<a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">CC-BY-SA</a>)")), 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               OpenFireMap = list(url = "http://openfiremap.org/hytiles/{z}/{x}/{y}.png", options = list(maxZoom = 19, attribution = "Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href=\"http://www.openfiremap.org\">OpenFireMap</a> (<a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">CC-BY-SA</a>)")), SafeCast = list(url = "//s3.amazonaws.com/te512.safecast.org/{z}/{x}/{y}.png", options = list(maxZoom = 16, attribution = "Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href=\"https://blog.safecast.org/about/\">SafeCast</a> (<a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">CC-BY-SA</a>)")), 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Thunderforest = list(url = "https://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}", options = list(attribution = "&copy; <a href=\"http://www.thunderforest.com/\">Thunderforest</a>, {attribution.OpenStreetMap}", variant = "cycle", apikey = "<insert your api key here>", maxZoom = 22), variants = list(OpenCycleMap = "cycle", Transport = list(options = list(variant = "transport")), TransportDark = list(options = list(variant = "transport-dark")), SpinalMap = list(options = list(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 variant = "spinal-map")), Landscape = "landscape", Outdoors = "outdoors", Pioneer = "pioneer", MobileAtlas = "mobile-atlas", Neighbourhood = "neighbourhood")), OpenMapSurfer = list(url = "https://maps.heigit.org/openmapsurfer/tiles/{variant}/webmercator/{z}/{x}/{y}.png", options = list(maxZoom = 19, variant = "roads", attribution = "Imagery from <a href=\"http://giscience.uni-hd.de/\">GIScience Research Group @ University of Heidelberg</a> | Map data "), variants = list(Roads = list(options = list(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   variant = "roads", attribution = "{attribution.OpenMapSurfer}{attribution.OpenStreetMap}")), Hybrid = list(options = list(variant = "hybrid", attribution = "{attribution.OpenMapSurfer}{attribution.OpenStreetMap}")), AdminBounds = list(options = list(variant = "adminb", maxZoom = 18, attribution = "{attribution.OpenMapSurfer}{attribution.OpenStreetMap}")), ContourLines = list(options = list(variant = "asterc", maxZoom = 18, minZoom = 13, attribution = "{attribution.OpenMapSurfer} <a href=\"https://lpdaac.usgs.gov/products/aster_policies\">ASTER GDEM</a>")), 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Hillshade = list(options = list(variant = "asterh", maxZoom = 18, attribution = "{attribution.OpenMapSurfer} <a href=\"https://lpdaac.usgs.gov/products/aster_policies\">ASTER GDEM</a>, <a href=\"http://srtm.csi.cgiar.org/\">SRTM</a>")), ElementsAtRisk = list(options = list(variant = "elements_at_risk", attribution = "{attribution.OpenMapSurfer}{attribution.OpenStreetMap}")))), Hydda = list(url = "//{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png", options = list(maxZoom = 18, variant = "full", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                attribution = "Tiles courtesy of <a href=\"http://openstreetmap.se/\" target=\"_blank\">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}"), variants = list(Full = "full", Base = "base", RoadsAndLabels = "roads_and_labels")), MapBox = list(url = "https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}{r}.png?access_token={accessToken}", options = list(attribution = "<a href=\"https://www.mapbox.com/about/maps/\" target=\"_blank\">&copy; Mapbox</a> {attribution.OpenStreetMap} <a href=\"https://www.mapbox.com/map-feedback/\" target=\"_blank\">Improve this map</a>", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               subdomains = "abcd", id = "mapbox.streets", accessToken = "<insert your access token here>")), Stamen = list(url = "//stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}", options = list(attribution = "Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}", subdomains = "abcd", minZoom = 0, maxZoom = 20, variant = "toner", ext = "png"), variants = list(Toner = "toner", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         TonerBackground = "toner-background", TonerHybrid = "toner-hybrid", TonerLines = "toner-lines", TonerLabels = "toner-labels", TonerLite = "toner-lite", Watercolor = list(url = "//stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}", options = list(variant = "watercolor", ext = "jpg", minZoom = 1, maxZoom = 16)), Terrain = list(options = list(variant = "terrain", minZoom = 0, maxZoom = 18)), TerrainBackground = list(options = list(variant = "terrain-background", minZoom = 0, maxZoom = 18)), 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         TerrainLabels = list(options = list(variant = "terrain-labels", minZoom = 0, maxZoom = 18)), TopOSMRelief = list(url = "//stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}", options = list(variant = "toposm-color-relief", ext = "jpg", bounds = c(22, 51, -132, -56))), TopOSMFeatures = list(options = list(variant = "toposm-features", bounds = c(22, 51, -132, -56), opacity = 0.9)))), TomTom = list(url = "https://{s}.api.tomtom.com/map/1/tile/{variant}/{style}/{z}/{x}/{y}.{ext}?key={apikey}", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   options = list(variant = "basic", maxZoom = 22, attribution = "<a href=\"https://tomtom.com\" target=\"_blank\">&copy;  1992 - 2019 TomTom.</a> ", subdomains = "abcd", style = "main", ext = "png", apikey = "<insert your API key here>"), variants = list(Basic = "basic", Hybrid = "hybrid", Labels = "labels")), Esri = list(url = "//server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}", options = list(variant = "World_Street_Map", attribution = "Tiles &copy; Esri"), 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     variants = list(WorldStreetMap = list(options = list(attribution = "{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012")), DeLorme = list(options = list(variant = "Specialty/DeLorme_World_Base_Map", minZoom = 1, maxZoom = 11, attribution = "{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme")), WorldTopoMap = list(options = list(variant = "World_Topo_Map", attribution = "{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community")), 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     WorldImagery = list(options = list(variant = "World_Imagery", attribution = "{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community")), WorldTerrain = list(options = list(variant = "World_Terrain_Base", maxZoom = 13, attribution = "{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS")), WorldShadedRelief = list(options = list(variant = "World_Shaded_Relief", maxZoom = 13, attribution = "{attribution.Esri} &mdash; Source: Esri")), 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     WorldPhysical = list(options = list(variant = "World_Physical_Map", maxZoom = 8, attribution = "{attribution.Esri} &mdash; Source: US National Park Service")), OceanBasemap = list(options = list(variant = "Ocean_Basemap", maxZoom = 13, attribution = "{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri")), NatGeoWorldMap = list(options = list(variant = "NatGeo_World_Map", maxZoom = 16, attribution = "{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC")), 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     WorldGrayCanvas = list(options = list(variant = "Canvas/World_Light_Gray_Base", maxZoom = 16, attribution = "{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ")))), OpenWeatherMap = list(url = "http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}", options = list(maxZoom = 19, attribution = "Map data &copy; <a href=\"http://openweathermap.org\">OpenWeatherMap</a>", apiKey = "<insert your api key here>", opacity = 0.5), variants = list(Clouds = "clouds", CloudsClassic = "clouds_cls", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Precipitation = "precipitation", PrecipitationClassic = "precipitation_cls", Rain = "rain", RainClassic = "rain_cls", Pressure = "pressure", PressureContour = "pressure_cntr", Wind = "wind", Temperature = "temp", Snow = "snow")), HERE = list(url = "https://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}", options = list(attribution = "Map &copy; 1987-2019 <a href=\"http://developer.here.com\">HERE</a>", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        subdomains = "1234", mapID = "newest", app_id = "<insert your app_id here>", app_code = "<insert your app_code here>", base = "base", variant = "normal.day", maxZoom = 20, type = "maptile", language = "eng", format = "png8", size = "256"), variants = list(normalDay = "normal.day", normalDayCustom = "normal.day.custom", normalDayGrey = "normal.day.grey", normalDayMobile = "normal.day.mobile", normalDayGreyMobile = "normal.day.grey.mobile", normalDayTransit = "normal.day.transit", normalDayTransitMobile = "normal.day.transit.mobile", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        normalDayTraffic = list(options = list(variant = "normal.traffic.day", base = "traffic", type = "traffictile")), normalNight = "normal.night", normalNightMobile = "normal.night.mobile", normalNightGrey = "normal.night.grey", normalNightGreyMobile = "normal.night.grey.mobile", normalNightTransit = "normal.night.transit", normalNightTransitMobile = "normal.night.transit.mobile", reducedDay = "reduced.day", reducedNight = "reduced.night", basicMap = list(options = list(type = "basetile")), mapLabels = list(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          options = list(type = "labeltile", format = "png")), trafficFlow = list(options = list(base = "traffic", type = "flowtile")), carnavDayGrey = "carnav.day.grey", hybridDay = list(options = list(base = "aerial", variant = "hybrid.day")), hybridDayMobile = list(options = list(base = "aerial", variant = "hybrid.day.mobile")), hybridDayTransit = list(options = list(base = "aerial", variant = "hybrid.day.transit")), hybridDayGrey = list(options = list(base = "aerial", variant = "hybrid.grey.day")), 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        hybridDayTraffic = list(options = list(variant = "hybrid.traffic.day", base = "traffic", type = "traffictile")), pedestrianDay = "pedestrian.day", pedestrianNight = "pedestrian.night", satelliteDay = list(options = list(base = "aerial", variant = "satellite.day")), terrainDay = list(options = list(base = "aerial", variant = "terrain.day")), terrainDayMobile = list(options = list(base = "aerial", variant = "terrain.day.mobile")))), FreeMapSK = list(url = "http://t{s}.freemap.sk/T/{z}/{x}/{y}.jpeg", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            options = list(minZoom = 8, maxZoom = 16, subdomains = "1234", bounds = c(47.204642, 49.830896, 15.996093, 22.576904), attribution = "{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href=\"http://freemap.sk\">Freemap.sk</a>")), MtbMap = list(url = "http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png", options = list(attribution = "{attribution.OpenStreetMap} &amp; USGS")), CartoDB = list(url = "https://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}{r}.png", options = list(attribution = "{attribution.OpenStreetMap} &copy; <a href=\"https://carto.com/attributions\">CARTO</a>", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    subdomains = "abcd", maxZoom = 19, variant = "light_all"), variants = list(Positron = "light_all", PositronNoLabels = "light_nolabels", PositronOnlyLabels = "light_only_labels", DarkMatter = "dark_all", DarkMatterNoLabels = "dark_nolabels", DarkMatterOnlyLabels = "dark_only_labels", Voyager = "rastertiles/voyager", VoyagerNoLabels = "rastertiles/voyager_nolabels", VoyagerOnlyLabels = "rastertiles/voyager_only_labels", VoyagerLabelsUnder = "rastertiles/voyager_labels_under")), HikeBike = list(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      url = "https://tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png", options = list(maxZoom = 19, attribution = "{attribution.OpenStreetMap}", variant = "hikebike"), variants = list(HikeBike = list(), HillShading = list(options = list(maxZoom = 15, variant = "hillshading")))), BasemapAT = list(url = "//maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}", options = list(maxZoom = 19, attribution = "Datenquelle: <a href=\"https://www.basemap.at\">basemap.at</a>", subdomains = c("", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        "1", "2", "3", "4"), format = "png", bounds = c(46.35877, 49.037872, 8.782379, 17.189532), variant = "geolandbasemap"), variants = list(basemap = list(options = list(maxZoom = 20, variant = "geolandbasemap")), grau = "bmapgrau", overlay = "bmapoverlay", highdpi = list(options = list(variant = "bmaphidpi", format = "jpeg")), orthofoto = list(options = list(maxZoom = 20, variant = "bmaporthofoto30cm", format = "jpeg")))), nlmaps = list(url = "//geodata.nationaalgeoregister.nl/tiles/service/wmts/{variant}/EPSG:3857/{z}/{x}/{y}.png", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              options = list(minZoom = 6, maxZoom = 19, bounds = c(50.5, 54, 3.25, 7.6), attribution = "Kaartgegevens &copy; <a href=\"kadaster.nl\">Kadaster</a>"), variants = list(standaard = "brtachtergrondkaart", pastel = "brtachtergrondkaartpastel", grijs = "brtachtergrondkaartgrijs", luchtfoto = list(url = "//geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts/1.0.0/2016_ortho25/EPSG:3857/{z}/{x}/{y}.png"))), NASAGIBS = list(url = "https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{maxZoom}/{z}/{y}/{x}.{format}", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 options = list(attribution = "Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href=\"https://earthdata.nasa.gov\">ESDIS</a>) with funding provided by NASA/HQ.", bounds = c(-85.0511287776, 85.0511287776, -179.999999975, 179.999999975), minZoom = 1, maxZoom = 9, format = "jpg", time = "", tilematrixset = "GoogleMapsCompatible_Level"), variants = list(ModisTerraTrueColorCR = "MODIS_Terra_CorrectedReflectance_TrueColor", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     ModisTerraBands367CR = "MODIS_Terra_CorrectedReflectance_Bands367", ViirsEarthAtNight2012 = list(options = list(variant = "VIIRS_CityLights_2012", maxZoom = 8)), ModisTerraLSTDay = list(options = list(variant = "MODIS_Terra_Land_Surface_Temp_Day", format = "png", maxZoom = 7, opacity = 0.75)), ModisTerraSnowCover = list(options = list(variant = "MODIS_Terra_Snow_Cover", format = "png", maxZoom = 8, opacity = 0.75)), ModisTerraAOD = list(options = list(variant = "MODIS_Terra_Aerosol", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             format = "png", maxZoom = 6, opacity = 0.75)), ModisTerraChlorophyll = list(options = list(variant = "MODIS_Terra_Chlorophyll_A", format = "png", maxZoom = 7, opacity = 0.75)))), NLS = list(url = "//nls-{s}.tileserver.com/nls/{z}/{x}/{y}.jpg", options = list(attribution = "<a href=\"http://geo.nls.uk/maps/\">National Library of Scotland Historic Maps</a>", bounds = c(49.6, 61.7, -12, 3), minZoom = 1, maxZoom = 18, subdomains = "0123")), JusticeMap = list(url = "http://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.png", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        options = list(attribution = "<a href=\"http://www.justicemap.org/terms.php\">Justice Map</a>", size = "county", bounds = c(14, 72, -180, -56)), variants = list(income = "income", americanIndian = "indian", asian = "asian", black = "black", hispanic = "hispanic", multi = "multi", nonWhite = "nonwhite", white = "white", plurality = "plural")), Wikimedia = list(url = "https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}{r}.png", options = list(attribution = "<a href=\"https://wikimediafoundation.org/wiki/Maps_Terms_of_Use\">Wikimedia</a>", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 minZoom = 1, maxZoom = 19)), GeoportailFrance = list(url = "https://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET=PM&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}", options = list(attribution = "<a target=\"_blank\" href=\"https://www.geoportail.gouv.fr/\">Geoportail France</a>", bounds = c(-75, 81, -180, 180), minZoom = 2, maxZoom = 18, apikey = "choisirgeoportail", format = "image/jpeg", style = "normal", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           variant = "GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-EXPRESS.STANDARD"), variants = list(parcels = list(options = list(variant = "CADASTRALPARCELS.PARCELS", maxZoom = 20, style = "bdparcellaire", format = "image/png")), ignMaps = "GEOGRAPHICALGRIDSYSTEMS.MAPS", maps = "GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-EXPRESS.STANDARD", orthos = list(options = list(maxZoom = 19, variant = "ORTHOIMAGERY.ORTHOPHOTOS")))), OneMapSG = list(url = "//maps-{s}.onemap.sg/v3/{variant}/{z}/{x}/{y}.png", options = list(variant = "Default", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     minZoom = 11, maxZoom = 18, bounds = c(1.56073, 1.16, 104.11475, 103.502), attribution = "<img src=\"https://docs.onemap.sg/maps/images/oneMap64-01.png\" style=\"height:20px;width:20px;\"/> New OneMap | Map data &copy; contributors, <a href=\"http://SLA.gov.sg\">Singapore Land Authority</a>"), variants = list(Default = "Default", Night = "Night", Original = "Original", Grey = "Grey", LandLot = "LandLot"))))
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
providerTileOptions
list(`package:leaflet` = function (errorTileUrl = "", noWrap = FALSE, opacity = NULL, zIndex = NULL, updateWhenIdle = NULL, detectRetina = FALSE, ...) 
{
  opts <- filterNULL(list(errorTileUrl = errorTileUrl, noWrap = noWrap, opacity = opacity, zIndex = zIndex, updateWhenIdle = updateWhenIdle, detectRetina = detectRetina, ...))
  opts
}, function (errorTileUrl = "", noWrap = FALSE, opacity = NULL, zIndex = NULL, updateWhenIdle = NULL, detectRetina = FALSE, ...) 
{
  opts <- filterNULL(list(errorTileUrl = errorTileUrl, noWrap = noWrap, opacity = opacity, zIndex = zIndex, updateWhenIdle = updateWhenIdle, detectRetina = detectRetina, ...))
  opts
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
removeControl
list(`package:leaflet` = function (map, layerId) 
{
  invokeMethod(map, NULL, "removeControl", layerId)
}, function (map, layerId) 
{
  invokeMethod(map, NULL, "removeControl", layerId)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
removeGeoJSON
list(`package:leaflet` = function (map, layerId) 
{
  invokeMethod(map, getMapData(map), "removeGeoJSON", layerId)
}, function (map, layerId) 
{
  invokeMethod(map, getMapData(map), "removeGeoJSON", layerId)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
removeImage
list(`package:leaflet` = function (map, layerId) 
{
  invokeMethod(map, NULL, "removeImage", layerId)
}, function (map, layerId) 
{
  invokeMethod(map, NULL, "removeImage", layerId)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
removeLayersControl
list(`package:leaflet` = function (map) 
{
  invokeMethod(map, NULL, "removeLayersControl")
}, function (map) 
{
  invokeMethod(map, NULL, "removeLayersControl")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
removeMarker
list(`package:leaflet` = function (map, layerId) 
{
  invokeMethod(map, getMapData(map), "removeMarker", layerId)
}, function (map, layerId) 
{
  invokeMethod(map, getMapData(map), "removeMarker", layerId)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
removeMarkerCluster
list(`package:leaflet` = function (map, layerId) 
{
  invokeMethod(map, getMapData(map), "removeMarkerCluster", layerId)
}, function (map, layerId) 
{
  invokeMethod(map, getMapData(map), "removeMarkerCluster", layerId)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
removeMarkerFromCluster
list(`package:leaflet` = function (map, layerId, clusterId) 
{
  invokeMethod(map, getMapData(map), "removeMarkerFromCluster", layerId, clusterId)
}, function (map, layerId, clusterId) 
{
  invokeMethod(map, getMapData(map), "removeMarkerFromCluster", layerId, clusterId)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
removeMeasure
list(`package:leaflet` = function (map) 
{
  invokeMethod(map, getMapData(map), "removeMeasure")
}, function (map) 
{
  invokeMethod(map, getMapData(map), "removeMeasure")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
removePopup
list(`package:leaflet` = function (map, layerId) 
{
  invokeMethod(map, getMapData(map), "removePopup", layerId)
}, function (map, layerId) 
{
  invokeMethod(map, getMapData(map), "removePopup", layerId)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
removeScaleBar
list(`package:leaflet` = function (map) 
{
  invokeMethod(map, NULL, "removeScaleBar")
}, function (map) 
{
  invokeMethod(map, NULL, "removeScaleBar")
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
removeShape
list(`package:leaflet` = function (map, layerId) 
{
  invokeMethod(map, getMapData(map), "removeShape", layerId)
}, function (map, layerId) 
{
  invokeMethod(map, getMapData(map), "removeShape", layerId)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
removeTiles
list(`package:leaflet` = function (map, layerId) 
{
  invokeMethod(map, getMapData(map), "removeTiles", layerId)
}, function (map, layerId) 
{
  invokeMethod(map, getMapData(map), "removeTiles", layerId)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
removeTopoJSON
list(`package:leaflet` = function (map, layerId) 
{
  invokeMethod(map, getMapData(map), "removeTopoJSON", layerId)
}, function (map, layerId) 
{
  invokeMethod(map, getMapData(map), "removeTopoJSON", layerId)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
renderLeaflet
list(`package:leaflet` = function (expr, env = parent.frame(), quoted = FALSE) 
{
  if (!quoted) 
    expr <- substitute(expr)
  htmlwidgets::shinyRenderWidget(expr, leafletOutput, env, quoted = TRUE)
}, function (expr, env = parent.frame(), quoted = FALSE) 
{
  if (!quoted) 
    expr <- substitute(expr)
  htmlwidgets::shinyRenderWidget(expr, leafletOutput, env, quoted = TRUE)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
safeLabel
list(`package:leaflet` = function (label, data) 
{
  if (is.null(label)) {
    return(label)
  }
  label <- evalFormula(label, data)
  if (!(inherits(label, "html") || sum(sapply(label, function(x) {
    !inherits(x, "html")
  })) == 0)) {
    label <- htmltools::htmlEscape(label)
  }
  label
}, function (label, data) 
{
  if (is.null(label)) {
    return(label)
  }
  label <- evalFormula(label, data)
  if (!(inherits(label, "html") || sum(sapply(label, function(x) {
    !inherits(x, "html")
  })) == 0)) {
    label <- htmltools::htmlEscape(label)
  }
  label
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
scaleBarOptions
list(`package:leaflet` = function (maxWidth = 100, metric = TRUE, imperial = TRUE, updateWhenIdle = TRUE) 
{
  list(maxWidth = maxWidth, metric = metric, imperial = imperial, updateWhenIdle = updateWhenIdle)
}, function (maxWidth = 100, metric = TRUE, imperial = TRUE, updateWhenIdle = TRUE) 
{
  list(maxWidth = maxWidth, metric = metric, imperial = imperial, updateWhenIdle = updateWhenIdle)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
setMaxBounds
list(`package:leaflet` = function (map, lng1, lat1, lng2, lat2) 
{
  invokeMethod(map, getMapData(map), "setMaxBounds", lat1, lng1, lat2, lng2)
}, function (map, lng1, lat1, lng2, lat2) 
{
  invokeMethod(map, getMapData(map), "setMaxBounds", lat1, lng1, lat2, lng2)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
setView
list(`package:leaflet` = function (map, lng, lat, zoom, options = list()) 
{
  view <- evalFormula(list(c(lat, lng), zoom, options))
  dispatch(map, "setView", leaflet = {
    changeView(map, setView = view)
  }, leaflet_proxy = {
    invokeRemote(map, "setView", view)
    map
  })
}, function (map, lng, lat, zoom, options = list()) 
{
  view <- evalFormula(list(c(lat, lng), zoom, options))
  dispatch(map, "setView", leaflet = {
    changeView(map, setView = view)
  }, leaflet_proxy = {
    invokeRemote(map, "setView", view)
    map
  })
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
showGroup
list(`package:leaflet` = function (map, group) 
{
  invokeMethod(map, getMapData(map), "showGroup", group)
}, function (map, group) 
{
  invokeMethod(map, getMapData(map), "showGroup", group)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
tileOptions
list(`package:leaflet` = function (minZoom = 0, maxZoom = 18, maxNativeZoom = NULL, tileSize = 256, subdomains = "abc", errorTileUrl = "", tms = FALSE, noWrap = FALSE, zoomOffset = 0, zoomReverse = FALSE, opacity = 1, zIndex = 1, unloadInvisibleTiles = NULL, updateWhenIdle = NULL, detectRetina = FALSE, ...) 
{
  filterNULL(list(minZoom = minZoom, maxZoom = maxZoom, maxNativeZoom = maxNativeZoom, tileSize = tileSize, subdomains = subdomains, errorTileUrl = errorTileUrl, tms = tms, noWrap = noWrap, zoomOffset = zoomOffset, zoomReverse = zoomReverse, opacity = opacity, zIndex = zIndex, unloadInvisibleTiles = unloadInvisibleTiles, updateWhenIdle = updateWhenIdle, detectRetina = detectRetina, ...))
}, function (minZoom = 0, maxZoom = 18, maxNativeZoom = NULL, tileSize = 256, subdomains = "abc", errorTileUrl = "", tms = FALSE, noWrap = FALSE, zoomOffset = 0, zoomReverse = FALSE, opacity = 1, zIndex = 1, unloadInvisibleTiles = NULL, updateWhenIdle = NULL, detectRetina = FALSE, ...) 
{
  filterNULL(list(minZoom = minZoom, maxZoom = maxZoom, maxNativeZoom = maxNativeZoom, tileSize = tileSize, subdomains = subdomains, errorTileUrl = errorTileUrl, tms = tms, noWrap = noWrap, zoomOffset = zoomOffset, zoomReverse = zoomReverse, opacity = opacity, zIndex = zIndex, unloadInvisibleTiles = unloadInvisibleTiles, updateWhenIdle = updateWhenIdle, detectRetina = detectRetina, ...))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
validateCoords
list(`package:leaflet` = function (lng, lat, funcName, warn = TRUE, mode = c("point", "polygon")) 
{
  mode <- match.arg(mode)
  if (is.null(lng) && is.null(lat)) {
    stop(funcName, " requires non-NULL longitude/latitude values")
  }
  else if (is.null(lng)) {
    stop(funcName, " requires non-NULL longitude values")
  }
  else if (is.null(lat)) {
    stop(funcName, " requires non-NULL latitude values")
  }
  if (!is.numeric(lng) && !is.numeric(lat)) {
    stop(funcName, " requires numeric longitude/latitude values")
  }
  else if (!is.numeric(lng)) {
    stop(funcName, " requires numeric longitude values")
  }
  else if (!is.numeric(lat)) {
    stop(funcName, " requires numeric latitude values")
  }
  if (mode == "point") {
    incomplete <- is.na(lat) | is.na(lng)
    if (any(incomplete)) {
      warning(sprintf("Data contains %s rows with either missing or invalid lat/lon values and will be ignored", sum(incomplete)))
    }
  }
  else if (mode == "polygon") {
    incomplete <- is.na(lat) != is.na(lng)
    if (any(incomplete)) {
      warning(sprintf("Data contains %s rows with either missing or invalid lat/lon values and will be ignored", sum(incomplete)))
    }
    lng <- lng[!incomplete]
    lat <- lat[!incomplete]
  }
  data.frame(lng = lng, lat = lat)
}, function (lng, lat, funcName, warn = TRUE, mode = c("point", "polygon")) 
{
  mode <- match.arg(mode)
  if (is.null(lng) && is.null(lat)) {
    stop(funcName, " requires non-NULL longitude/latitude values")
  }
  else if (is.null(lng)) {
    stop(funcName, " requires non-NULL longitude values")
  }
  else if (is.null(lat)) {
    stop(funcName, " requires non-NULL latitude values")
  }
  if (!is.numeric(lng) && !is.numeric(lat)) {
    stop(funcName, " requires numeric longitude/latitude values")
  }
  else if (!is.numeric(lng)) {
    stop(funcName, " requires numeric longitude values")
  }
  else if (!is.numeric(lat)) {
    stop(funcName, " requires numeric latitude values")
  }
  if (mode == "point") {
    incomplete <- is.na(lat) | is.na(lng)
    if (any(incomplete)) {
      warning(sprintf("Data contains %s rows with either missing or invalid lat/lon values and will be ignored", sum(incomplete)))
    }
  }
  else if (mode == "polygon") {
    incomplete <- is.na(lat) != is.na(lng)
    if (any(incomplete)) {
      warning(sprintf("Data contains %s rows with either missing or invalid lat/lon values and will be ignored", sum(incomplete)))
    }
    lng <- lng[!incomplete]
    lat <- lat[!incomplete]
  }
  data.frame(lng = lng, lat = lat)
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)
WMSTileOptions
list(`package:leaflet` = function (styles = "", format = "image/jpeg", transparent = FALSE, version = "1.1.1", crs = NULL, ...) 
{
  filterNULL(list(styles = styles, format = format, transparent = transparent, version = version, crs = crs, ...))
}, function (styles = "", format = "image/jpeg", transparent = FALSE, version = "1.1.1", crs = NULL, ...) 
{
  filterNULL(list(styles = styles, format = format, transparent = transparent, version = version, crs = crs, ...))
})
c("package:leaflet", "namespace:leaflet")
c(TRUE, FALSE)
c(FALSE, TRUE)

